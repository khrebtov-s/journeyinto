{"version":3,"sources":["webpack:///./node_modules/querystringify/index.js","webpack:///./src/app/components/class-media-uploading/class-media-uploading.component.html","webpack:///./src/app/components/complete/complete.component.html","webpack:///./src/app/components/errors/errors.component.html","webpack:///./src/app/components/profile-image-edit/profile-image-edit.component.html","webpack:///./src/app/components/teacher-add-class-form/teacher-add-class-form.component.html","webpack:///./src/app/components/teacher-profile-form/teacher-profile-form.component.html","webpack:///./src/app/components/teacher-stripe-form/teacher-stripe-form.component.html","webpack:///./node_modules/requires-port/index.js","webpack:///./node_modules/tus-js-client/lib.esm/browser/fileReader.js","webpack:///./node_modules/tus-js-client/lib.esm/browser/fingerprint.js","webpack:///./node_modules/tus-js-client/lib.esm/browser/httpStack.js","webpack:///./node_modules/tus-js-client/lib.esm/browser/index.js","webpack:///./node_modules/tus-js-client/lib.esm/browser/isCordova.js","webpack:///./node_modules/tus-js-client/lib.esm/browser/isReactNative.js","webpack:///./node_modules/tus-js-client/lib.esm/browser/readAsByteArray.js","webpack:///./node_modules/tus-js-client/lib.esm/browser/uriToBlob.js","webpack:///./node_modules/tus-js-client/lib.esm/browser/urlStorage.js","webpack:///./node_modules/tus-js-client/lib.esm/error.js","webpack:///./node_modules/tus-js-client/lib.esm/logger.js","webpack:///./node_modules/tus-js-client/lib.esm/noopUrlStorage.js","webpack:///./node_modules/tus-js-client/lib.esm/upload.js","webpack:///./node_modules/tus-js-client/lib.esm/uuid.js","webpack:///./node_modules/tus-js-client/node_modules/js-base64/base64.js","webpack:///./node_modules/url-parse/index.js","webpack:///./src/app/components/class-media-uploading/class-media-uploading.component.scss","webpack:///./src/app/components/class-media-uploading/class-media-uploading.component.ts","webpack:///./src/app/components/class-media-uploading/class-media-uploading.module.ts","webpack:///./src/app/components/complete/complete.component.scss","webpack:///./src/app/components/complete/complete.component.ts","webpack:///./src/app/components/complete/complete.module.ts","webpack:///./src/app/components/errors/errors.component.scss","webpack:///./src/app/components/errors/errors.component.ts","webpack:///./src/app/components/errors/errors.module.ts","webpack:///./src/app/components/profile-image-edit/profile-image-edit.component.scss","webpack:///./src/app/components/profile-image-edit/profile-image-edit.component.ts","webpack:///./src/app/components/profile-image-edit/profile-image-edit.module.ts","webpack:///./src/app/components/teacher-add-class-form/teacher-add-class-form.component.scss","webpack:///./src/app/components/teacher-add-class-form/teacher-add-class-form.component.ts","webpack:///./src/app/components/teacher-add-class-form/teacher-add-class-form.module.ts","webpack:///./src/app/components/teacher-profile-form/teacher-profile-form.component.scss","webpack:///./src/app/components/teacher-profile-form/teacher-profile-form.component.ts","webpack:///./src/app/components/teacher-profile-form/teacher-profile-form.module.ts","webpack:///./src/app/components/teacher-stripe-form/teacher-stripe-form.component.scss","webpack:///./src/app/components/teacher-stripe-form/teacher-stripe-form.component.ts","webpack:///./src/app/components/teacher-stripe-form/teacher-stripe-form.module.ts","webpack:///./src/app/services/teacher/upload.service.ts","webpack:///./src/app/store/modules/onboarding/onboarding.selectors.ts"],"names":[],"mappings":";;;;;;;;;;AAAa;;AAEb;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrHA,2JAA2J,SAAS,qJAAqJ,sBAAsB,4RAA4R,gBAAgB,gDAAgD,gBAAgB,2NAA2N,kXAAkX,cAAc,mD;;;;;;;;;;;ACAtxC,mJAAmJ,SAAS,2DAA2D,eAAe,6PAA6P,kBAAkB,6I;;;;;;;;;;;ACArf,kG;;;;;;;;;;;ACAA,uTAAuT,sBAAsB,6LAA6L,UAAU,sgBAAsgB,wEAAwE,uM;;;;;;;;;;;ACAlmC,wIAAwI,UAAU,oOAAoO,4BAA4B,0EAA0E,aAAa,40CAA40C,yZAAyZ,qdAAqd,saAAsa,wiBAAwiB,WAAW,8C;;;;;;;;;;;ACA5nH,wIAAwI,UAAU,+WAA+W,+eAA+e,kvBAAkvB,gCAAgC,2FAA2F,iBAAiB,qIAAqI,2iBAA2iB,gaAAga,4ZAA4Z,ggBAAggB,ypBAAypB,2HAA2H,idAAid,2UAA2U,0EAA0E,quBAAquB,iJAAiJ,+OAA+O,WAAW,wJ;;;;;;;;;;;ACApkN,mFAAmF,WAAW,o6B;;;;;;;;;;;;ACAjF;;AAEb;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACrCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE;;AAE3T,6DAA6D,sEAAsE,8DAA8D,oBAAoB;;AAEzK;AACR;AACA;AACY;;AAEhD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,0DAAS;AACnB,eAAe,gEAAe;AAC9B;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA,6BAA6B;AAC7B;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;;AAEA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;;AAGP;;AAEA;AACA;AACA,OAAO;AACP;;;AAGA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA,UAAU,8DAAa;AACvB,eAAe,0DAAS;AACxB;AACA,SAAS;AACT;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;;;;;;;;;;;;;AChND;AAAA;AAAA;AAA4C;;AAE5C;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;;AAEe;AACf,MAAM,8DAAa;AACnB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,gBAAgB;AACjC;;AAEA;AACA,uBAAuB;AACvB;;AAEA;AACA,C;;;;;;;;;;;;ACvCA;AAAA;AAAA,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE;;AAE3T,6DAA6D,sEAAsE,8DAA8D,oBAAoB;;AAErN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAEkC;;AAEnC;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;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;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,cAAc,QAAQ;AACtB;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA,UAAU,mDAAG;AACb,SAAS;AACT,UAAU,mDAAG;AACb;;AAEA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,gCAAgC;AAChC;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,wHAAwH;AACxH;;AAEA,6FAA6F;;AAE7F,yDAAyD;AACzD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,uCAAuC;AACvC;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA,+DAA+D;;AAE/D;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,aAAa;;AAEb;AACA,2BAA2B;;AAE3B;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP,cAAc;AACd;;AAEA;AACA;AACA,8CAA8C,gDAAgD;;AAE9F;;AAEA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,QAAQ,mDAAG;;AAEX;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;;AAGA,4BAA4B;;AAE5B;AACA,QAAQ,mDAAG;;AAEX;;AAEA;AACA,OAAO;;;AAGP;AACA,QAAQ,mDAAG;AACX;;AAEA;;AAEA;AACA,OAAO;;;AAGP,MAAM,mDAAG;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB,QAAQ;AACxB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA,6FAA6F;AAC7F,OAAO;;;AAGP;AACA;AACA;AACA,SAAS;AACT,OAAO;;;AAGP;AACA;;AAEA;AACA;;AAEA,2BAA2B;;AAE3B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA,0BAA0B,8CAAa;AACvC;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,gCAAgC;;AAEhC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA,eAAe,OAAO;AACtB;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;;;AAGP;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,QAAQ,mDAAG;;AAEX;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;;AAGA;AACA,6EAA6E;;AAE7E;AACA;;AAEA;AACA;AACA;;AAEA;AACA,WAAW;;;AAGX;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;;;AAGA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,uEAAuE;AACvE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA,iGAAiG;AACjG;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,8CAAa;AAC/B,OAAO;AACP,6BAA6B,8CAAa;AAC1C,oBAAoB,8CAAa;AACjC;;AAEA;AACA;AACA,SAAS;AACT;AACA;;;AAGA;AACA;;AAEA,yCAAyC;AACzC;AACA,SAAS;;AAET;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT,OAAO;AACP;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;;AAEA;AACA,6BAA6B,gDAAM;AACnC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,oBAAoB,qDAAI;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,aAAa,gDAAG;AAChB;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;;AAEA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA,KAAK;AACL;;AAEA,uCAAuC;;AAEvC;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACe,yEAAU,E;;;;;;;;;;;;ACpkCzB;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACe;AACf;AACA;AACA;AACA;AACA,GAAG;AACH,C;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,IAAI,KAA4D;AAChE;AACA,UAAU,SACiC;AAC3C,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,OAAO;AAC9C;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,wBAAwB;AAC9C;AACA;AACA;AACA,iCAAiC,IAAI;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA,qCAAqC,OAAO;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,EAAE,wBAAwB,EAAE;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,wBAAwB;AAC9C,6BAA6B,IAAI;AACjC;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA,QAAQ,KAA6B;AACrC;AACA;AACA,aAAa,IAA0C;AACvD;AACA,QAAQ,iCAAO,EAAE,mCAAE,WAAW,uBAAuB;AAAA,oGAAC;AACtD;AACA;AACA,YAAY;AACZ,CAAC;;;;;;;;;;;;;ACrOY;;AAEb,eAAe,mBAAO,CAAC,4DAAe;AACtC,SAAS,mBAAO,CAAC,8DAAgB;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,cAAc;;AAEd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,yDAAyD;AACzD,GAAG;AACH,sCAAsC;AACtC;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,cAAc,OAAO;AACrB,cAAc,QAAQ;AACtB,cAAc,OAAO;AACrB;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB,WAAW,iBAAiB;AAC5B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,QAAQ,yBAAyB;AACjC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;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","file":"default~pages-onboarding-onboarding-module~pages-teacher-teacher-module.220b9897aa8e0e0bca92.js","sourcesContent":["'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , undef;\n\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String|Null} The decoded string.\n * @api private\n */\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Attempts to encode a given input.\n *\n * @param {String} input The string that needs to be encoded.\n * @returns {String|Null} The encoded string.\n * @api private\n */\nfunction encode(input) {\n  try {\n    return encodeURIComponent(input);\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?#&]+)=?([^&]*)/g\n    , result = {}\n    , part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1])\n      , value = decode(part[2]);\n\n    //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    // In the case if failed decoding, we want to omit the key/value pairs\n    // from the result.\n    //\n    if (key === null || value === null || key in result) continue;\n    result[key] = value;\n  }\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = []\n    , value\n    , key;\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (key in obj) {\n    if (has.call(obj, key)) {\n      value = obj[key];\n\n      //\n      // Edge cases where we actually want to encode the value to an empty\n      // string instead of the stringified value.\n      //\n      if (!value && (value === null || value === undef || isNaN(value))) {\n        value = '';\n      }\n\n      key = encode(key);\n      value = encode(value);\n\n      //\n      // If we failed to encode the strings, we should bail out as we don't\n      // want to add invalid strings to the query.\n      //\n      if (key === null || value === null) continue;\n      pairs.push(key +'='+ value);\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nexports.stringify = querystringify;\nexports.parse = querystring;\n","module.exports = \"<form [formGroup]=\\\"profileImageForm\\\" enctype=\\\"multipart/form-data\\\">\\n  <div class=\\\"m-t-30\\\">\\n    <label class=\\\"text-display-4\\\">{{ title }}</label>\\n\\n    <!-- <div\\n      *ngIf=\\\"user?.creator?.image && !fileName\\\"\\n      class=\\\"m-t-24 m-b-24 profile-photo\\\"\\n    >\\n      <img src=\\\"{{ user.creator.image }}\\\" alt=\\\"\\\" />\\n    </div> -->\\n    <div *ngIf=\\\"fileName\\\" class=\\\"m-t-24 m-b-24\\\">\\n      <img\\n        *ngIf=\\\"accept === 'image/*'\\\"\\n        class=\\\"preview-image\\\"\\n        src=\\\"\\\"\\n        alt=\\\"\\\"\\n        #imagePreview\\n      />\\n\\n      <p *ngIf=\\\"accept === 'video/*'\\\">{{ videoPreview }}</p>\\n      <p *ngIf=\\\"accept === 'audio/*'\\\">{{ audioPreview }}</p>\\n    </div>\\n\\n    <div class=\\\"m-t-12 m-b-40\\\">\\n      <input\\n        #profileImageFile\\n        name=\\\"_image\\\"\\n        type=\\\"file\\\"\\n        [accept]=\\\"accept\\\"\\n        (change)=\\\"onProfileImageForm($event); setFileInfo($event)\\\"\\n        class=\\\"display-none\\\"\\n        id=\\\"fileUp\\\"\\n      />\\n      <input type=\\\"hidden\\\" name=\\\"image\\\" formControlName=\\\"image\\\" />\\n\\n      <button\\n        mat-ripple\\n        type=\\\"button\\\"\\n        class=\\\"btn\\\"\\n        [disabled]=\\\"status === requestStatus.pending\\\"\\n        (click)=\\\"profileImageFile.click()\\\"\\n      >\\n        {{ buttonText }}\\n      </button>\\n    </div>\\n  </div>\\n</form>\\n\"","module.exports = \"<section>\\n  <app-icon [icon]=\\\"icon\\\"\\n    [width]=\\\"100\\\"\\n    [height]=\\\"100\\\"></app-icon>\\n  <h1 class=\\\"title-display-2\\\">{{ title }}</h1>\\n  <p class=\\\"text-desc-container text-display-3\\\">{{ description }}\\n    <a href=\\\"https://apps.apple.com/gb/app/journey-into/id1522643456\\\" target=\\\"_blank\\\" *ngIf=\\\"downloadBtn\\\">\\n      <img src=\\\"/assets/img/app-store_logo.svg\\\" alt=\\\"\\\" width=\\\"135\\\" height=\\\"40\\\" /></a>\\n  </p>\\n  <p *ngIf=\\\"descriptionLine2\\\">{{descriptionLine2}}</p>\\n  <button mat-ripple \\n    class=\\\"btn\\\" \\n    (click)=\\\"goToDashboard()\\\">\\n    Begin your Journey Into...\\n  </button>\\n</section>\\n\"","module.exports = \"<p *ngIf=\\\"errors\\\" [innerHTML]=\\\"errors | safeHTML\\\" class=\\\"text-error\\\"></p>\"","module.exports = \"<form [formGroup]=\\\"profileImageForm\\\" enctype=\\\"multipart/form-data\\\">\\n    <div class=\\\"m-t-30\\\">\\n        <label class=\\\"text-display-4\\\">Your profile image</label>\\n\\n        <div *ngIf=\\\"user?.creator?.image && !fileName\\\" class=\\\"m-t-24 m-b-24 profile-photo\\\">\\n            <img src=\\\"{{ user.creator.image }}\\\" alt=\\\"\\\" />\\n        </div>\\n        <div *ngIf=\\\"fileName\\\" class=\\\"m-t-24 m-b-24\\\">\\n            <img class=\\\"preview-image\\\" src=\\\"\\\" alt=\\\"\\\" #imagePreview />\\n            <!-- <p>{{fileName}}</!-->\\n        </div>\\n\\n        <div class=\\\"m-t-12 m-b-40\\\">\\n            <input #profileImageFile name=\\\"_image\\\" type=\\\"file\\\" accept=\\\"image/*\\\" (change)=\\\"onProfileImageForm($event)\\\"\\n                class=\\\"display-none\\\" />\\n            <input type=\\\"hidden\\\" name=\\\"image\\\" formControlName=\\\"image\\\" />\\n\\n            <button mat-ripple type=\\\"button\\\" class=\\\"btn\\\"\\n                [disabled]=\\\"status === requestStatus.pending\\\" \\n                (click)=\\\"profileImageFile.click()\\\">\\n                {{ (fileName || user?.creator?.image) ? 'Change Photo' : 'Upload photo' }}\\n            </button>\\n            <p class=\\\"text-display-6 m-t-10\\\" *ngIf=\\\"!fileName || !user?.creator?.image\\\">A head and shoulders picture is perfect!</p>\\n        </div>\\n    </div>\\n</form>\"","module.exports = \"<ng-container *ngIf=\\\"!spinner.isShowing.value\\\">\\n  <div *ngIf=\\\"errors\\\" class=\\\"text-error m-t-24 m-b-24\\\">\\n    {{ errors }}\\n  </div>\\n\\n  <ng-container>\\n    <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"center\\\">\\n      <div class=\\\"btn btn-bordered switch-btn-content\\\">\\n        <button\\n          *ngFor=\\\"let type of viewTypes\\\"\\n          [ngClass]=\\\"{ 'active-btn': type.active }\\\"\\n          (click)=\\\"switchTypes(type.value)\\\"\\n        >\\n          {{ type.name }}\\n        </button>\\n      </div>\\n    </div>\\n  </ng-container>\\n\\n  <app-class-media-uploading\\n    *ngIf=\\\"isVideo\\\"\\n    key=\\\"'video'\\\"\\n    [file]=\\\"selectedthumbnail\\\"\\n    [user]=\\\"user\\\"\\n    [status]=\\\"status\\\"\\n    [requestStatus]=\\\"requestStatus\\\"\\n    [title]=\\\"\\\"\\n    [buttonText]=\\\"'Upload Video'\\\"\\n    [accept]=\\\"'video/*'\\\"\\n    (setDuration)=\\\"setDurationValue($event)\\\"\\n    (profileImageUploaded)=\\\"onAddMediaUploaded($event, 'video_item')\\\"\\n  ></app-class-media-uploading>\\n\\n  <app-class-media-uploading\\n    *ngIf=\\\"!isVideo\\\"\\n    key=\\\"'audio'\\\"\\n    [file]=\\\"selectedthumbnail\\\"\\n    [user]=\\\"user\\\"\\n    [status]=\\\"status\\\"\\n    [requestStatus]=\\\"requestStatus\\\"\\n    [title]=\\\"\\\"\\n    [accept]=\\\"'audio/*'\\\"\\n    [buttonText]=\\\"'Upload Audio'\\\"\\n    (profileImageUploaded)=\\\"onAddMediaUploaded($event, 'file_item')\\\"\\n  ></app-class-media-uploading>\\n\\n  <app-class-media-uploading\\n    key=\\\"'image'\\\"\\n    [file]=\\\"selectedthumbnail\\\"\\n    [user]=\\\"user\\\"\\n    [status]=\\\"status\\\"\\n    [requestStatus]=\\\"requestStatus\\\"\\n    [title]=\\\"\\\"\\n    [accept]=\\\"'image/*'\\\"\\n    [buttonText]=\\\"'Upload Thumbnail'\\\"\\n    (profileImageUploaded)=\\\"onAddMediaUploaded($event, 'thumbnail')\\\"\\n  ></app-class-media-uploading>\\n\\n  <form [formGroup]=\\\"stepOneForm\\\" class=\\\"form-one\\\">\\n    <ng-container *ngIf=\\\"stepOneForm.get('title'); let title\\\">\\n      <app-ji-input\\n        #validatedField\\n        [parentForm]=\\\"stepOneForm\\\"\\n        [input]=\\\"'title'\\\"\\n        [title]=\\\"'Title'\\\"\\n        [placeholder]=\\\"''\\\"\\n        [errors]=\\\"title.errors\\\"\\n        [hasError]=\\\"title.invalid && (title.dirty || title.touched)\\\"\\n      ></app-ji-input>\\n    </ng-container>\\n\\n    <ng-container\\n      *ngIf=\\\"stepOneForm.get('descriptionText'); let descriptionText\\\"\\n    >\\n      <app-ji-input\\n        #validatedField\\n        [parentForm]=\\\"stepOneForm\\\"\\n        [type]=\\\"'textarea'\\\"\\n        input=\\\"descriptionText\\\"\\n        [title]=\\\"'Description'\\\"\\n        [placeholder]=\\\"''\\\"\\n        [errors]=\\\"descriptionText.errors\\\"\\n        [hasError]=\\\"descriptionText.invalid && stepOneFormSubmitted\\\"\\n      >\\n      </app-ji-input>\\n    </ng-container>\\n\\n    <ng-container *ngIf=\\\"stepOneForm.get('props'); let props\\\">\\n      <app-ji-input\\n        #validatedField\\n        [parentForm]=\\\"stepOneForm\\\"\\n        [type]=\\\"'textarea'\\\"\\n        input=\\\"props\\\"\\n        [title]=\\\"'Props'\\\"\\n        [placeholder]=\\\"''\\\"\\n        [errors]=\\\"props.errors\\\"\\n        [hasError]=\\\"props.invalid && stepOneFormSubmitted\\\"\\n      >\\n      </app-ji-input>\\n    </ng-container>\\n\\n    <ng-container *ngIf=\\\"stepOneForm.get('difficulty'); let difficulty\\\">\\n      <app-ji-input\\n        #validatedField\\n        [parentForm]=\\\"stepOneForm\\\"\\n        [input]=\\\"'difficulty'\\\"\\n        [title]=\\\"'Difficulty'\\\"\\n        [placeholder]=\\\"''\\\"\\n        [errors]=\\\"difficulty.errors\\\"\\n        [hasError]=\\\"difficulty.invalid && stepOneFormSubmitted\\\"\\n      ></app-ji-input>\\n    </ng-container>\\n\\n    <hr />\\n\\n    <button\\n      mat-ripple\\n      type=\\\"button\\\"\\n      class=\\\"btn\\\"\\n      [disabled]=\\\"status === requestStatus.pending\\\"\\n      (click)=\\\"handleNextClick()\\\"\\n    >\\n      {{ ctaText }}\\n    </button>\\n  </form>\\n</ng-container>\\n\"","module.exports = \"<ng-container *ngIf=\\\"!spinner.isShowing.value\\\">\\n  <div *ngIf=\\\"errors\\\" class=\\\"text-error m-t-24 m-b-24\\\">\\n    {{ errors }}\\n  </div>\\n\\n  <app-profile-image-edit\\n    [file]=\\\"selectedImage\\\"\\n    [user]=\\\"user\\\"\\n    [status]=\\\"status\\\"\\n    [requestStatus]=\\\"requestStatus\\\"\\n    (profileImageUploaded)=\\\"onProfileImageUploaded($event)\\\"\\n  ></app-profile-image-edit>\\n\\n  <form [formGroup]=\\\"stepOneForm\\\" class=\\\"form-one\\\">\\n    <ng-container *ngIf=\\\"stepOneForm.get('profile_title'); let profileTitle\\\">\\n      <app-ji-input\\n        #validatedField\\n        [parentForm]=\\\"stepOneForm\\\"\\n        [input]=\\\"'profile_title'\\\"\\n        [title]=\\\"'Profile name'\\\"\\n        [placeholder]=\\\"''\\\"\\n        [explainerText]=\\\"'This is how your students will search for you.'\\\"\\n        [errors]=\\\"profileTitle.errors\\\"\\n        [hasError]=\\\"profileTitle.invalid && stepOneFormSubmitted\\\"\\n      ></app-ji-input>\\n    </ng-container>\\n\\n    <ng-container *ngIf=\\\"stepOneForm.get('city'); let city\\\">\\n      <app-ji-input\\n        #validatedField\\n        [parentForm]=\\\"stepOneForm\\\"\\n        [input]=\\\"'city'\\\"\\n        [title]=\\\"'Location'\\\"\\n        [placeholder]=\\\"'East London, Central London'\\\"\\n        [explainerText]=\\\"\\n          'Where do you spend the majority of your time teaching?'\\n        \\\"\\n        [errors]=\\\"city.errors\\\"\\n        [hasError]=\\\"city.invalid && stepOneFormSubmitted\\\"\\n      ></app-ji-input>\\n    </ng-container>\\n\\n    <ng-container>\\n      <p class=\\\"text-display-4\\\">Choose currency</p>\\n      <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"center\\\">\\n        <div class=\\\"btn btn-bordered switch-btn-content\\\">\\n          <button\\n            *ngFor=\\\"let currency of viewCurrences\\\"\\n            [ngClass]=\\\"{ 'active-btn': currency.active }\\\"\\n            (click)=\\\"switchUserCurrency(currency.value)\\\"\\n          >\\n            {{ currency.name }}\\n          </button>\\n        </div>\\n      </div>\\n    </ng-container>\\n\\n    <ng-container *ngIf=\\\"stepOneForm.get('description'); let description\\\">\\n      <app-ji-input\\n        #validatedField\\n        [parentForm]=\\\"stepOneForm\\\"\\n        [type]=\\\"'textarea'\\\"\\n        input=\\\"description\\\"\\n        [teachersLink]=\\\"true\\\"\\n        [title]=\\\"'About You'\\\"\\n        [placeholder]=\\\"''\\\"\\n        [explainerText]=\\\"\\n          'Tell your students a bit about yourself. E.g. How did you come to be a teacher? What sort of experience do you have? Where are you from? Why do you love teaching? What are the principals and ethos behind the way you teach? How do you teach? For example; Is it breath led? Do you teach to music? Is it dynamic or gentle? Any other friendly or personal note you’d like to mention?'\\n        \\\"\\n        [errors]=\\\"description.errors\\\"\\n        [hasError]=\\\"description.invalid && stepOneFormSubmitted\\\"\\n        (teachersLinkChange)=\\\"teachersLinkChange()\\\"\\n      >\\n      </app-ji-input>\\n    </ng-container>\\n\\n    <ng-container *ngIf=\\\"stepOneForm.get('news_events'); let newsEvents\\\">\\n      <app-ji-input\\n        #validatedField\\n        [type]=\\\"'textarea'\\\"\\n        [parentForm]=\\\"stepOneForm\\\"\\n        [input]=\\\"'news_events'\\\"\\n        [title]=\\\"'News & events'\\\"\\n        [errors]=\\\"newsEvents.errors\\\"\\n        [hasError]=\\\"newsEvents.invalid && stepOneFormSubmitted\\\"\\n      ></app-ji-input>\\n    </ng-container>\\n\\n    <ng-container *ngIf=\\\"stepOneForm.get('style'); let style\\\">\\n      <app-ji-input\\n        #validatedField\\n        [parentForm]=\\\"stepOneForm\\\"\\n        [input]=\\\"'style'\\\"\\n        [title]=\\\"'What do you teach?'\\\"\\n        [placeholder]=\\\"'Vinyasa, Ashtanga, Pregnancy'\\\"\\n        [explainerText]=\\\"'List what you teach with a comma separating each'\\\"\\n        [errors]=\\\"style.errors\\\"\\n        [hasError]=\\\"style.invalid && stepOneFormSubmitted\\\"\\n      ></app-ji-input>\\n    </ng-container>\\n\\n    <ng-container *ngIf=\\\"stepOneForm.get('qualifications'); let qualifications\\\">\\n      <app-ji-input\\n        #validatedField\\n        [parentForm]=\\\"stepOneForm\\\"\\n        [input]=\\\"'qualifications'\\\"\\n        [title]=\\\"'Training'\\\"\\n        [placeholder]=\\\"'RYT 200hrs, Post natal, Pilates'\\\"\\n        [errors]=\\\"qualifications.errors\\\"\\n        [hasError]=\\\"qualifications.invalid && stepOneFormSubmitted\\\"\\n      ></app-ji-input>\\n    </ng-container>\\n\\n    <fieldset class=\\\"external-urls\\\">\\n      <p class=\\\"text-display-4\\\">Links to Websites, Social Media and Events</p>\\n      <fieldset\\n        class=\\\"m-b-30\\\"\\n        formArrayName=\\\"links\\\"\\n        *ngFor=\\\"let item of stepOneForm.get('links')['controls']; let i = index\\\"\\n      >\\n        <ng-container [formGroupName]=\\\"i\\\">\\n          <ng-container *ngIf=\\\"item.get('label'); let label\\\">\\n            <app-ji-input\\n              [parentForm]=\\\"item\\\"\\n              [input]=\\\"'label'\\\"\\n              [id]=\\\"'label-' + item.value.id\\\"\\n              [title]=\\\"'Title'\\\"\\n              [errors]=\\\"label.errors\\\"\\n              [hasError]=\\\"\\n                (label.invalid || !isLinksValid) && stepOneFormSubmitted\\n              \\\"\\n            ></app-ji-input>\\n          </ng-container>\\n          <ng-container *ngIf=\\\"item.get('url'); let url\\\">\\n            <app-ji-input\\n              [parentForm]=\\\"item\\\"\\n              [input]=\\\"'url'\\\"\\n              [title]=\\\"'Url'\\\"\\n              [id]=\\\"'url-' + item.value.id\\\"\\n              [placeholder]=\\\"'Starts with http:// or https://'\\\"\\n              [errors]=\\\"url.errors\\\"\\n              [customErrorText]=\\\"{\\n                pattern: 'This needs to be a valid url'\\n              }\\\"\\n              [hasError]=\\\"\\n                (url.invalid || !isLinksValid) && stepOneFormSubmitted\\n              \\\"\\n            ></app-ji-input>\\n          </ng-container>\\n\\n          <button\\n            mat-ripple\\n            type=\\\"button\\\"\\n            class=\\\"btn btn-large bg-20 btn-rounded m-t-12\\\"\\n            (click)=\\\"removeAddress(i)\\\"\\n          >\\n            Remove\\n          </button>\\n        </ng-container>\\n      </fieldset>\\n\\n      <button\\n        mat-ripple\\n        type=\\\"button\\\"\\n        class=\\\"btn btn-large btn-rounded btn-bordered bg-white font-color-10 width-100\\\"\\n        [disabled]=\\\"status === requestStatus.pending\\\"\\n        (click)=\\\"handleAddAnotherExternalUrlClick()\\\"\\n      >\\n        {{\\n          stepOneForm.get(\\\"links\\\")[\\\"controls\\\"].length > 0\\n            ? \\\"Add another\\\"\\n            : \\\"Add An External Url\\\"\\n        }}\\n      </button>\\n    </fieldset>\\n\\n    <hr />\\n\\n    <button\\n      mat-ripple\\n      type=\\\"button\\\"\\n      class=\\\"btn\\\"\\n      [disabled]=\\\"status === requestStatus.pending\\\"\\n      (click)=\\\"handleNextClick(false)\\\"\\n    >\\n      {{ ctaText }}\\n    </button>\\n\\n    <a *ngIf=\\\"allowSkip\\\" class=\\\"skip-btn\\\" (click)=\\\"handleNextClick(true)\\\"\\n      >Skip</a\\n    >\\n  </form>\\n</ng-container>\\n\"","module.exports = \"<ng-container *ngIf=\\\"!showForm\\\">\\n    <p *ngIf=\\\"introText\\\">{{introText}}</p>\\n    <button \\n        class=\\\"btn\\\"\\n        (click)=\\\"showForm = !showForm\\\">Complete your payments account</button>\\n</ng-container>\\n<ng-container *ngIf=\\\"showForm && user?.creator?.stripe_link && !user?.creator?.stripe_user_id\\\">\\n    <p>Congratulations! You are on your way to creating a subscription business.</p>\\n    <p>Your profile has been created in the Journey Into app. Download to begin recording and sharing your classes.</p>\\n    <p><a href=\\\"https://apps.apple.com/gb/app/journey-into/id1522643456\\\" target=\\\"_blank\\\">\\n        <img src=\\\"/assets/img/app-store_logo.svg\\\" alt=\\\"\\\" width=\\\"135\\\" height=\\\"40\\\" /></a></p>\\n    <p>Before students can subscribe to you, you will need to set up or link to your exiting Stripe account.</p>\\n    <p>Do this now, or come back to it before you publish your first class.</p>\\n    <a [href]=\\\"user.creator.stripe_link\\\" class=\\\"btn\\\">Complete now</a>\\n</ng-container>\\n\"","'use strict';\n\n/**\n * Check if we're required to add a port number.\n *\n * @see https://url.spec.whatwg.org/#default-port\n * @param {Number|String} port Port number we need to check\n * @param {String} protocol Protocol we need to check against.\n * @returns {Boolean} Is it a default port for the given protocol\n * @api private\n */\nmodule.exports = function required(port, protocol) {\n  protocol = protocol.split(':')[0];\n  port = +port;\n\n  if (!port) return false;\n\n  switch (protocol) {\n    case 'http':\n    case 'ws':\n    return port !== 80;\n\n    case 'https':\n    case 'wss':\n    return port !== 443;\n\n    case 'ftp':\n    return port !== 21;\n\n    case 'gopher':\n    return port !== 70;\n\n    case 'file':\n    return false;\n  }\n\n  return port !== 0;\n};\n","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport isReactNative from \"./isReactNative\";\nimport uriToBlob from \"./uriToBlob\";\nimport isCordova from \"./isCordova\";\nimport readAsByteArray from \"./readAsByteArray\";\n\nvar FileSource = /*#__PURE__*/function () {\n  // Make this.size a method\n  function FileSource(file) {\n    _classCallCheck(this, FileSource);\n\n    this._file = file;\n    this.size = file.size;\n  }\n\n  _createClass(FileSource, [{\n    key: \"slice\",\n    value: function slice(start, end) {\n      // In Apache Cordova applications, a File must be resolved using\n      // FileReader instances, see\n      // https://cordova.apache.org/docs/en/8.x/reference/cordova-plugin-file/index.html#read-a-file\n      if (isCordova()) {\n        return readAsByteArray(this._file.slice(start, end));\n      }\n\n      var value = this._file.slice(start, end);\n\n      return Promise.resolve({\n        value: value\n      });\n    }\n  }, {\n    key: \"close\",\n    value: function close() {// Nothing to do here since we don't need to release any resources.\n    }\n  }]);\n\n  return FileSource;\n}();\n\nvar StreamSource = /*#__PURE__*/function () {\n  function StreamSource(reader, chunkSize) {\n    _classCallCheck(this, StreamSource);\n\n    this._chunkSize = chunkSize;\n    this._buffer = undefined;\n    this._bufferOffset = 0;\n    this._reader = reader;\n    this._done = false;\n  }\n\n  _createClass(StreamSource, [{\n    key: \"slice\",\n    value: function slice(start, end) {\n      if (start < this._bufferOffset) {\n        return Promise.reject(new Error(\"Requested data is before the reader's current offset\"));\n      }\n\n      return this._readUntilEnoughDataOrDone(start, end);\n    }\n  }, {\n    key: \"_readUntilEnoughDataOrDone\",\n    value: function _readUntilEnoughDataOrDone(start, end) {\n      var _this = this;\n\n      var hasEnoughData = end <= this._bufferOffset + len(this._buffer);\n\n      if (this._done || hasEnoughData) {\n        var value = this._getDataFromBuffer(start, end);\n\n        var done = value == null ? this._done : false;\n        return Promise.resolve({\n          value: value,\n          done: done\n        });\n      }\n\n      return this._reader.read().then(function (_ref) {\n        var value = _ref.value,\n            done = _ref.done;\n\n        if (done) {\n          _this._done = true;\n        } else if (_this._buffer === undefined) {\n          _this._buffer = value;\n        } else {\n          _this._buffer = concat(_this._buffer, value);\n        }\n\n        return _this._readUntilEnoughDataOrDone(start, end);\n      });\n    }\n  }, {\n    key: \"_getDataFromBuffer\",\n    value: function _getDataFromBuffer(start, end) {\n      // Remove data from buffer before `start`.\n      // Data might be reread from the buffer if an upload fails, so we can only\n      // safely delete data when it comes *before* what is currently being read.\n      if (start > this._bufferOffset) {\n        this._buffer = this._buffer.slice(start - this._bufferOffset);\n        this._bufferOffset = start;\n      } // If the buffer is empty after removing old data, all data has been read.\n\n\n      var hasAllDataBeenRead = len(this._buffer) === 0;\n\n      if (this._done && hasAllDataBeenRead) {\n        return null;\n      } // We already removed data before `start`, so we just return the first\n      // chunk from the buffer.\n\n\n      return this._buffer.slice(0, end - start);\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      if (this._reader.cancel) {\n        this._reader.cancel();\n      }\n    }\n  }]);\n\n  return StreamSource;\n}();\n\nfunction len(blobOrArray) {\n  if (blobOrArray === undefined) return 0;\n  if (blobOrArray.size !== undefined) return blobOrArray.size;\n  return blobOrArray.length;\n}\n/*\n  Typed arrays and blobs don't have a concat method.\n  This function helps StreamSource accumulate data to reach chunkSize.\n*/\n\n\nfunction concat(a, b) {\n  if (a.concat) {\n    // Is `a` an Array?\n    return a.concat(b);\n  }\n\n  if (a instanceof Blob) {\n    return new Blob([a, b], {\n      type: a.type\n    });\n  }\n\n  if (a.set) {\n    // Is `a` a typed array?\n    var c = new a.constructor(a.length + b.length);\n    c.set(a);\n    c.set(b, a.length);\n    return c;\n  }\n\n  throw new Error(\"Unknown data type\");\n}\n\nvar FileReader = /*#__PURE__*/function () {\n  function FileReader() {\n    _classCallCheck(this, FileReader);\n  }\n\n  _createClass(FileReader, [{\n    key: \"openFile\",\n    value: function openFile(input, chunkSize) {\n      // In React Native, when user selects a file, instead of a File or Blob,\n      // you usually get a file object {} with a uri property that contains\n      // a local path to the file. We use XMLHttpRequest to fetch\n      // the file blob, before uploading with tus.\n      if (isReactNative() && input && typeof input.uri !== \"undefined\") {\n        return uriToBlob(input.uri).then(function (blob) {\n          return new FileSource(blob);\n        })[\"catch\"](function (err) {\n          throw new Error(\"tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. \" + err);\n        });\n      } // Since we emulate the Blob type in our tests (not all target browsers\n      // support it), we cannot use `instanceof` for testing whether the input value\n      // can be handled. Instead, we simply check is the slice() function and the\n      // size property are available.\n\n\n      if (typeof input.slice === \"function\" && typeof input.size !== \"undefined\") {\n        return Promise.resolve(new FileSource(input));\n      }\n\n      if (typeof input.read === \"function\") {\n        chunkSize = +chunkSize;\n\n        if (!isFinite(chunkSize)) {\n          return Promise.reject(new Error(\"cannot create source for stream without a finite value for the `chunkSize` option\"));\n        }\n\n        return Promise.resolve(new StreamSource(input, chunkSize));\n      }\n\n      return Promise.reject(new Error(\"source object may only be an instance of File, Blob, or Reader in this environment\"));\n    }\n  }]);\n\n  return FileReader;\n}();\n\nexport { FileReader as default };","import isReactNative from \"./isReactNative\"; // TODO: Differenciate between input types\n\n/**\n * Generate a fingerprint for a file which will be used the store the endpoint\n *\n * @param {File} file\n * @param {Object} options\n * @param {Function} callback\n */\n\nexport default function fingerprint(file, options) {\n  if (isReactNative()) {\n    return Promise.resolve(reactNativeFingerprint(file, options));\n  }\n\n  return Promise.resolve([\"tus-br\", file.name, file.type, file.size, file.lastModified, options.endpoint].join(\"-\"));\n}\n\nfunction reactNativeFingerprint(file, options) {\n  var exifHash = file.exif ? hashCode(JSON.stringify(file.exif)) : \"noexif\";\n  return [\"tus-rn\", file.name || \"noname\", file.size || \"nosize\", exifHash, options.endpoint].join(\"/\");\n}\n\nfunction hashCode(str) {\n  // from https://stackoverflow.com/a/8831937/151666\n  var hash = 0;\n\n  if (str.length === 0) {\n    return hash;\n  }\n\n  for (var i = 0; i < str.length; i++) {\n    var _char = str.charCodeAt(i);\n\n    hash = (hash << 5) - hash + _char;\n    hash = hash & hash; // Convert to 32bit integer\n  }\n\n  return hash;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/* global window */\nvar XHRHttpStack = /*#__PURE__*/function () {\n  function XHRHttpStack() {\n    _classCallCheck(this, XHRHttpStack);\n  }\n\n  _createClass(XHRHttpStack, [{\n    key: \"createRequest\",\n    value: function createRequest(method, url) {\n      return new Request(method, url);\n    }\n  }, {\n    key: \"getName\",\n    value: function getName() {\n      return \"XHRHttpStack\";\n    }\n  }]);\n\n  return XHRHttpStack;\n}();\n\nexport { XHRHttpStack as default };\n\nvar Request = /*#__PURE__*/function () {\n  function Request(method, url) {\n    _classCallCheck(this, Request);\n\n    this._xhr = new XMLHttpRequest();\n\n    this._xhr.open(method, url, true);\n\n    this._method = method;\n    this._url = url;\n    this._headers = {};\n  }\n\n  _createClass(Request, [{\n    key: \"getMethod\",\n    value: function getMethod() {\n      return this._method;\n    }\n  }, {\n    key: \"getURL\",\n    value: function getURL() {\n      return this._url;\n    }\n  }, {\n    key: \"setHeader\",\n    value: function setHeader(header, value) {\n      this._xhr.setRequestHeader(header, value);\n\n      this._headers[header] = value;\n    }\n  }, {\n    key: \"getHeader\",\n    value: function getHeader(header) {\n      return this._headers[header];\n    }\n  }, {\n    key: \"setProgressHandler\",\n    value: function setProgressHandler(progressHandler) {\n      // Test support for progress events before attaching an event listener\n      if (!(\"upload\" in this._xhr)) {\n        return;\n      }\n\n      this._xhr.upload.onprogress = function (e) {\n        if (!e.lengthComputable) {\n          return;\n        }\n\n        progressHandler(e.loaded);\n      };\n    }\n  }, {\n    key: \"send\",\n    value: function send() {\n      var _this = this;\n\n      var body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      return new Promise(function (resolve, reject) {\n        _this._xhr.onload = function () {\n          resolve(new Response(_this._xhr));\n        };\n\n        _this._xhr.onerror = function (err) {\n          reject(err);\n        };\n\n        _this._xhr.send(body);\n      });\n    }\n  }, {\n    key: \"abort\",\n    value: function abort() {\n      this._xhr.abort();\n\n      return Promise.resolve();\n    }\n  }, {\n    key: \"getUnderlyingObject\",\n    value: function getUnderlyingObject() {\n      return this._xhr;\n    }\n  }]);\n\n  return Request;\n}();\n\nvar Response = /*#__PURE__*/function () {\n  function Response(xhr) {\n    _classCallCheck(this, Response);\n\n    this._xhr = xhr;\n  }\n\n  _createClass(Response, [{\n    key: \"getStatus\",\n    value: function getStatus() {\n      return this._xhr.status;\n    }\n  }, {\n    key: \"getHeader\",\n    value: function getHeader(header) {\n      return this._xhr.getResponseHeader(header);\n    }\n  }, {\n    key: \"getBody\",\n    value: function getBody() {\n      return this._xhr.responseText;\n    }\n  }, {\n    key: \"getUnderlyingObject\",\n    value: function getUnderlyingObject() {\n      return this._xhr;\n    }\n  }]);\n\n  return Response;\n}();","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/* global window */\nimport BaseUpload from \"../upload\";\nimport NoopUrlStorage from \"../noopUrlStorage\";\nimport { enableDebugLog } from \"../logger\";\nimport { canStoreURLs, WebStorageUrlStorage } from \"./urlStorage\";\nimport HttpStack from \"./httpStack\";\nimport FileReader from \"./fileReader\";\nimport fingerprint from \"./fingerprint\";\n\nvar defaultOptions = _objectSpread({}, BaseUpload.defaultOptions, {\n  httpStack: new HttpStack(),\n  fileReader: new FileReader(),\n  urlStorage: canStoreURLs ? new WebStorageUrlStorage() : new NoopUrlStorage(),\n  fingerprint: fingerprint\n});\n\nvar Upload = /*#__PURE__*/function (_BaseUpload) {\n  _inherits(Upload, _BaseUpload);\n\n  var _super = _createSuper(Upload);\n\n  function Upload() {\n    var file = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Upload);\n\n    options = _objectSpread({}, defaultOptions, {}, options);\n    return _super.call(this, file, options);\n  }\n\n  _createClass(Upload, null, [{\n    key: \"terminate\",\n    value: function terminate(url, options, cb) {\n      options = _objectSpread({}, defaultOptions, {}, options);\n      return BaseUpload.terminate(url, options, cb);\n    }\n  }]);\n\n  return Upload;\n}(BaseUpload);\n\nvar _window = window,\n    XMLHttpRequest = _window.XMLHttpRequest,\n    Blob = _window.Blob;\nvar isSupported = XMLHttpRequest && Blob && typeof Blob.prototype.slice === \"function\";\nexport { Upload, canStoreURLs, defaultOptions, isSupported, enableDebugLog, HttpStack };","var isCordova = function isCordova() {\n  return typeof window != \"undefined\" && (typeof window.PhoneGap != \"undefined\" || typeof window.Cordova != \"undefined\" || typeof window.cordova != \"undefined\");\n};\n\nexport default isCordova;","var isReactNative = function isReactNative() {\n  return typeof navigator !== \"undefined\" && typeof navigator.product === \"string\" && navigator.product.toLowerCase() === \"reactnative\";\n};\n\nexport default isReactNative;","/**\n * readAsByteArray converts a File object to a Uint8Array.\n * This function is only used on the Apache Cordova platform.\n * See https://cordova.apache.org/docs/en/latest/reference/cordova-plugin-file/index.html#read-a-file\n */\nexport default function readAsByteArray(chunk) {\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n\n    reader.onload = function () {\n      var value = new Uint8Array(reader.result);\n      resolve({\n        value: value\n      });\n    };\n\n    reader.onerror = function (err) {\n      reject(err);\n    };\n\n    reader.readAsArrayBuffer(chunk);\n  });\n}","/**\n * uriToBlob resolves a URI to a Blob object. This is used for\n * React Native to retrieve a file (identified by a file://\n * URI) as a blob.\n */\nexport default function uriToBlob(uri) {\n  return new Promise(function (resolve, reject) {\n    var xhr = new XMLHttpRequest();\n    xhr.responseType = \"blob\";\n\n    xhr.onload = function () {\n      var blob = xhr.response;\n      resolve(blob);\n    };\n\n    xhr.onerror = function (err) {\n      reject(err);\n    };\n\n    xhr.open(\"GET\", uri);\n    xhr.send();\n  });\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/* global window, localStorage */\nvar hasStorage = false;\n\ntry {\n  hasStorage = \"localStorage\" in window; // Attempt to store and read entries from the local storage to detect Private\n  // Mode on Safari on iOS (see #49)\n\n  var key = \"tusSupport\";\n  localStorage.setItem(key, localStorage.getItem(key));\n} catch (e) {\n  // If we try to access localStorage inside a sandboxed iframe, a SecurityError\n  // is thrown. When in private mode on iOS Safari, a QuotaExceededError is\n  // thrown (see #49)\n  if (e.code === e.SECURITY_ERR || e.code === e.QUOTA_EXCEEDED_ERR) {\n    hasStorage = false;\n  } else {\n    throw e;\n  }\n}\n\nexport var canStoreURLs = hasStorage;\nexport var WebStorageUrlStorage = /*#__PURE__*/function () {\n  function WebStorageUrlStorage() {\n    _classCallCheck(this, WebStorageUrlStorage);\n  }\n\n  _createClass(WebStorageUrlStorage, [{\n    key: \"findAllUploads\",\n    value: function findAllUploads() {\n      var results = this._findEntries(\"tus::\");\n\n      return Promise.resolve(results);\n    }\n  }, {\n    key: \"findUploadsByFingerprint\",\n    value: function findUploadsByFingerprint(fingerprint) {\n      var results = this._findEntries(\"tus::\".concat(fingerprint, \"::\"));\n\n      return Promise.resolve(results);\n    }\n  }, {\n    key: \"removeUpload\",\n    value: function removeUpload(urlStorageKey) {\n      localStorage.removeItem(urlStorageKey);\n      return Promise.resolve();\n    }\n  }, {\n    key: \"addUpload\",\n    value: function addUpload(fingerprint, upload) {\n      var id = Math.round(Math.random() * 1e12);\n      var key = \"tus::\".concat(fingerprint, \"::\").concat(id);\n      localStorage.setItem(key, JSON.stringify(upload));\n      return Promise.resolve(key);\n    }\n  }, {\n    key: \"_findEntries\",\n    value: function _findEntries(prefix) {\n      var results = [];\n\n      for (var i = 0; i < localStorage.length; i++) {\n        var _key = localStorage.key(i);\n\n        if (_key.indexOf(prefix) !== 0) continue;\n\n        try {\n          var upload = JSON.parse(localStorage.getItem(_key));\n          upload.urlStorageKey = _key;\n          results.push(upload);\n        } catch (e) {// The JSON parse error is intentionally ignored here, so a malformed\n          // entry in the storage cannot prevent an upload.\n        }\n      }\n\n      return results;\n    }\n  }]);\n\n  return WebStorageUrlStorage;\n}();","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar DetailedError = /*#__PURE__*/function (_Error) {\n  _inherits(DetailedError, _Error);\n\n  var _super = _createSuper(DetailedError);\n\n  function DetailedError(message) {\n    var _this;\n\n    var causingErr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var req = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var res = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n    _classCallCheck(this, DetailedError);\n\n    _this = _super.call(this, message);\n    _this.originalRequest = req;\n    _this.originalResponse = res;\n    _this.causingError = causingErr;\n\n    if (causingErr != null) {\n      message += \", caused by \".concat(causingErr.toString());\n    }\n\n    if (req != null) {\n      var requestId = req.getHeader(\"X-Request-ID\") || \"n/a\";\n      var method = req.getMethod();\n      var url = req.getURL();\n      var status = res ? res.getStatus() : \"n/a\";\n      var body = res ? res.getBody() || \"\" : \"n/a\";\n      message += \", originated from request (method: \".concat(method, \", url: \").concat(url, \", response code: \").concat(status, \", response text: \").concat(body, \", request id: \").concat(requestId, \")\");\n    }\n\n    _this.message = message;\n    return _this;\n  }\n\n  return DetailedError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nexport default DetailedError;","/* eslint no-console: \"off\" */\nvar isEnabled = false;\nexport function enableDebugLog() {\n  isEnabled = true;\n}\nexport function log(msg) {\n  if (!isEnabled) return;\n  console.log(msg);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/* eslint no-unused-vars: \"off\" */\nvar NoopUrlStorage = /*#__PURE__*/function () {\n  function NoopUrlStorage() {\n    _classCallCheck(this, NoopUrlStorage);\n  }\n\n  _createClass(NoopUrlStorage, [{\n    key: \"listAllUploads\",\n    value: function listAllUploads() {\n      return Promise.resolve([]);\n    }\n  }, {\n    key: \"findUploadsByFingerprint\",\n    value: function findUploadsByFingerprint(fingerprint) {\n      return Promise.resolve([]);\n    }\n  }, {\n    key: \"removeUpload\",\n    value: function removeUpload(urlStorageKey) {\n      return Promise.resolve();\n    }\n  }, {\n    key: \"addUpload\",\n    value: function addUpload(fingerprint, upload) {\n      return Promise.resolve(null);\n    }\n  }]);\n\n  return NoopUrlStorage;\n}();\n\nexport { NoopUrlStorage as default };","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/* global window */\nimport { Base64 } from \"js-base64\";\nimport URL from \"url-parse\";\nimport DetailedError from \"./error\";\nimport { log } from \"./logger\";\nimport uuid from \"./uuid\";\nvar defaultOptions = {\n  endpoint: null,\n  uploadUrl: null,\n  metadata: {},\n  fingerprint: null,\n  uploadSize: null,\n  onProgress: null,\n  onChunkComplete: null,\n  onSuccess: null,\n  onError: null,\n  _onUploadUrlAvailable: null,\n  overridePatchMethod: false,\n  headers: {},\n  addRequestId: false,\n  onBeforeRequest: null,\n  onAfterResponse: null,\n  onShouldRetry: null,\n  chunkSize: Infinity,\n  retryDelays: [0, 1000, 3000, 5000],\n  parallelUploads: 1,\n  storeFingerprintForResuming: true,\n  removeFingerprintOnSuccess: false,\n  uploadLengthDeferred: false,\n  uploadDataDuringCreation: false,\n  urlStorage: null,\n  fileReader: null,\n  httpStack: null\n};\n\nvar BaseUpload = /*#__PURE__*/function () {\n  function BaseUpload(file, options) {\n    _classCallCheck(this, BaseUpload);\n\n    // Warn about removed options from previous versions\n    if (\"resume\" in options) {\n      console.log(\"tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead.\"); // eslint-disable-line no-console\n    } // The default options will already be added from the wrapper classes.\n\n\n    this.options = options; // The storage module used to store URLs\n\n    this._urlStorage = this.options.urlStorage; // The underlying File/Blob object\n\n    this.file = file; // The URL against which the file will be uploaded\n\n    this.url = null; // The underlying request object for the current PATCH request\n\n    this._req = null; // The fingerpinrt for the current file (set after start())\n\n    this._fingerprint = null; // The key that the URL storage returned when saving an URL with a fingerprint,\n\n    this._urlStorageKey = null; // The offset used in the current PATCH request\n\n    this._offset = null; // True if the current PATCH request has been aborted\n\n    this._aborted = false; // The file's size in bytes\n\n    this._size = null; // The Source object which will wrap around the given file and provides us\n    // with a unified interface for getting its size and slice chunks from its\n    // content allowing us to easily handle Files, Blobs, Buffers and Streams.\n\n    this._source = null; // The current count of attempts which have been made. Zero indicates none.\n\n    this._retryAttempt = 0; // The timeout's ID which is used to delay the next retry\n\n    this._retryTimeout = null; // The offset of the remote upload before the latest attempt was started.\n\n    this._offsetBeforeRetry = 0; // An array of BaseUpload instances which are used for uploading the different\n    // parts, if the parallelUploads option is used.\n\n    this._parallelUploads = null; // An array of upload URLs which are used for uploading the different\n    // parts, if the parallelUploads option is used.\n\n    this._parallelUploadUrls = null;\n  }\n  /**\n   * Use the Termination extension to delete an upload from the server by sending a DELETE\n   * request to the specified upload URL. This is only possible if the server supports the\n   * Termination extension. If the `options.retryDelays` property is set, the method will\n   * also retry if an error ocurrs.\n   *\n   * @param {String} url The upload's URL which will be terminated.\n   * @param {object} options Optional options for influencing HTTP requests.\n   * @return {Promise} The Promise will be resolved/rejected when the requests finish.\n   */\n\n\n  _createClass(BaseUpload, [{\n    key: \"findPreviousUploads\",\n    value: function findPreviousUploads() {\n      var _this = this;\n\n      return this.options.fingerprint(this.file, this.options).then(function (fingerprint) {\n        return _this._urlStorage.findUploadsByFingerprint(fingerprint);\n      });\n    }\n  }, {\n    key: \"resumeFromPreviousUpload\",\n    value: function resumeFromPreviousUpload(previousUpload) {\n      this.url = previousUpload.uploadUrl || null;\n      this._parallelUploadUrls = previousUpload.parallelUploadUrls || null;\n      this._urlStorageKey = previousUpload.urlStorageKey;\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      var _this2 = this;\n\n      var file = this.file;\n\n      if (!file) {\n        this._emitError(new Error(\"tus: no file or stream to upload provided\"));\n\n        return;\n      }\n\n      if (!this.options.endpoint && !this.options.uploadUrl) {\n        this._emitError(new Error(\"tus: neither an endpoint or an upload URL is provided\"));\n\n        return;\n      }\n\n      var retryDelays = this.options.retryDelays;\n\n      if (retryDelays != null && Object.prototype.toString.call(retryDelays) !== \"[object Array]\") {\n        this._emitError(new Error(\"tus: the `retryDelays` option must either be an array or null\"));\n\n        return;\n      }\n\n      if (this.options.parallelUploads > 1) {\n        // Test which options are incompatible with parallel uploads.\n        [\"uploadUrl\", \"uploadSize\", \"uploadLengthDeferred\"].forEach(function (optionName) {\n          if (_this2.options[optionName]) {\n            _this2._emitError(new Error(\"tus: cannot use the \".concat(optionName, \" option when parallelUploads is enabled\")));\n          }\n        });\n      }\n\n      this.options.fingerprint(file, this.options).then(function (fingerprint) {\n        if (fingerprint == null) {\n          log(\"No fingerprint was calculated meaning that the upload cannot be stored in the URL storage.\");\n        } else {\n          log(\"Calculated fingerprint: \".concat(fingerprint));\n        }\n\n        _this2._fingerprint = fingerprint;\n\n        if (_this2._source) {\n          return _this2._source;\n        } else {\n          return _this2.options.fileReader.openFile(file, _this2.options.chunkSize);\n        }\n      }).then(function (source) {\n        _this2._source = source; // If the upload was configured to use multiple requests or if we resume from\n        // an upload which used multiple requests, we start a parallel upload.\n\n        if (_this2.options.parallelUploads > 1 || _this2._parallelUploadUrls != null) {\n          _this2._startParallelUpload();\n        } else {\n          _this2._startSingleUpload();\n        }\n      })[\"catch\"](function (err) {\n        _this2._emitError(err);\n      });\n    }\n    /**\n     * Initiate the uploading procedure for a parallelized upload, where one file is split into\n     * multiple request which are run in parallel.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_startParallelUpload\",\n    value: function _startParallelUpload() {\n      var _this3 = this;\n\n      var totalSize = this._size = this._source.size;\n      var totalProgress = 0;\n      this._parallelUploads = [];\n      var partCount = this._parallelUploadUrls != null ? this._parallelUploadUrls.length : this.options.parallelUploads; // The input file will be split into multiple slices which are uploaded in separate\n      // requests. Here we generate the start and end position for the slices.\n\n      var parts = splitSizeIntoParts(this._source.size, partCount, this._parallelUploadUrls); // Create an empty list for storing the upload URLs\n\n      this._parallelUploadUrls = new Array(parts.length); // Generate a promise for each slice that will be resolve if the respective\n      // upload is completed.\n\n      var uploads = parts.map(function (part, index) {\n        var lastPartProgress = 0;\n        return _this3._source.slice(part.start, part.end).then(function (_ref) {\n          var value = _ref.value;\n          return new Promise(function (resolve, reject) {\n            // Merge with the user supplied options but overwrite some values.\n            var options = _objectSpread({}, _this3.options, {\n              // If available, the partial upload should be resumed from a previous URL.\n              uploadUrl: part.uploadUrl || null,\n              // We take manually care of resuming for partial uploads, so they should\n              // not be stored in the URL storage.\n              storeFingerprintForResuming: false,\n              removeFingerprintOnSuccess: false,\n              // Reset the parallelUploads option to not cause recursion.\n              parallelUploads: 1,\n              metadata: {},\n              // Add the header to indicate the this is a partial upload.\n              headers: _objectSpread({}, _this3.options.headers, {\n                \"Upload-Concat\": \"partial\"\n              }),\n              // Reject or resolve the promise if the upload errors or completes.\n              onSuccess: resolve,\n              onError: reject,\n              // Based in the progress for this partial upload, calculate the progress\n              // for the entire final upload.\n              onProgress: function onProgress(newPartProgress) {\n                totalProgress = totalProgress - lastPartProgress + newPartProgress;\n                lastPartProgress = newPartProgress;\n\n                _this3._emitProgress(totalProgress, totalSize);\n              },\n              // Wait until every partial upload has an upload URL, so we can add\n              // them to the URL storage.\n              _onUploadUrlAvailable: function _onUploadUrlAvailable() {\n                _this3._parallelUploadUrls[index] = upload.url; // Test if all uploads have received an URL\n\n                if (_this3._parallelUploadUrls.filter(function (u) {\n                  return !!u;\n                }).length === parts.length) {\n                  _this3._saveUploadInUrlStorage();\n                }\n              }\n            });\n\n            var upload = new BaseUpload(value, options);\n            upload.start(); // Store the upload in an array, so we can later abort them if necessary.\n\n            _this3._parallelUploads.push(upload);\n          });\n        });\n      });\n      var req; // Wait until all partial uploads are finished and we can send the POST request for\n      // creating the final upload.\n\n      Promise.all(uploads).then(function () {\n        req = _this3._openRequest(\"POST\", _this3.options.endpoint);\n        req.setHeader(\"Upload-Concat\", \"final;\".concat(_this3._parallelUploadUrls.join(\" \"))); // Add metadata if values have been added\n\n        var metadata = encodeMetadata(_this3.options.metadata);\n\n        if (metadata !== \"\") {\n          req.setHeader(\"Upload-Metadata\", metadata);\n        }\n\n        return _this3._sendRequest(req, null);\n      }).then(function (res) {\n        if (!inStatusCategory(res.getStatus(), 200)) {\n          _this3._emitHttpError(req, res, \"tus: unexpected response while creating upload\");\n\n          return;\n        }\n\n        var location = res.getHeader(\"Location\");\n\n        if (location == null) {\n          _this3._emitHttpError(req, res, \"tus: invalid or missing Location header\");\n\n          return;\n        }\n\n        _this3.url = resolveUrl(_this3.options.endpoint, location);\n        log(\"Created upload at \".concat(_this3.url));\n\n        _this3._emitSuccess();\n      })[\"catch\"](function (err) {\n        _this3._emitError(err);\n      });\n    }\n    /**\n     * Initiate the uploading procedure for a non-parallel upload. Here the entire file is\n     * uploaded in a sequential matter.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_startSingleUpload\",\n    value: function _startSingleUpload() {\n      // First, we look at the uploadLengthDeferred option.\n      // Next, we check if the caller has supplied a manual upload size.\n      // Finally, we try to use the calculated size from the source object.\n      if (this.options.uploadLengthDeferred) {\n        this._size = null;\n      } else if (this.options.uploadSize != null) {\n        this._size = +this.options.uploadSize;\n\n        if (isNaN(this._size)) {\n          this._emitError(new Error(\"tus: cannot convert `uploadSize` option into a number\"));\n\n          return;\n        }\n      } else {\n        this._size = this._source.size;\n\n        if (this._size == null) {\n          this._emitError(new Error(\"tus: cannot automatically derive upload's size from input and must be specified manually using the `uploadSize` option\"));\n\n          return;\n        }\n      } // Reset the aborted flag when the upload is started or else the\n      // _performUpload will stop before sending a request if the upload has been\n      // aborted previously.\n\n\n      this._aborted = false; // The upload had been started previously and we should reuse this URL.\n\n      if (this.url != null) {\n        log(\"Resuming upload from previous URL: \".concat(this.url));\n\n        this._resumeUpload();\n\n        return;\n      } // A URL has manually been specified, so we try to resume\n\n\n      if (this.options.uploadUrl != null) {\n        log(\"Resuming upload from provided URL: \".concat(this.options.url));\n        this.url = this.options.uploadUrl;\n\n        this._resumeUpload();\n\n        return;\n      } // An upload has not started for the file yet, so we start a new one\n\n\n      log(\"Creating a new upload\");\n\n      this._createUpload();\n    }\n    /**\n     * Abort any running request and stop the current upload. After abort is called, no event\n     * handler will be invoked anymore. You can use the `start` method to resume the upload\n     * again.\n     * If `shouldTerminate` is true, the `terminate` function will be called to remove the\n     * current upload from the server.\n     *\n     * @param {boolean} shouldTerminate True if the upload should be deleted from the server.\n     * @return {Promise} The Promise will be resolved/rejected when the requests finish.\n     */\n\n  }, {\n    key: \"abort\",\n    value: function abort(shouldTerminate, cb) {\n      var _this4 = this;\n\n      if (typeof cb === \"function\") {\n        throw new Error(\"tus: the abort function does not accept a callback since v2 anymore; please use the returned Promise instead\");\n      } // Stop any parallel partial uploads, that have been started in _startParallelUploads.\n\n\n      if (this._parallelUploads != null) {\n        this._parallelUploads.forEach(function (upload) {\n          upload.abort(shouldTerminate);\n        });\n      } // Stop any current running request.\n\n\n      if (this._req !== null) {\n        this._req.abort();\n\n        this._source.close();\n      }\n\n      this._aborted = true; // Stop any timeout used for initiating a retry.\n\n      if (this._retryTimeout != null) {\n        clearTimeout(this._retryTimeout);\n        this._retryTimeout = null;\n      }\n\n      if (!shouldTerminate || this.url == null) {\n        return Promise.resolve();\n      }\n\n      return BaseUpload.terminate(this.url, this.options) // Remove entry from the URL storage since the upload URL is no longer valid.\n      .then(function () {\n        return _this4._removeFromUrlStorage();\n      });\n    }\n  }, {\n    key: \"_emitHttpError\",\n    value: function _emitHttpError(req, res, message, causingErr) {\n      this._emitError(new DetailedError(message, causingErr, req, res));\n    }\n  }, {\n    key: \"_emitError\",\n    value: function _emitError(err) {\n      var _this5 = this;\n\n      // Do not emit errors, e.g. from aborted HTTP requests, if the upload has been stopped.\n      if (this._aborted) return; // Check if we should retry, when enabled, before sending the error to the user.\n\n      if (this.options.retryDelays != null) {\n        // We will reset the attempt counter if\n        // - we were already able to connect to the server (offset != null) and\n        // - we were able to upload a small chunk of data to the server\n        var shouldResetDelays = this._offset != null && this._offset > this._offsetBeforeRetry;\n\n        if (shouldResetDelays) {\n          this._retryAttempt = 0;\n        }\n\n        if (shouldRetry(err, this._retryAttempt, this.options)) {\n          var delay = this.options.retryDelays[this._retryAttempt++];\n          this._offsetBeforeRetry = this._offset;\n          this._retryTimeout = setTimeout(function () {\n            _this5.start();\n          }, delay);\n          return;\n        }\n      }\n\n      if (typeof this.options.onError === \"function\") {\n        this.options.onError(err);\n      } else {\n        throw err;\n      }\n    }\n    /**\n     * Publishes notification if the upload has been successfully completed.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_emitSuccess\",\n    value: function _emitSuccess() {\n      if (this.options.removeFingerprintOnSuccess) {\n        // Remove stored fingerprint and corresponding endpoint. This causes\n        // new uploads of the same file to be treated as a different file.\n        this._removeFromUrlStorage();\n      }\n\n      if (typeof this.options.onSuccess === \"function\") {\n        this.options.onSuccess();\n      }\n    }\n    /**\n     * Publishes notification when data has been sent to the server. This\n     * data may not have been accepted by the server yet.\n     *\n     * @param {number} bytesSent  Number of bytes sent to the server.\n     * @param {number} bytesTotal Total number of bytes to be sent to the server.\n     * @api private\n     */\n\n  }, {\n    key: \"_emitProgress\",\n    value: function _emitProgress(bytesSent, bytesTotal) {\n      if (typeof this.options.onProgress === \"function\") {\n        this.options.onProgress(bytesSent, bytesTotal);\n      }\n    }\n    /**\n     * Publishes notification when a chunk of data has been sent to the server\n     * and accepted by the server.\n     * @param {number} chunkSize  Size of the chunk that was accepted by the server.\n     * @param {number} bytesAccepted Total number of bytes that have been\n     *                                accepted by the server.\n     * @param {number} bytesTotal Total number of bytes to be sent to the server.\n     * @api private\n     */\n\n  }, {\n    key: \"_emitChunkComplete\",\n    value: function _emitChunkComplete(chunkSize, bytesAccepted, bytesTotal) {\n      if (typeof this.options.onChunkComplete === \"function\") {\n        this.options.onChunkComplete(chunkSize, bytesAccepted, bytesTotal);\n      }\n    }\n    /**\n     * Create a new upload using the creation extension by sending a POST\n     * request to the endpoint. After successful creation the file will be\n     * uploaded\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_createUpload\",\n    value: function _createUpload() {\n      var _this6 = this;\n\n      if (!this.options.endpoint) {\n        this._emitError(new Error(\"tus: unable to create upload because no endpoint is provided\"));\n\n        return;\n      }\n\n      var req = this._openRequest(\"POST\", this.options.endpoint);\n\n      if (this.options.uploadLengthDeferred) {\n        req.setHeader(\"Upload-Defer-Length\", 1);\n      } else {\n        req.setHeader(\"Upload-Length\", this._size);\n      } // Add metadata if values have been added\n\n\n      var metadata = encodeMetadata(this.options.metadata);\n\n      if (metadata !== \"\") {\n        req.setHeader(\"Upload-Metadata\", metadata);\n      }\n\n      var promise;\n\n      if (this.options.uploadDataDuringCreation && !this.options.uploadLengthDeferred) {\n        this._offset = 0;\n        promise = this._addChunkToRequest(req);\n      } else {\n        promise = this._sendRequest(req, null);\n      }\n\n      promise.then(function (res) {\n        if (!inStatusCategory(res.getStatus(), 200)) {\n          _this6._emitHttpError(req, res, \"tus: unexpected response while creating upload\");\n\n          return;\n        }\n\n        var location = res.getHeader(\"Location\");\n\n        if (location == null) {\n          _this6._emitHttpError(req, res, \"tus: invalid or missing Location header\");\n\n          return;\n        }\n\n        _this6.url = resolveUrl(_this6.options.endpoint, location);\n        log(\"Created upload at \".concat(_this6.url));\n\n        if (typeof _this6.options._onUploadUrlAvailable === \"function\") {\n          _this6.options._onUploadUrlAvailable();\n        }\n\n        if (_this6._size === 0) {\n          // Nothing to upload and file was successfully created\n          _this6._emitSuccess();\n\n          _this6._source.close();\n\n          return;\n        }\n\n        _this6._saveUploadInUrlStorage();\n\n        if (_this6.options.uploadDataDuringCreation) {\n          _this6._handleUploadResponse(req, res);\n        } else {\n          _this6._offset = 0;\n\n          _this6._performUpload();\n        }\n      })[\"catch\"](function (err) {\n        _this6._emitHttpError(req, null, \"tus: failed to create upload\", err);\n      });\n    }\n    /*\n     * Try to resume an existing upload. First a HEAD request will be sent\n     * to retrieve the offset. If the request fails a new upload will be\n     * created. In the case of a successful response the file will be uploaded.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_resumeUpload\",\n    value: function _resumeUpload() {\n      var _this7 = this;\n\n      var req = this._openRequest(\"HEAD\", this.url);\n\n      var promise = this._sendRequest(req, null);\n\n      promise.then(function (res) {\n        var status = res.getStatus();\n\n        if (!inStatusCategory(status, 200)) {\n          if (inStatusCategory(status, 400)) {\n            // Remove stored fingerprint and corresponding endpoint,\n            // on client errors since the file can not be found\n            _this7._removeFromUrlStorage();\n          } // If the upload is locked (indicated by the 423 Locked status code), we\n          // emit an error instead of directly starting a new upload. This way the\n          // retry logic can catch the error and will retry the upload. An upload\n          // is usually locked for a short period of time and will be available\n          // afterwards.\n\n\n          if (status === 423) {\n            _this7._emitHttpError(req, res, \"tus: upload is currently locked; retry later\");\n\n            return;\n          }\n\n          if (!_this7.options.endpoint) {\n            // Don't attempt to create a new upload if no endpoint is provided.\n            _this7._emitHttpError(req, res, \"tus: unable to resume upload (new upload cannot be created without an endpoint)\");\n\n            return;\n          } // Try to create a new upload\n\n\n          _this7.url = null;\n\n          _this7._createUpload();\n\n          return;\n        }\n\n        var offset = parseInt(res.getHeader(\"Upload-Offset\"), 10);\n\n        if (isNaN(offset)) {\n          _this7._emitHttpError(req, res, \"tus: invalid or missing offset value\");\n\n          return;\n        }\n\n        var length = parseInt(res.getHeader(\"Upload-Length\"), 10);\n\n        if (isNaN(length) && !_this7.options.uploadLengthDeferred) {\n          _this7._emitHttpError(req, res, \"tus: invalid or missing length value\");\n\n          return;\n        }\n\n        if (typeof _this7.options._onUploadUrlAvailable === \"function\") {\n          _this7.options._onUploadUrlAvailable();\n        } // Upload has already been completed and we do not need to send additional\n        // data to the server\n\n\n        if (offset === length) {\n          _this7._emitProgress(length, length);\n\n          _this7._emitSuccess();\n\n          return;\n        }\n\n        _this7._offset = offset;\n\n        _this7._performUpload();\n      })[\"catch\"](function (err) {\n        _this7._emitHttpError(req, null, \"tus: failed to resume upload\", err);\n      });\n    }\n    /**\n     * Start uploading the file using PATCH requests. The file will be divided\n     * into chunks as specified in the chunkSize option. During the upload\n     * the onProgress event handler may be invoked multiple times.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_performUpload\",\n    value: function _performUpload() {\n      var _this8 = this;\n\n      // If the upload has been aborted, we will not send the next PATCH request.\n      // This is important if the abort method was called during a callback, such\n      // as onChunkComplete or onProgress.\n      if (this._aborted) {\n        return;\n      }\n\n      var req; // Some browser and servers may not support the PATCH method. For those\n      // cases, you can tell tus-js-client to use a POST request with the\n      // X-HTTP-Method-Override header for simulating a PATCH request.\n\n      if (this.options.overridePatchMethod) {\n        req = this._openRequest(\"POST\", this.url);\n        req.setHeader(\"X-HTTP-Method-Override\", \"PATCH\");\n      } else {\n        req = this._openRequest(\"PATCH\", this.url);\n      }\n\n      req.setHeader(\"Upload-Offset\", this._offset);\n\n      var promise = this._addChunkToRequest(req);\n\n      promise.then(function (res) {\n        if (!inStatusCategory(res.getStatus(), 200)) {\n          _this8._emitHttpError(req, res, \"tus: unexpected response while uploading chunk\");\n\n          return;\n        }\n\n        _this8._handleUploadResponse(req, res);\n      })[\"catch\"](function (err) {\n        // Don't emit an error if the upload was aborted manually\n        if (_this8._aborted) {\n          return;\n        }\n\n        _this8._emitHttpError(req, null, \"tus: failed to upload chunk at offset \" + _this8._offset, err);\n      });\n    }\n    /**\n     * _addChunktoRequest reads a chunk from the source and sends it using the\n     * supplied request object. It will not handle the response.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_addChunkToRequest\",\n    value: function _addChunkToRequest(req) {\n      var _this9 = this;\n\n      var start = this._offset;\n      var end = this._offset + this.options.chunkSize;\n      req.setProgressHandler(function (bytesSent) {\n        _this9._emitProgress(start + bytesSent, _this9._size);\n      });\n      req.setHeader(\"Content-Type\", \"application/offset+octet-stream\"); // The specified chunkSize may be Infinity or the calcluated end position\n      // may exceed the file's size. In both cases, we limit the end position to\n      // the input's total size for simpler calculations and correctness.\n\n      if ((end === Infinity || end > this._size) && !this.options.uploadLengthDeferred) {\n        end = this._size;\n      }\n\n      return this._source.slice(start, end).then(function (_ref2) {\n        var value = _ref2.value,\n            done = _ref2.done;\n\n        // If the upload length is deferred, the upload size was not specified during\n        // upload creation. So, if the file reader is done reading, we know the total\n        // upload size and can tell the tus server.\n        if (_this9.options.uploadLengthDeferred && done) {\n          _this9._size = _this9._offset + (value && value.size ? value.size : 0);\n          req.setHeader(\"Upload-Length\", _this9._size);\n        }\n\n        if (value === null) {\n          return _this9._sendRequest(req);\n        } else {\n          _this9._emitProgress(_this9._offset, _this9._size);\n\n          return _this9._sendRequest(req, value);\n        }\n      });\n    }\n    /**\n     * _handleUploadResponse is used by requests that haven been sent using _addChunkToRequest\n     * and already have received a response.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_handleUploadResponse\",\n    value: function _handleUploadResponse(req, res) {\n      var offset = parseInt(res.getHeader(\"Upload-Offset\"), 10);\n\n      if (isNaN(offset)) {\n        this._emitHttpError(req, res, \"tus: invalid or missing offset value\");\n\n        return;\n      }\n\n      this._emitProgress(offset, this._size);\n\n      this._emitChunkComplete(offset - this._offset, offset, this._size);\n\n      this._offset = offset;\n\n      if (offset == this._size) {\n        // Yay, finally done :)\n        this._emitSuccess();\n\n        this._source.close();\n\n        return;\n      }\n\n      this._performUpload();\n    }\n    /**\n     * Create a new HTTP request object with the given method and URL.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_openRequest\",\n    value: function _openRequest(method, url) {\n      var req = openRequest(method, url, this.options);\n      this._req = req;\n      return req;\n    }\n    /**\n     * Remove the entry in the URL storage, if it has been saved before.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_removeFromUrlStorage\",\n    value: function _removeFromUrlStorage() {\n      var _this10 = this;\n\n      if (!this._urlStorageKey) return;\n\n      this._urlStorage.removeUpload(this._urlStorageKey)[\"catch\"](function (err) {\n        _this10._emitError(err);\n      });\n\n      this._urlStorageKey = null;\n    }\n    /**\n     * Add the upload URL to the URL storage, if possible.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_saveUploadInUrlStorage\",\n    value: function _saveUploadInUrlStorage() {\n      var _this11 = this;\n\n      // Only if a fingerprint was calculated for the input (i.e. not a stream), we can store the upload URL.\n      if (!this.options.storeFingerprintForResuming || !this._fingerprint) {\n        return;\n      }\n\n      var storedUpload = {\n        size: this._size,\n        metadata: this.options.metadata,\n        creationTime: new Date().toString()\n      };\n\n      if (this._parallelUploads) {\n        // Save multiple URLs if the parallelUploads option is used ...\n        storedUpload.parallelUploadUrls = this._parallelUploadUrls;\n      } else {\n        // ... otherwise we just save the one available URL.\n        storedUpload.uploadUrl = this.url;\n      }\n\n      this._urlStorage.addUpload(this._fingerprint, storedUpload).then(function (urlStorageKey) {\n        return _this11._urlStorageKey = urlStorageKey;\n      })[\"catch\"](function (err) {\n        _this11._emitError(err);\n      });\n    }\n    /**\n     * Send a request with the provided body.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_sendRequest\",\n    value: function _sendRequest(req) {\n      var body = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      return sendRequest(req, body, this.options);\n    }\n  }], [{\n    key: \"terminate\",\n    value: function terminate(url) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var cb = arguments.length > 2 ? arguments[2] : undefined;\n\n      if (typeof options === \"function\" || typeof cb === \"function\") {\n        throw new Error(\"tus: the terminate function does not accept a callback since v2 anymore; please use the returned Promise instead\");\n      }\n\n      var req = openRequest(\"DELETE\", url, options);\n      return sendRequest(req, null, options).then(function (res) {\n        // A 204 response indicates a successfull request\n        if (res.getStatus() === 204) {\n          return;\n        }\n\n        throw new DetailedError(\"tus: unexpected response while terminating upload\", null, req, res);\n      })[\"catch\"](function (err) {\n        if (!(err instanceof DetailedError)) {\n          err = new DetailedError(\"tus: failed to terminate upload\", err, req, null);\n        }\n\n        if (!shouldRetry(err, 0, options)) {\n          throw err;\n        } // Instead of keeping track of the retry attempts, we remove the first element from the delays\n        // array. If the array is empty, all retry attempts are used up and we will bubble up the error.\n        // We recursively call the terminate function will removing elements from the retryDelays array.\n\n\n        var delay = options.retryDelays[0];\n        var remainingDelays = options.retryDelays.slice(1);\n\n        var newOptions = _objectSpread({}, options, {\n          retryDelays: remainingDelays\n        });\n\n        return new Promise(function (resolve) {\n          return setTimeout(resolve, delay);\n        }).then(function () {\n          return BaseUpload.terminate(url, newOptions);\n        });\n      });\n    }\n  }]);\n\n  return BaseUpload;\n}();\n\nfunction encodeMetadata(metadata) {\n  var encoded = [];\n\n  for (var key in metadata) {\n    encoded.push(key + \" \" + Base64.encode(metadata[key]));\n  }\n\n  return encoded.join(\",\");\n}\n/**\n * Checks whether a given status is in the range of the expected category.\n * For example, only a status between 200 and 299 will satisfy the category 200.\n *\n * @api private\n */\n\n\nfunction inStatusCategory(status, category) {\n  return status >= category && status < category + 100;\n}\n/**\n * Create a new HTTP request with the specified method and URL.\n * The necessary headers that are included in every request\n * will be added, including the request ID.\n *\n * @api private\n */\n\n\nfunction openRequest(method, url, options) {\n  var req = options.httpStack.createRequest(method, url);\n  req.setHeader(\"Tus-Resumable\", \"1.0.0\");\n  var headers = options.headers || {};\n\n  for (var name in headers) {\n    req.setHeader(name, headers[name]);\n  }\n\n  if (options.addRequestId) {\n    var requestId = uuid();\n    req.setHeader(\"X-Request-ID\", requestId);\n  }\n\n  return req;\n}\n/**\n * Send a request with the provided body while invoking the onBeforeRequest\n * and onAfterResponse callbacks.\n *\n * @api private\n */\n\n\nfunction sendRequest(req, body, options) {\n  var onBeforeRequestPromise = typeof options.onBeforeRequest === \"function\" ? Promise.resolve(options.onBeforeRequest(req)) : Promise.resolve();\n  return onBeforeRequestPromise.then(function () {\n    return req.send(body).then(function (res) {\n      var onAfterResponsePromise = typeof options.onAfterResponse === \"function\" ? Promise.resolve(options.onAfterResponse(req, res)) : Promise.resolve();\n      return onAfterResponsePromise.then(function () {\n        return res;\n      });\n    });\n  });\n}\n/**\n * Checks whether the browser running this code has internet access.\n * This function will always return true in the node.js environment\n *\n * @api private\n */\n\n\nfunction isOnline() {\n  var online = true;\n\n  if (typeof window !== \"undefined\" && \"navigator\" in window && window.navigator.onLine === false) {\n    online = false;\n  }\n\n  return online;\n}\n/**\n * Checks whether or not it is ok to retry a request.\n * @param {Error} err the error returned from the last request\n * @param {number} retryAttempt the number of times the request has already been retried\n * @param {object} options tus Upload options\n *\n * @api private\n */\n\n\nfunction shouldRetry(err, retryAttempt, options) {\n  // We only attempt a retry if\n  // - retryDelays option is set\n  // - we didn't exceed the maxium number of retries, yet, and\n  // - this error was caused by a request or it's response and\n  // - the error is server error (i.e. not a status 4xx except a 409 or 423) or\n  // a onShouldRetry is specified and returns true\n  // - the browser does not indicate that we are offline\n  if (options.retryDelays == null || retryAttempt >= options.retryDelays.length || err.originalRequest == null) {\n    return false;\n  }\n\n  if (options && typeof options.onShouldRetry === \"function\") {\n    return options.onShouldRetry(err, retryAttempt, options);\n  }\n\n  var status = err.originalResponse ? err.originalResponse.getStatus() : 0;\n  return (!inStatusCategory(status, 400) || status === 409 || status === 423) && isOnline();\n}\n/**\n * Resolve a relative link given the origin as source. For example,\n * if a HTTP request to http://example.com/files/ returns a Location\n * header with the value /upload/abc, the resolved URL will be:\n * http://example.com/upload/abc\n */\n\n\nfunction resolveUrl(origin, link) {\n  return new URL(link, origin).toString();\n}\n/**\n * Calculate the start and end positions for the parts if an upload\n * is split into multiple parallel requests.\n *\n * @param {number} totalSize The byte size of the upload, which will be split.\n * @param {number} partCount The number in how many parts the upload will be split.\n * @param {string[]} previousUrls The upload URLs for previous parts.\n * @return {object[]}\n * @api private\n */\n\n\nfunction splitSizeIntoParts(totalSize, partCount, previousUrls) {\n  var partSize = Math.floor(totalSize / partCount);\n  var parts = [];\n\n  for (var i = 0; i < partCount; i++) {\n    parts.push({\n      start: partSize * i,\n      end: partSize * (i + 1)\n    });\n  }\n\n  parts[partCount - 1].end = totalSize; // Attach URLs from previous uploads, if available.\n\n  if (previousUrls) {\n    parts.forEach(function (part, index) {\n      part.uploadUrl = previousUrls[index] || null;\n    });\n  }\n\n  return parts;\n}\n\nBaseUpload.defaultOptions = defaultOptions;\nexport default BaseUpload;","/**\n * Generate a UUID v4 based on random numbers. We intentioanlly use the less\n * secure Math.random function here since the more secure crypto.getRandomNumbers\n * is not available on all platforms.\n * This is not a problem for us since we use the UUID only for generating a\n * request ID, so we can correlate server logs to client errors.\n *\n * This function is taken from following site:\n * https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript\n *\n * @return {string} The generate UUID\n */\nexport default function uuid() {\n  return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0,\n        v = c == \"x\" ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}","/*\n *  base64.js\n *\n *  Licensed under the BSD 3-Clause License.\n *    http://opensource.org/licenses/BSD-3-Clause\n *\n *  References:\n *    http://en.wikipedia.org/wiki/Base64\n */\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined'\n        ? module.exports = factory(global)\n        : typeof define === 'function' && define.amd\n        ? define(factory) : factory(global)\n}((\n    typeof self !== 'undefined' ? self\n        : typeof window !== 'undefined' ? window\n        : typeof global !== 'undefined' ? global\n: this\n), function(global) {\n    'use strict';\n    // existing version for noConflict()\n    global = global || {};\n    var _Base64 = global.Base64;\n    var version = \"2.6.4\";\n    // constants\n    var b64chars\n        = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n    var b64tab = function(bin) {\n        var t = {};\n        for (var i = 0, l = bin.length; i < l; i++) t[bin.charAt(i)] = i;\n        return t;\n    }(b64chars);\n    var fromCharCode = String.fromCharCode;\n    // encoder stuff\n    var cb_utob = function(c) {\n        if (c.length < 2) {\n            var cc = c.charCodeAt(0);\n            return cc < 0x80 ? c\n                : cc < 0x800 ? (fromCharCode(0xc0 | (cc >>> 6))\n                                + fromCharCode(0x80 | (cc & 0x3f)))\n                : (fromCharCode(0xe0 | ((cc >>> 12) & 0x0f))\n                    + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\n                    + fromCharCode(0x80 | ( cc         & 0x3f)));\n        } else {\n            var cc = 0x10000\n                + (c.charCodeAt(0) - 0xD800) * 0x400\n                + (c.charCodeAt(1) - 0xDC00);\n            return (fromCharCode(0xf0 | ((cc >>> 18) & 0x07))\n                    + fromCharCode(0x80 | ((cc >>> 12) & 0x3f))\n                    + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\n                    + fromCharCode(0x80 | ( cc         & 0x3f)));\n        }\n    };\n    var re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\n    var utob = function(u) {\n        return u.replace(re_utob, cb_utob);\n    };\n    var cb_encode = function(ccc) {\n        var padlen = [0, 2, 1][ccc.length % 3],\n        ord = ccc.charCodeAt(0) << 16\n            | ((ccc.length > 1 ? ccc.charCodeAt(1) : 0) << 8)\n            | ((ccc.length > 2 ? ccc.charCodeAt(2) : 0)),\n        chars = [\n            b64chars.charAt( ord >>> 18),\n            b64chars.charAt((ord >>> 12) & 63),\n            padlen >= 2 ? '=' : b64chars.charAt((ord >>> 6) & 63),\n            padlen >= 1 ? '=' : b64chars.charAt(ord & 63)\n        ];\n        return chars.join('');\n    };\n    var btoa = global.btoa && typeof global.btoa == 'function'\n        ? function(b){ return global.btoa(b) } : function(b) {\n        if (b.match(/[^\\x00-\\xFF]/)) throw new RangeError(\n            'The string contains invalid characters.'\n        );\n        return b.replace(/[\\s\\S]{1,3}/g, cb_encode);\n    };\n    var _encode = function(u) {\n        return btoa(utob(String(u)));\n    };\n    var mkUriSafe = function (b64) {\n        return b64.replace(/[+\\/]/g, function(m0) {\n            return m0 == '+' ? '-' : '_';\n        }).replace(/=/g, '');\n    };\n    var encode = function(u, urisafe) {\n        return urisafe ? mkUriSafe(_encode(u)) : _encode(u);\n    };\n    var encodeURI = function(u) { return encode(u, true) };\n    var fromUint8Array;\n    if (global.Uint8Array) fromUint8Array = function(a, urisafe) {\n        // return btoa(fromCharCode.apply(null, a));\n        var b64 = '';\n        for (var i = 0, l = a.length; i < l; i += 3) {\n            var a0 = a[i], a1 = a[i+1], a2 = a[i+2];\n            var ord = a0 << 16 | a1 << 8 | a2;\n            b64 +=    b64chars.charAt( ord >>> 18)\n                +     b64chars.charAt((ord >>> 12) & 63)\n                + ( typeof a1 != 'undefined'\n                    ? b64chars.charAt((ord >>>  6) & 63) : '=')\n                + ( typeof a2 != 'undefined'\n                    ? b64chars.charAt( ord         & 63) : '=');\n        }\n        return urisafe ? mkUriSafe(b64) : b64;\n    };\n    // decoder stuff\n    var re_btou = /[\\xC0-\\xDF][\\x80-\\xBF]|[\\xE0-\\xEF][\\x80-\\xBF]{2}|[\\xF0-\\xF7][\\x80-\\xBF]{3}/g;\n    var cb_btou = function(cccc) {\n        switch(cccc.length) {\n        case 4:\n            var cp = ((0x07 & cccc.charCodeAt(0)) << 18)\n                |    ((0x3f & cccc.charCodeAt(1)) << 12)\n                |    ((0x3f & cccc.charCodeAt(2)) <<  6)\n                |     (0x3f & cccc.charCodeAt(3)),\n            offset = cp - 0x10000;\n            return (fromCharCode((offset  >>> 10) + 0xD800)\n                    + fromCharCode((offset & 0x3FF) + 0xDC00));\n        case 3:\n            return fromCharCode(\n                ((0x0f & cccc.charCodeAt(0)) << 12)\n                    | ((0x3f & cccc.charCodeAt(1)) << 6)\n                    |  (0x3f & cccc.charCodeAt(2))\n            );\n        default:\n            return  fromCharCode(\n                ((0x1f & cccc.charCodeAt(0)) << 6)\n                    |  (0x3f & cccc.charCodeAt(1))\n            );\n        }\n    };\n    var btou = function(b) {\n        return b.replace(re_btou, cb_btou);\n    };\n    var cb_decode = function(cccc) {\n        var len = cccc.length,\n        padlen = len % 4,\n        n = (len > 0 ? b64tab[cccc.charAt(0)] << 18 : 0)\n            | (len > 1 ? b64tab[cccc.charAt(1)] << 12 : 0)\n            | (len > 2 ? b64tab[cccc.charAt(2)] <<  6 : 0)\n            | (len > 3 ? b64tab[cccc.charAt(3)]       : 0),\n        chars = [\n            fromCharCode( n >>> 16),\n            fromCharCode((n >>>  8) & 0xff),\n            fromCharCode( n         & 0xff)\n        ];\n        chars.length -= [0, 0, 2, 1][padlen];\n        return chars.join('');\n    };\n    var _atob = global.atob && typeof global.atob == 'function'\n        ? function(a){ return global.atob(a) } : function(a){\n        return a.replace(/\\S{1,4}/g, cb_decode);\n    };\n    var atob = function(a) {\n        return _atob(String(a).replace(/[^A-Za-z0-9\\+\\/]/g, ''));\n    };\n    var _decode = function(a) { return btou(_atob(a)) };\n    var _fromURI = function(a) {\n        return String(a).replace(/[-_]/g, function(m0) {\n            return m0 == '-' ? '+' : '/'\n        }).replace(/[^A-Za-z0-9\\+\\/]/g, '');\n    };\n    var decode = function(a){\n        return _decode(_fromURI(a));\n    };\n    var toUint8Array;\n    if (global.Uint8Array) toUint8Array = function(a) {\n        return Uint8Array.from(atob(_fromURI(a)), function(c) {\n            return c.charCodeAt(0);\n        });\n    };\n    var noConflict = function() {\n        var Base64 = global.Base64;\n        global.Base64 = _Base64;\n        return Base64;\n    };\n    // export Base64\n    global.Base64 = {\n        VERSION: version,\n        atob: atob,\n        btoa: btoa,\n        fromBase64: decode,\n        toBase64: encode,\n        utob: utob,\n        encode: encode,\n        encodeURI: encodeURI,\n        btou: btou,\n        decode: decode,\n        noConflict: noConflict,\n        fromUint8Array: fromUint8Array,\n        toUint8Array: toUint8Array\n    };\n    // if ES5 is available, make Base64.extendString() available\n    if (typeof Object.defineProperty === 'function') {\n        var noEnum = function(v){\n            return {value:v,enumerable:false,writable:true,configurable:true};\n        };\n        global.Base64.extendString = function () {\n            Object.defineProperty(\n                String.prototype, 'fromBase64', noEnum(function () {\n                    return decode(this)\n                }));\n            Object.defineProperty(\n                String.prototype, 'toBase64', noEnum(function (urisafe) {\n                    return encode(this, urisafe)\n                }));\n            Object.defineProperty(\n                String.prototype, 'toBase64URI', noEnum(function () {\n                    return encode(this, true)\n                }));\n        };\n    }\n    //\n    // export Base64 to the namespace\n    //\n    if (global['Meteor']) { // Meteor.js\n        Base64 = global.Base64;\n    }\n    // module.exports and AMD are mutually exclusive.\n    // module.exports has precedence.\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports.Base64 = global.Base64;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], function(){ return global.Base64 });\n    }\n    // that's it!\n    return {Base64: global.Base64}\n}));\n","'use strict';\n\nvar required = require('requires-port')\n  , qs = require('querystringify')\n  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//\n  , protocolre = /^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\S\\s]*)/i\n  , whitespace = '[\\\\x09\\\\x0A\\\\x0B\\\\x0C\\\\x0D\\\\x20\\\\xA0\\\\u1680\\\\u180E\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200A\\\\u202F\\\\u205F\\\\u3000\\\\u2028\\\\u2029\\\\uFEFF]'\n  , left = new RegExp('^'+ whitespace +'+');\n\n/**\n * Trim a given string.\n *\n * @param {String} str String to trim.\n * @public\n */\nfunction trimLeft(str) {\n  return (str ? str : '').toString().replace(left, '');\n}\n\n/**\n * These are the parse rules for the URL parser, it informs the parser\n * about:\n *\n * 0. The char it Needs to parse, if it's a string it should be done using\n *    indexOf, RegExp using exec and NaN means set as current value.\n * 1. The property we should set when parsing this value.\n * 2. Indication if it's backwards or forward parsing, when set as number it's\n *    the value of extra chars that should be split off.\n * 3. Inherit from location if non existing in the parser.\n * 4. `toLowerCase` the resulting value.\n */\nvar rules = [\n  ['#', 'hash'],                        // Extract from the back.\n  ['?', 'query'],                       // Extract from the back.\n  function sanitize(address) {          // Sanitize what is left of the address\n    return address.replace('\\\\', '/');\n  },\n  ['/', 'pathname'],                    // Extract from the back.\n  ['@', 'auth', 1],                     // Extract from the front.\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\n  [/:(\\d+)$/, 'port', undefined, 1],    // RegExp the back.\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\n];\n\n/**\n * These properties should not be copied or inherited from. This is only needed\n * for all non blob URL's as a blob URL does not include a hash, only the\n * origin.\n *\n * @type {Object}\n * @private\n */\nvar ignore = { hash: 1, query: 1 };\n\n/**\n * The location object differs when your code is loaded through a normal page,\n * Worker or through a worker using a blob. And with the blobble begins the\n * trouble as the location object will contain the URL of the blob, not the\n * location of the page where our code is loaded in. The actual origin is\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\n * location from it so we can generate proper relative URL's again.\n *\n * @param {Object|String} loc Optional default location object.\n * @returns {Object} lolcation object.\n * @public\n */\nfunction lolcation(loc) {\n  var globalVar;\n\n  if (typeof window !== 'undefined') globalVar = window;\n  else if (typeof global !== 'undefined') globalVar = global;\n  else if (typeof self !== 'undefined') globalVar = self;\n  else globalVar = {};\n\n  var location = globalVar.location || {};\n  loc = loc || location;\n\n  var finaldestination = {}\n    , type = typeof loc\n    , key;\n\n  if ('blob:' === loc.protocol) {\n    finaldestination = new Url(unescape(loc.pathname), {});\n  } else if ('string' === type) {\n    finaldestination = new Url(loc, {});\n    for (key in ignore) delete finaldestination[key];\n  } else if ('object' === type) {\n    for (key in loc) {\n      if (key in ignore) continue;\n      finaldestination[key] = loc[key];\n    }\n\n    if (finaldestination.slashes === undefined) {\n      finaldestination.slashes = slashes.test(loc.href);\n    }\n  }\n\n  return finaldestination;\n}\n\n/**\n * @typedef ProtocolExtract\n * @type Object\n * @property {String} protocol Protocol matched in the URL, in lowercase.\n * @property {Boolean} slashes `true` if protocol is followed by \"//\", else `false`.\n * @property {String} rest Rest of the URL that is not part of the protocol.\n */\n\n/**\n * Extract protocol information from a URL with/without double slash (\"//\").\n *\n * @param {String} address URL we want to extract from.\n * @return {ProtocolExtract} Extracted information.\n * @private\n */\nfunction extractProtocol(address) {\n  address = trimLeft(address);\n  var match = protocolre.exec(address);\n\n  return {\n    protocol: match[1] ? match[1].toLowerCase() : '',\n    slashes: !!match[2],\n    rest: match[3]\n  };\n}\n\n/**\n * Resolve a relative URL pathname against a base URL pathname.\n *\n * @param {String} relative Pathname of the relative URL.\n * @param {String} base Pathname of the base URL.\n * @return {String} Resolved pathname.\n * @private\n */\nfunction resolve(relative, base) {\n  if (relative === '') return base;\n\n  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))\n    , i = path.length\n    , last = path[i - 1]\n    , unshift = false\n    , up = 0;\n\n  while (i--) {\n    if (path[i] === '.') {\n      path.splice(i, 1);\n    } else if (path[i] === '..') {\n      path.splice(i, 1);\n      up++;\n    } else if (up) {\n      if (i === 0) unshift = true;\n      path.splice(i, 1);\n      up--;\n    }\n  }\n\n  if (unshift) path.unshift('');\n  if (last === '.' || last === '..') path.push('');\n\n  return path.join('/');\n}\n\n/**\n * The actual URL instance. Instead of returning an object we've opted-in to\n * create an actual constructor as it's much more memory efficient and\n * faster and it pleases my OCD.\n *\n * It is worth noting that we should not use `URL` as class name to prevent\n * clashes with the global URL instance that got introduced in browsers.\n *\n * @constructor\n * @param {String} address URL we want to parse.\n * @param {Object|String} [location] Location defaults for relative paths.\n * @param {Boolean|Function} [parser] Parser for the query string.\n * @private\n */\nfunction Url(address, location, parser) {\n  address = trimLeft(address);\n\n  if (!(this instanceof Url)) {\n    return new Url(address, location, parser);\n  }\n\n  var relative, extracted, parse, instruction, index, key\n    , instructions = rules.slice()\n    , type = typeof location\n    , url = this\n    , i = 0;\n\n  //\n  // The following if statements allows this module two have compatibility with\n  // 2 different API:\n  //\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\n  //    where the boolean indicates that the query string should also be parsed.\n  //\n  // 2. The `URL` interface of the browser which accepts a URL, object as\n  //    arguments. The supplied object will be used as default values / fall-back\n  //    for relative paths.\n  //\n  if ('object' !== type && 'string' !== type) {\n    parser = location;\n    location = null;\n  }\n\n  if (parser && 'function' !== typeof parser) parser = qs.parse;\n\n  location = lolcation(location);\n\n  //\n  // Extract protocol information before running the instructions.\n  //\n  extracted = extractProtocol(address || '');\n  relative = !extracted.protocol && !extracted.slashes;\n  url.slashes = extracted.slashes || relative && location.slashes;\n  url.protocol = extracted.protocol || location.protocol || '';\n  address = extracted.rest;\n\n  //\n  // When the authority component is absent the URL starts with a path\n  // component.\n  //\n  if (!extracted.slashes) instructions[3] = [/(.*)/, 'pathname'];\n\n  for (; i < instructions.length; i++) {\n    instruction = instructions[i];\n\n    if (typeof instruction === 'function') {\n      address = instruction(address);\n      continue;\n    }\n\n    parse = instruction[0];\n    key = instruction[1];\n\n    if (parse !== parse) {\n      url[key] = address;\n    } else if ('string' === typeof parse) {\n      if (~(index = address.indexOf(parse))) {\n        if ('number' === typeof instruction[2]) {\n          url[key] = address.slice(0, index);\n          address = address.slice(index + instruction[2]);\n        } else {\n          url[key] = address.slice(index);\n          address = address.slice(0, index);\n        }\n      }\n    } else if ((index = parse.exec(address))) {\n      url[key] = index[1];\n      address = address.slice(0, index.index);\n    }\n\n    url[key] = url[key] || (\n      relative && instruction[3] ? location[key] || '' : ''\n    );\n\n    //\n    // Hostname, host and protocol should be lowercased so they can be used to\n    // create a proper `origin`.\n    //\n    if (instruction[4]) url[key] = url[key].toLowerCase();\n  }\n\n  //\n  // Also parse the supplied query string in to an object. If we're supplied\n  // with a custom parser as function use that instead of the default build-in\n  // parser.\n  //\n  if (parser) url.query = parser(url.query);\n\n  //\n  // If the URL is relative, resolve the pathname against the base URL.\n  //\n  if (\n      relative\n    && location.slashes\n    && url.pathname.charAt(0) !== '/'\n    && (url.pathname !== '' || location.pathname !== '')\n  ) {\n    url.pathname = resolve(url.pathname, location.pathname);\n  }\n\n  //\n  // We should not add port numbers if they are already the default port number\n  // for a given protocol. As the host also contains the port number we're going\n  // override it with the hostname which contains no port number.\n  //\n  if (!required(url.port, url.protocol)) {\n    url.host = url.hostname;\n    url.port = '';\n  }\n\n  //\n  // Parse down the `auth` for the username and password.\n  //\n  url.username = url.password = '';\n  if (url.auth) {\n    instruction = url.auth.split(':');\n    url.username = instruction[0] || '';\n    url.password = instruction[1] || '';\n  }\n\n  url.origin = url.protocol && url.host && url.protocol !== 'file:'\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  //\n  // The href is just the compiled result.\n  //\n  url.href = url.toString();\n}\n\n/**\n * This is convenience method for changing properties in the URL instance to\n * insure that they all propagate correctly.\n *\n * @param {String} part          Property we need to adjust.\n * @param {Mixed} value          The newly assigned value.\n * @param {Boolean|Function} fn  When setting the query, it will be the function\n *                               used to parse the query.\n *                               When setting the protocol, double slash will be\n *                               removed from the final url if it is true.\n * @returns {URL} URL instance for chaining.\n * @public\n */\nfunction set(part, value, fn) {\n  var url = this;\n\n  switch (part) {\n    case 'query':\n      if ('string' === typeof value && value.length) {\n        value = (fn || qs.parse)(value);\n      }\n\n      url[part] = value;\n      break;\n\n    case 'port':\n      url[part] = value;\n\n      if (!required(value, url.protocol)) {\n        url.host = url.hostname;\n        url[part] = '';\n      } else if (value) {\n        url.host = url.hostname +':'+ value;\n      }\n\n      break;\n\n    case 'hostname':\n      url[part] = value;\n\n      if (url.port) value += ':'+ url.port;\n      url.host = value;\n      break;\n\n    case 'host':\n      url[part] = value;\n\n      if (/:\\d+$/.test(value)) {\n        value = value.split(':');\n        url.port = value.pop();\n        url.hostname = value.join(':');\n      } else {\n        url.hostname = value;\n        url.port = '';\n      }\n\n      break;\n\n    case 'protocol':\n      url.protocol = value.toLowerCase();\n      url.slashes = !fn;\n      break;\n\n    case 'pathname':\n    case 'hash':\n      if (value) {\n        var char = part === 'pathname' ? '/' : '#';\n        url[part] = value.charAt(0) !== char ? char + value : value;\n      } else {\n        url[part] = value;\n      }\n      break;\n\n    default:\n      url[part] = value;\n  }\n\n  for (var i = 0; i < rules.length; i++) {\n    var ins = rules[i];\n\n    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();\n  }\n\n  url.origin = url.protocol && url.host && url.protocol !== 'file:'\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  url.href = url.toString();\n\n  return url;\n}\n\n/**\n * Transform the properties back in to a valid and full URL string.\n *\n * @param {Function} stringify Optional query stringify function.\n * @returns {String} Compiled version of the URL.\n * @public\n */\nfunction toString(stringify) {\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\n\n  var query\n    , url = this\n    , protocol = url.protocol;\n\n  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';\n\n  var result = protocol + (url.slashes ? '//' : '');\n\n  if (url.username) {\n    result += url.username;\n    if (url.password) result += ':'+ url.password;\n    result += '@';\n  }\n\n  result += url.host + url.pathname;\n\n  query = 'object' === typeof url.query ? stringify(url.query) : url.query;\n  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;\n\n  if (url.hash) result += url.hash;\n\n  return result;\n}\n\nUrl.prototype = { set: set, toString: toString };\n\n//\n// Expose the URL parser and some additional properties that might be useful for\n// others or testing.\n//\nUrl.extractProtocol = extractProtocol;\nUrl.location = lolcation;\nUrl.trimLeft = trimLeft;\nUrl.qs = qs;\n\nmodule.exports = Url;\n","module.exports = \".profile-photo img,\\n.preview-image {\\n  max-width: 300px;\\n  width: 100%;\\n  height: auto; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9raHJlYnRvdi9Qcm9qZWN0cy9qb3VybmV5aW50by1mcm9udGVuZC9zcmMvYXBwL2NvbXBvbmVudHMvY2xhc3MtbWVkaWEtdXBsb2FkaW5nL2NsYXNzLW1lZGlhLXVwbG9hZGluZy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7RUFFSSxnQkFBZ0I7RUFDaEIsV0FBVztFQUNYLFlBQVksRUFBQSIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvY2xhc3MtbWVkaWEtdXBsb2FkaW5nL2NsYXNzLW1lZGlhLXVwbG9hZGluZy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5wcm9maWxlLXBob3RvIGltZyxcbi5wcmV2aWV3LWltYWdlIHtcbiAgICBtYXgtd2lkdGg6IDMwMHB4O1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogYXV0bztcbn0iXX0= */\"","import {\n  Component,\n  OnInit,\n  Input,\n  EventEmitter,\n  Output,\n  ViewChild,\n  ElementRef,\n} from \"@angular/core\";\nimport { Store } from '@ngrx/store';\nimport { IAppState } from '@src/app/store/app.reducers';\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\nimport { Length } from \"tns-core-modules/ui/page\";\nimport {\n  AddVideoToClassAction,\n} from \"@src/app/store/modules/teachers/teachers.actions\";\nimport { FileStatus, UploadService } from '@src/app/services/teacher/upload.service';\nimport { Observable } from 'rxjs';\n@Component({\n  selector: \"app-class-media-uploading\",\n  templateUrl: \"./class-media-uploading.component.html\",\n  styleUrls: [\"./class-media-uploading.component.scss\"],\n})\nexport class ClassMediaUploadingComponent implements OnInit {\n  @Input() user;\n  @Input() status;\n  @Input() requestStatus;\n  @Input() title;\n  @Input() buttonText;\n  @Input() accept;\n  @Input() videoDuration;\n\n  @Input() set file(file: File) {\n    if (file) {\n      this.fileName = file.name;\n\n      this.readURL(file);\n      this.profileImageForm.patchValue({\n        image: file,\n      });\n    }\n  }\n\n  @Output() profileImageUploaded: EventEmitter<any> = new EventEmitter();\n\n  @Output() setDuration: EventEmitter<any> = new EventEmitter();\n\n  @ViewChild(\"imagePreview\", { static: false }) imagePreview: ElementRef;\n  // @ViewChild(\"videoPreview\", { static: false }) videoPreview: ElementRef;\n\n  // Reactive form\n  public profileImageForm: FormGroup = this.fb.group({\n    image: [\"\", [Validators.required]],\n  });\n\n  public fileName = \"\";\n  public videoPreview = \"\";\n  public audioPreview = \"\";\n  public ids: string[] = [];\n\n  constructor(\n    private store: Store<IAppState>,\n    private fb: FormBuilder,\n    private uploadService: UploadService\n  ) {}\n\n  ngOnInit() {\n  }\n\n  /**\n   * On profile image file input change\n   *\n   * @param $event\n   */\n\n \n  // apiService(file, id) {\n  //   const data = {\n  //     id,\n  //     file\n  //   }\n  //   this.store.dispatch(new AddVideoToClassAction(data));\n  // }\n\n  onProfileImageForm($event){\n    // Get the selected file from event\n    const file = $event.target.files[0];\n\n    // const chunkSize = 4000000;\n\n    // function getRandomId() {\n    //   return Math.floor((Math.random()*12335430)+1);\n    // }\n    \n    // for (let offset = 0; offset < file.size; offset += chunkSize){\n    //   const chunk = file.slice( offset, offset + chunkSize );\n    //   // this.apiService(chunk, getRandomId())\n    // }\n    // this.uploadService.uploadFile(file, file.name);\n\n    if (file) {\n      // Update form value\n      this.profileImageForm.patchValue({\n        image: file,\n      });\n\n      this.fileName = file.name;\n      this.profileImageUploaded.emit(file);\n\n      this.readURL(file);\n    }\n  }\n\n  setFileInfo(event) {\n    let attachedFile = <File>event.target.files[0];\n\n    let duration: any;\n\n    let video = document.createElement(\"video\");\n    video.preload = \"metadata\";\n\n    const setData = (videoDuration) => {\n      this.setDuration.emit(videoDuration);\n    };\n\n    video.onloadedmetadata = function() {\n      window.URL.revokeObjectURL(video.src);\n      setData(video.duration);\n      duration = video.duration;\n    };\n\n    video.src = URL.createObjectURL(attachedFile);\n  }\n\n  readURL(file) {\n    const reader = new FileReader();\n\n    reader.onload = (e: any) => {\n      if (file.type.includes(\"mp4\")) {\n        this.videoPreview = file.name;\n        this.audioPreview = file.name;\n      } else if (file.type.startsWith(\"image\")) {\n        this.imagePreview &&\n          (this.imagePreview.nativeElement.src = e.target.result);\n      } else if (file.type.startsWith(\"video\")) {\n        this.videoPreview = file.name;\n      } else {\n        this.audioPreview = file.name;\n      }\n    };\n\n    reader.readAsDataURL(file);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { MatButtonModule, MatRippleModule } from '@angular/material';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { MatCheckboxModule } from '@angular/material/checkbox';\n\nimport { ClassMediaUploadingComponent } from './class-media-uploading.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        RouterModule,\n        MatButtonModule,\n        MatRippleModule,\n        FormsModule,\n        ReactiveFormsModule,\n        MatCheckboxModule\n    ],\n    providers: [],\n    bootstrap: [],\n    declarations: [ClassMediaUploadingComponent],\n    exports: [ClassMediaUploadingComponent]\n})\nexport class ClassMediaUploadingModule { }\n","module.exports = \":host {\\n  text-align: center; }\\n\\napp-icon {\\n  margin: 80px 0 30px; }\\n\\nh1 {\\n  margin-bottom: 20px; }\\n\\n.text-desc-container {\\n  margin: 0 auto 100px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9raHJlYnRvdi9Qcm9qZWN0cy9qb3VybmV5aW50by1mcm9udGVuZC9zcmMvYXBwL2NvbXBvbmVudHMvY29tcGxldGUvY29tcGxldGUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBa0IsRUFBQTs7QUFHcEI7RUFDRSxtQkFBbUIsRUFBQTs7QUFHckI7RUFDRSxtQkFBbUIsRUFBQTs7QUFHckI7RUFDRSxvQkFBb0IsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvY29tcGxldGUvY29tcGxldGUuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuYXBwLWljb24ge1xuICBtYXJnaW46IDgwcHggMCAzMHB4O1xufVxuXG5oMSB7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG59XG5cbi50ZXh0LWRlc2MtY29udGFpbmVyIHtcbiAgbWFyZ2luOiAwIGF1dG8gMTAwcHg7XG59XG4iXX0= */\"","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\nimport { ViewStatuses } from '@src/app/store/modules/user/user.types';\nimport { select, Store } from '@ngrx/store';\nimport { Observable, Subscription } from 'rxjs/index';\nimport { selectUserActive } from '@src/app/store/modules/user/user.selectors';\nimport { IAppState } from '@src/app/store/app.reducers';\nimport { Router } from '@angular/router';\nimport { filter } from 'rxjs/operators';\n\nimport { RouteNames } from '../../route-names';\n\n@Component({\n  selector: 'app-complete',\n  templateUrl: './complete.component.html',\n  styleUrls: ['./complete.component.scss']\n})\nexport class CompleteComponent implements OnInit, OnDestroy {\n  @Input() title: string;\n  @Input() description: string;\n  @Input() descriptionLine2: string;\n  @Input() downloadBtn = false;\n  @Input() icon: string;\n  @Input() doOnboarding = true;\n  @Input() isSubscription = false;\n\n  public subscriptions: Subscription[] = [];\n  public user$: Observable<any> = this.store.pipe(\n    select(selectUserActive),\n    filter(user => Boolean(user))\n  );\n  public user: any = null;\n\n  constructor(\n    private store: Store<IAppState>,\n    private router: Router\n  ) {}\n\n  ngOnInit() {\n    this.subscriptions.push(\n      this.user$.subscribe(user => {\n        this.user = user;\n      })\n    );\n  }\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n\n  goToDashboard() {\n    if (this.user) {\n      if (!this.isSubscription) {\n        const navigateData = { state: { openTakethetourModal: !!this.doOnboarding } };\n        this.user.view_status === ViewStatuses.STUDENT\n          ? this.router.navigate(['/', RouteNames.student], navigateData)\n          : this.router.navigate(['/', RouteNames.teacher], navigateData);\n      } else {\n        this.user.view_status === ViewStatuses.STUDENT\n          ? this.router.navigate(['/', RouteNames.student, RouteNames.myPractice])\n          : this.router.navigate(['/', RouteNames.teacher]);\n\n      }\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { MatButtonModule, MatRippleModule } from '@angular/material';\nimport { CompleteComponent } from './complete.component';\nimport { IconModule } from '../icon/icon.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule,\n    MatButtonModule,\n    MatRippleModule,\n    IconModule\n  ],\n  providers: [],\n  bootstrap: [],\n  declarations: [CompleteComponent],\n  exports: [CompleteComponent]\n})\nexport class CompleteModule {}\n","module.exports = \"p {\\n  margin-top: 20px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9raHJlYnRvdi9Qcm9qZWN0cy9qb3VybmV5aW50by1mcm9udGVuZC9zcmMvYXBwL2NvbXBvbmVudHMvZXJyb3JzL2Vycm9ycy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdCQUFnQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9lcnJvcnMvZXJyb3JzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsicCB7XG4gICAgbWFyZ2luLXRvcDogMjBweDtcbn0iXX0= */\"","import { OnInit, Input, Component } from \"@angular/core\";\n\n@Component({\n    selector: 'app-errors',\n    templateUrl: './errors.component.html',\n    styleUrls: ['./errors.component.scss']\n})\nexport class ErrorsComponent implements OnInit {\n    @Input() errors: '';\n\n    constructor() { }\n\n    ngOnInit() { }\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ErrorsComponent } from './errors.component';\nimport { PipesModule } from '@src/app/pipes/pipes.module';\n\n\n@NgModule({\n    imports: [\n        CommonModule,\n        PipesModule\n    ],\n    providers: [],\n    bootstrap: [],\n    declarations: [ErrorsComponent],\n    exports: [ErrorsComponent]\n})\nexport class ErrorsModule { }\n","module.exports = \".profile-photo img,\\n.preview-image {\\n  max-width: 300px;\\n  width: 100%;\\n  height: auto; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9raHJlYnRvdi9Qcm9qZWN0cy9qb3VybmV5aW50by1mcm9udGVuZC9zcmMvYXBwL2NvbXBvbmVudHMvcHJvZmlsZS1pbWFnZS1lZGl0L3Byb2ZpbGUtaW1hZ2UtZWRpdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7RUFFSSxnQkFBZ0I7RUFDaEIsV0FBVztFQUNYLFlBQVksRUFBQSIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvcHJvZmlsZS1pbWFnZS1lZGl0L3Byb2ZpbGUtaW1hZ2UtZWRpdC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5wcm9maWxlLXBob3RvIGltZyxcbi5wcmV2aWV3LWltYWdlIHtcbiAgICBtYXgtd2lkdGg6IDMwMHB4O1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogYXV0bztcbn0iXX0= */\"","import { Component, OnInit, Input, EventEmitter, Output, ViewChild, ElementRef } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-profile-image-edit',\n  templateUrl: './profile-image-edit.component.html',\n  styleUrls: ['./profile-image-edit.component.scss']\n})\nexport class ProfileImageEditComponent implements OnInit {\n  @Input() user;\n  @Input() status;\n  @Input() requestStatus;\n\n  @Input() set file(file: File) {\n\n    if (file) {\n      this.fileName = file.name;\n\n      this.readURL(file);\n      this.profileImageForm.patchValue({\n        image: file\n      });\n    }\n  }\n\n  @Output() profileImageUploaded: EventEmitter<any> = new EventEmitter();\n\n  @ViewChild('imagePreview', { static: false }) imagePreview: ElementRef;\n\n  // Reactive form\n  public profileImageForm: FormGroup = this.fb.group({\n    image: ['', [Validators.required]]\n  });\n\n  public fileName = '';\n\n  constructor(\n    private fb: FormBuilder,\n  ) { }\n\n  ngOnInit() {}\n\n  /**\n   * On profile image file input change\n   *\n   * @param $event\n   */\n  onProfileImageForm($event): void {\n    // Get the selected file from event\n    const file = $event.target.files[0];\n\n    if (file) {\n      // Update form value\n      this.profileImageForm.patchValue({\n        image: file\n      });\n\n      this.fileName = file.name;\n\n      this.profileImageUploaded.emit(file);\n\n      this.readURL(file);\n\n    }\n  }\n\n  readURL(file) {\n    const reader = new FileReader();\n    reader.onload = (e:any) => {\n      this.imagePreview.nativeElement.src = e.target.result;\n    };\n\n    reader.readAsDataURL(file);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { MatButtonModule, MatRippleModule } from '@angular/material';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { MatCheckboxModule } from '@angular/material/checkbox';\n\nimport { ProfileImageEditComponent } from './profile-image-edit.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        RouterModule,\n        MatButtonModule,\n        MatRippleModule,\n        FormsModule,\n        ReactiveFormsModule,\n        MatCheckboxModule\n    ],\n    providers: [],\n    bootstrap: [],\n    declarations: [ProfileImageEditComponent],\n    exports: [ProfileImageEditComponent]\n})\nexport class ProfileImageEditModule { }\n","module.exports = \"hr {\\n  margin: 40px 0; }\\n\\na.skip-btn {\\n  cursor: pointer;\\n  margin-top: 30px;\\n  display: block;\\n  text-align: center; }\\n\\n.status-message {\\n  display: flex;\\n  justify-content: center;\\n  width: 100%;\\n  margin: 2rem; }\\n\\n.switch-btn-content {\\n  margin-top: 2rem;\\n  display: flex;\\n  justify-content: space-between;\\n  padding: 0;\\n  margin-bottom: 1rem; }\\n\\n.switch-btn-content button {\\n    background: beige;\\n    cursor: pointer;\\n    padding: 16px 24px;\\n    width: 100%;\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    text-align: center;\\n    font-family: \\\"Futura Std Medium\\\", serif;\\n    font-size: 14px;\\n    font-weight: 400;\\n    letter-spacing: 0.5px;\\n    background-color: #fff;\\n    color: #322b23;\\n    border: none; }\\n\\n.switch-btn-content button.active-btn {\\n      color: #fff;\\n      background-color: #322b23; }\\n\\n.switch-btn-content button:first-child {\\n      border-radius: 100px 0 0 100px; }\\n\\n.switch-btn-content button:last-child {\\n      border-radius: 0 100px 100px 0; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9raHJlYnRvdi9Qcm9qZWN0cy9qb3VybmV5aW50by1mcm9udGVuZC9zcmMvYXBwL2NvbXBvbmVudHMvdGVhY2hlci1hZGQtY2xhc3MtZm9ybS90ZWFjaGVyLWFkZC1jbGFzcy1mb3JtLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsY0FBYyxFQUFBOztBQUdoQjtFQUNFLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsY0FBYztFQUNkLGtCQUFrQixFQUFBOztBQUdwQjtFQUNFLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsV0FBVztFQUNYLFlBQVksRUFBQTs7QUFHZDtFQUNFLGdCQUFnQjtFQUNoQixhQUFhO0VBQ2IsOEJBQThCO0VBQzlCLFVBQVU7RUFFVixtQkFBbUIsRUFBQTs7QUFOckI7SUFTSSxpQkFBaUI7SUFDakIsZUFBZTtJQUNmLGtCQUFrQjtJQUNsQixXQUFXO0lBQ1gsYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixtQkFBbUI7SUFDbkIsa0JBQWtCO0lBQ2xCLHVDQUF1QztJQUN2QyxlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLHFCQUFxQjtJQUNyQixzQkFBc0I7SUFDdEIsY0FBYztJQUNkLFlBQVksRUFBQTs7QUF2QmhCO01BMEJNLFdBQVc7TUFDWCx5QkFBeUIsRUFBQTs7QUEzQi9CO01BK0JNLDhCQUE4QixFQUFBOztBQS9CcEM7TUFtQ00sOEJBQThCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3RlYWNoZXItYWRkLWNsYXNzLWZvcm0vdGVhY2hlci1hZGQtY2xhc3MtZm9ybS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImhyIHtcbiAgbWFyZ2luOiA0MHB4IDA7XG59XG5cbmEuc2tpcC1idG4ge1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5zdGF0dXMtbWVzc2FnZSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICB3aWR0aDogMTAwJTtcbiAgbWFyZ2luOiAycmVtO1xufVxuXG4uc3dpdGNoLWJ0bi1jb250ZW50IHtcbiAgbWFyZ2luLXRvcDogMnJlbTtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBwYWRkaW5nOiAwO1xuICAvLyBib3JkZXI6IDA7XG4gIG1hcmdpbi1ib3R0b206IDFyZW07XG5cbiAgYnV0dG9uIHtcbiAgICBiYWNrZ3JvdW5kOiBiZWlnZTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgcGFkZGluZzogMTZweCAyNHB4O1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZm9udC1mYW1pbHk6IFwiRnV0dXJhIFN0ZCBNZWRpdW1cIiwgc2VyaWY7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgbGV0dGVyLXNwYWNpbmc6IDAuNXB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgY29sb3I6ICMzMjJiMjM7XG4gICAgYm9yZGVyOiBub25lO1xuXG4gICAgJi5hY3RpdmUtYnRuIHtcbiAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzMyMmIyMztcbiAgICB9XG5cbiAgICAmOmZpcnN0LWNoaWxkIHtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDEwMHB4IDAgMCAxMDBweDtcbiAgICB9XG5cbiAgICAmOmxhc3QtY2hpbGQge1xuICAgICAgYm9yZGVyLXJhZGl1czogMCAxMDBweCAxMDBweCAwO1xuICAgIH1cbiAgfVxufVxuIl19 */\"","import {\n  Component,\n  OnInit,\n  OnDestroy,\n  AfterViewInit,\n  ViewChildren,\n  QueryList,\n  Input,\n  Output,\n  EventEmitter,\n} from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { Subscription, Observable, pipe } from \"rxjs\";\nimport { select, Store } from \"@ngrx/store\";\nimport { filter } from \"rxjs/operators\";\nimport { IAppState } from \"@src/app/store/app.reducers\";\nimport {\n  selectUserStatus,\n  selectUserActive,\n} from \"@src/app/store/modules/user/user.selectors\";\nimport { selectTeachersObject } from \"@src/app/store/modules/teachers/teachers.selectors\";\nimport {\n  AddClassRequestAction,\n  AddClassSuccessEnd,\n} from \"@src/app/store/modules/teachers/teachers.actions\";\nimport { SetAddClassTextAction } from \"@src/app/store/modules/spinner/spinner.actions\";\nimport { FormGroup, Validators, FormArray, FormBuilder } from \"@angular/forms\";\n\nimport { RouteNames } from \"@src/app/route-names\";\nimport { RequestStatus } from \"@src/app/services/api.service.interface\";\nimport { StudentInterface } from \"@src/app/interfaces/students\";\nimport { TeacherInterface } from \"@src/app/interfaces/teachers\";\n\nimport { CheckUserToken } from '@src/app/store/modules/user/user.actions';\n\nimport {\n  resetForm,\n  urlValidator,\n  formValidationScrollFocus,\n} from \"../../helpers\";\nimport { SpinnerOverlayService } from \"../../services\";\nimport { UtilsService } from \"@src/app/services/utils.service\";\nimport { IStepOneFormData } from \"@src/app/store/modules/onboarding/onboarding.types\";\nimport { selectOnboardingTeacherFormData } from \"@src/app/store/modules/onboarding/onboarding.selectors\";\nimport {TeacherService} from '@src/app/services/teacher/teacher.service';\n\n@Component({\n  selector: \"app-teacher-add-class-form\",\n  templateUrl: \"./teacher-add-class-form.component.html\",\n  styleUrls: [\"./teacher-add-class-form.component.scss\"],\n})\nexport class TeacherAddClassFormComponent\n  implements OnInit, OnDestroy, AfterViewInit {\n  @Input() errors: null | string = null;\n  @Input() ctaText = \"Save\";\n  @Input() succesText = \"Your class has been successfully added\";\n  @Output() public continueClicked = new EventEmitter<boolean>();\n\n  // Store\n  public subscriptions: Subscription[] = [];\n  public status$: Observable<string> = this.store.pipe(\n    select(selectUserStatus),\n    filter((status) => Boolean(status) && status === RequestStatus.success)\n  );\n\n  public user$: Observable<StudentInterface> = this.store.pipe(\n    select(selectUserActive)\n  );\n  public teacher$: Observable<any> = this.store.pipe(\n    select(selectTeachersObject)\n  );\n\n  public formData$: Observable<IStepOneFormData> = this.store.pipe(\n    select(selectOnboardingTeacherFormData)\n  );\n\n  public status: null | string = null;\n\n  public user: StudentInterface = null;\n  public teacher: TeacherInterface = null;\n\n  public stepOneForm: FormGroup = this.fb.group({\n    title: null,\n    descriptionText: null,\n    type: null,\n    thumbnail: null,\n    file_item: null,\n    video_item: null,\n    props: null,\n    difficulty: null,\n    end_timestamp: null,\n  });\n  public stepOneFormSubmitted = false;\n\n  private formArrays = [\"links\"];\n\n  @ViewChildren(\"validatedField\") formFields: QueryList<any>;\n\n  public linksGroup: FormArray = this.stepOneForm.get(\"links\") as FormArray;\n  public isLinksValid = true;\n\n  public viewTypes = [\n    { name: \"Video\", value: \"video\", active: true },\n    { name: \"Audio\", value: \"audio\", active: false },\n  ];\n\n  // Request statuses\n  public requestStatus = RequestStatus;\n  private requestUpdating = false;\n\n  constructor(\n    private fb: FormBuilder,\n    private store: Store<IAppState>,\n    private router: Router,\n    public spinner: SpinnerOverlayService,\n    private utils: UtilsService,\n    protected teacherService: TeacherService,\n  ) {}\n\n  public successAdd = false;\n\n  public isVideo = true;\n\n  ngOnInit(): void {\n    this.store.dispatch(new CheckUserToken());\n    this.subscriptions.push(\n      this.formData$\n        .pipe(filter((item) => !!item))\n        .subscribe((formData: IStepOneFormData) => {\n          this.fillForm(formData);\n        })\n    );\n    // showoverlay\n    this.subscriptions.push(\n      this.user$.subscribe((user) => {\n        if (!this.user && user && user.creator) {\n          this.fillForm(user.creator);\n        }\n\n        if (!this.user) {\n          this.user = user;\n          this.spinner.hide();\n        }\n      })\n    );\n\n    this.subscriptions.push(\n      this.teacher$.subscribe((obj: any) => {\n        if (obj.addedNewClass) {\n          this.spinner.hide();\n          this.router.navigate([\"/\", RouteNames.teacher]);\n          this.store.dispatch(new AddClassSuccessEnd());\n        }\n      })\n    );\n  }\n\n  get selectedthumbnail(): File {\n    if (typeof this.stepOneForm.get(\"thumbnail\").value === \"object\") {\n      return this.stepOneForm.get(\"thumbnail\").value;\n    }\n  }\n\n  ngAfterViewInit() {}\n\n  ngOnDestroy(): void {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n    this.user = null;\n  }\n\n  fillForm(creator) {\n    for (const control of Object.keys(this.stepOneForm.controls)) {\n      const formEl = this.stepOneForm.controls[control];\n      if (creator[control]) {\n        if (this.formArrays.includes(control)) {\n          this.fillFormArray(control, creator[control]);\n        } else {\n          formEl.setValue(creator[control]);\n        }\n      }\n    }\n  }\n\n  createExternalUrlField(): FormGroup {\n    return this.fb.group({\n      id: \"\",\n      label: [\"\", [Validators.required]],\n      url: [\"\", [Validators.required, Validators.pattern(urlValidator)]],\n    });\n  }\n\n  fillFormArray(formArrayName, arrayValues) {\n    const controlArray = <FormArray>this.stepOneForm.controls[formArrayName];\n    arrayValues.map((item) => {\n      controlArray.push(this.fb.group(item));\n    });\n  }\n\n  handleNextClick(): void {\n    this.continueClicked.emit(true);\n    this.stepOneFormSubmitted = true;\n    this.stepOneForm.markAllAsTouched();\n\n    if (this.stepOneForm.invalid) {\n      this.log(\"TEACHER PROFILE FORM is invalid!!\");\n      formValidationScrollFocus(this.stepOneForm, this.formFields);\n      return;\n    }\n\n    // build formdata\n    const payload = new FormData();\n    for (const control of Object.keys(this.stepOneForm.controls)) {\n      const val = this.stepOneForm.get(control).value;\n\n      if (control == \"video_item\") {\n        val === null ? payload.append(\"end_timestamp\", \"\") : \"\";\n      }\n\n      if (val !== null) {\n        // if (control == \"video_item\" || control == \"file_item\" ) {\n        //   payload.append(control, val)\n        // } else \n        if (control === \"thumbnail\") {\n          if (typeof val !== \"string\") {\n            payload.append(control, val);\n          }\n        } else {\n          if (control == \"descriptionText\") {\n            payload.append(\"description\", val);\n          } else {\n            payload.append(control, val);\n          }\n        }\n      }\n    }\n\n    this.log(\"updating...\");\n    this.spinner.show();\n    this.requestUpdating = true;\n    payload.forEach((field) => this.log(\"field: \", field));\n\n    this.teacherService.addClass(payload)\n    // addClass\n    this.store.dispatch(new SetAddClassTextAction())\n\n    resetForm(this.stepOneForm);\n    this.successAdd = true;\n  }\n  onAddMediaUploaded($event, control) {\n    this.stepOneForm.get(control).setValue($event);\n  }\n\n  setDurationValue(duaration) {\n    this.stepOneForm.get(\"end_timestamp\").setValue(duaration);\n  }\n\n  log(text, ...args) {\n    this.utils.logall(text, this.constructor.name, ...args);\n  }\n\n  onProfileImageUploaded($event) {\n    this.stepOneForm.get(\"image\").setValue($event);\n  }\n\n  switchTypes(type) {\n    this.viewTypes.forEach((item) => {\n      if (item.value === type) {\n        item.active = true;\n        this.isVideo = item.value === \"video\" ? true : false;\n      } else {\n        item.active = false;\n      }\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { MatButtonModule, MatRippleModule } from '@angular/material';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { TeacherAddClassFormComponent } from './teacher-add-class-form.component';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { CompleteModule } from '../complete/complete.module';\nimport { ClassMediaUploadingModule } from '../class-media-uploading/class-media-uploading.module';\nimport { JiFormsModule } from '../forms/ji-forms.module';\n\n\n@NgModule({\n    imports: [\n        CommonModule,\n        RouterModule,\n        MatButtonModule,\n        MatRippleModule,\n        FormsModule,\n        ReactiveFormsModule,\n        MatButtonModule,\n        MatRippleModule,\n        FlexLayoutModule,\n        CompleteModule,\n        ClassMediaUploadingModule,\n        JiFormsModule\n    ],\n    providers: [],\n    bootstrap: [],\n    declarations: [TeacherAddClassFormComponent],\n    exports: [TeacherAddClassFormComponent]\n})\nexport class TeacherAddClassFormModule { }\n","module.exports = \"hr {\\n  margin: 40px 0; }\\n\\na.skip-btn {\\n  cursor: pointer;\\n  margin-top: 30px;\\n  display: block;\\n  text-align: center; }\\n\\n.switch-btn-content {\\n  display: flex;\\n  justify-content: space-evenly;\\n  padding: 0;\\n  margin-bottom: 1rem; }\\n\\n.switch-btn-content button {\\n    background: beige;\\n    cursor: pointer;\\n    padding: 16px 20px;\\n    width: 100%;\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    text-align: center;\\n    font-family: \\\"Futura Std Medium\\\", serif;\\n    font-size: 14px;\\n    font-weight: 400;\\n    letter-spacing: 0.5px;\\n    background-color: #fff;\\n    color: #322b23;\\n    border: none; }\\n\\n@media screen and (max-width: 500px) {\\n      .switch-btn-content button {\\n        width: 0; } }\\n\\n.switch-btn-content button.active-btn {\\n      color: #fff;\\n      background-color: #322b23; }\\n\\n.switch-btn-content button:first-child {\\n      border-radius: 100px 0 0 100px; }\\n\\n.switch-btn-content button:last-child {\\n      border-radius: 0 100px 100px 0; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9raHJlYnRvdi9Qcm9qZWN0cy9qb3VybmV5aW50by1mcm9udGVuZC9zcmMvYXBwL2NvbXBvbmVudHMvdGVhY2hlci1wcm9maWxlLWZvcm0vdGVhY2hlci1wcm9maWxlLWZvcm0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFjLEVBQUE7O0FBR2hCO0VBQ0UsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixjQUFjO0VBQ2Qsa0JBQWtCLEVBQUE7O0FBR3BCO0VBQ0UsYUFBYTtFQUNiLDZCQUE2QjtFQUM3QixVQUFVO0VBRVYsbUJBQW1CLEVBQUE7O0FBTHJCO0lBUUksaUJBQWlCO0lBQ2pCLGVBQWU7SUFDZixrQkFBa0I7SUFDbEIsV0FBVztJQUNYLGFBQWE7SUFDYix1QkFBdUI7SUFDdkIsbUJBQW1CO0lBQ25CLGtCQUFrQjtJQUNsQix1Q0FBdUM7SUFDdkMsZUFBZTtJQUNmLGdCQUFnQjtJQUNoQixxQkFBcUI7SUFDckIsc0JBQXNCO0lBQ3RCLGNBQWM7SUFDZCxZQUFZLEVBQUE7O0FBRVo7TUF4Qko7UUF5Qk0sUUFBUSxFQUFBLEVBZVg7O0FBeENIO01BNkJNLFdBQVc7TUFDWCx5QkFBeUIsRUFBQTs7QUE5Qi9CO01Ba0NNLDhCQUE4QixFQUFBOztBQWxDcEM7TUFzQ00sOEJBQThCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3RlYWNoZXItcHJvZmlsZS1mb3JtL3RlYWNoZXItcHJvZmlsZS1mb3JtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaHIge1xuICBtYXJnaW46IDQwcHggMDtcbn1cblxuYS5za2lwLWJ0biB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgbWFyZ2luLXRvcDogMzBweDtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLnN3aXRjaC1idG4tY29udGVudCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5O1xuICBwYWRkaW5nOiAwO1xuICAvLyBib3JkZXI6IDA7XG4gIG1hcmdpbi1ib3R0b206IDFyZW07XG5cbiAgYnV0dG9uIHtcbiAgICBiYWNrZ3JvdW5kOiBiZWlnZTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgcGFkZGluZzogMTZweCAyMHB4O1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZm9udC1mYW1pbHk6IFwiRnV0dXJhIFN0ZCBNZWRpdW1cIiwgc2VyaWY7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgbGV0dGVyLXNwYWNpbmc6IDAuNXB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgY29sb3I6ICMzMjJiMjM7XG4gICAgYm9yZGVyOiBub25lO1xuXG4gICAgQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNTAwcHgpIHtcbiAgICAgIHdpZHRoOiAwO1xuICAgIH1cblxuICAgICYuYWN0aXZlLWJ0biB7XG4gICAgICBjb2xvcjogI2ZmZjtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzMjJiMjM7XG4gICAgfVxuXG4gICAgJjpmaXJzdC1jaGlsZCB7XG4gICAgICBib3JkZXItcmFkaXVzOiAxMDBweCAwIDAgMTAwcHg7XG4gICAgfVxuXG4gICAgJjpsYXN0LWNoaWxkIHtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDAgMTAwcHggMTAwcHggMDtcbiAgICB9XG4gIH1cbn1cbiJdfQ== */\"","import {\n  Component,\n  OnInit,\n  OnDestroy,\n  ViewChild,\n  ElementRef,\n  AfterViewInit,\n  ViewChildren,\n  QueryList,\n  Input,\n  Output,\n  EventEmitter,\n} from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { Subscription, Observable, pipe } from \"rxjs\";\nimport { select, Store } from \"@ngrx/store\";\nimport { filter, skip, takeUntil } from \"rxjs/operators\";\nimport { IAppState } from \"@src/app/store/app.reducers\";\nimport {\n  selectUserStatus,\n  selectUserActive,\n} from \"@src/app/store/modules/user/user.selectors\";\nimport { selectTeachersObject } from \"@src/app/store/modules/teachers/teachers.selectors\";\nimport {\n  OnboardingTeacherStepOneRequestAction,\n  OnboardingTeacherStepOneStoreFormAction,\n  OnboardingTeacherStepOneClearFormAction,\n} from \"@src/app/store/modules/onboarding/onboarding.actions\";\nimport { UpdateTeacherRequestAction } from \"@src/app/store/modules/teachers/teachers.actions\";\n\nimport {\n  FormGroup,\n  Validators,\n  FormArray,\n  FormBuilder,\n  FormControl,\n} from \"@angular/forms\";\nimport { FormOptionInterface } from \"../../interfaces/form-options\";\n\nimport { RouteNames } from \"@src/app/route-names\";\nimport { RequestStatus } from \"@src/app/services/api.service.interface\";\nimport { StudentInterface } from \"@src/app/interfaces/students\";\nimport { TeacherInterface } from \"@src/app/interfaces/teachers\";\n\nimport {\n  resetForm,\n  urlValidator,\n  formValidationScrollFocus,\n} from \"../../helpers\";\nimport { SpinnerOverlayService, UserService } from \"../../services\";\nimport { UtilsService } from \"@src/app/services/utils.service\";\nimport { IStepOneFormData } from \"@src/app/store/modules/onboarding/onboarding.types\";\nimport { selectOnboardingTeacherFormData } from \"@src/app/store/modules/onboarding/onboarding.selectors\";\n\n@Component({\n  selector: \"app-teacher-profile-form\",\n  templateUrl: \"./teacher-profile-form.component.html\",\n  styleUrls: [\"./teacher-profile-form.component.scss\"],\n})\nexport class TeacherProfileFormComponent\n  implements OnInit, OnDestroy, AfterViewInit {\n  @Input() errors: null | string = null;\n  @Input() ctaText = \"Next\";\n  @Input() allowSkip = false;\n  @Output() public continueClicked = new EventEmitter<boolean>();\n\n  // Store\n  public subscriptions: Subscription[] = [];\n  public status$: Observable<string> = this.store.pipe(\n    select(selectUserStatus),\n    filter((status) => Boolean(status) && status === RequestStatus.success)\n  );\n\n  public user$: Observable<StudentInterface> = this.store.pipe(\n    select(selectUserActive)\n  );\n  public teacher$: Observable<any> = this.store.pipe(\n    select(selectTeachersObject)\n  );\n\n  public formData$: Observable<IStepOneFormData> = this.store.pipe(\n    select(selectOnboardingTeacherFormData)\n  );\n\n  public status: null | string = null;\n\n  public user: StudentInterface = null;\n  public teacher: TeacherInterface = null;\n  public viewCurrences = [\n    { name: \"EUR\", value: \"eur\", active: true },\n    { name: \"USD\", value: \"usd\", active: false },\n    { name: \"AUD\", value: \"aud\", active: false },\n    { name: \"GBP\", value: \"gbp\", active: false },\n  ];\n\n  public stepOneForm: FormGroup = this.fb.group({\n    profile_title: null,\n    image: null,\n    // vimeo_url: ['', [Validators.pattern(urlValidator)]],\n    description: null,\n    city: null,\n    style: null,\n    links: this.fb.array([]),\n    news_events: null,\n    qualifications: null,\n    currency: null,\n  });\n  public stepOneFormSubmitted = false;\n\n  private formArrays = [\"links\"];\n\n  @ViewChildren(\"validatedField\") formFields: QueryList<any>;\n\n  public linksGroup: FormArray = this.stepOneForm.get(\"links\") as FormArray;\n  public isLinksValid = true;\n\n  // Request statuses\n  public requestStatus = RequestStatus;\n  private requestUpdating = false;\n\n  constructor(\n    private fb: FormBuilder,\n    private store: Store<IAppState>,\n    private userService: UserService,\n    private router: Router,\n    public spinner: SpinnerOverlayService,\n    private utils: UtilsService\n  ) {}\n\n  ngOnInit(): void {\n    // return stored form data when leave page\n    this.subscriptions.push(\n      this.formData$\n        .pipe(filter((item) => !!item))\n        .subscribe((formData: IStepOneFormData) => {\n          this.onProfileImageUploaded(formData.image);\n          this.fillForm(formData);\n        })\n    );\n\n    // showoverlay\n    this.subscriptions.push(\n      this.teacher$.subscribe((obj: any) => {\n        let state;\n\n        if (this.hasProfileChanged(this.teacher, obj.loggedinTeacher)) {\n          state = {\n            data: { message: \"Your profile has been successfully updated\" },\n          };\n        }\n\n        if (this.requestUpdating) {\n          this.router.navigate([\"/\", RouteNames.teacher, RouteNames.profile], {\n            state,\n          });\n        }\n\n        this.teacher = obj.loggedinTeacher || null;\n      }),\n      this.user$.subscribe((user) => {\n        if (!this.user && user && user.creator) {\n          this.fillForm(user.creator);\n          this.setCurrency();\n        }\n\n        if (!this.user) {\n          this.user = user;\n          this.spinner.hide();\n        }\n      })\n    );\n  }\n\n  get selectedImage(): File {\n    if (typeof this.stepOneForm.get(\"image\").value === \"object\") {\n      return this.stepOneForm.get(\"image\").value;\n    }\n  }\n\n  ngAfterViewInit() {}\n\n  ngOnDestroy(): void {\n    this.subscriptions.forEach((subscription) => subscription.unsubscribe());\n    this.user = null;\n  }\n\n  debugAutofill() {\n    this.stepOneForm.controls[\"profile_title\"].setValue(\"Profile value\");\n    this.stepOneForm.controls[\"qualifications\"].setValue(\"Yoga\");\n    this.stepOneForm.controls[\"description\"].setValue(\"About me\");\n    this.stepOneForm.controls[\"city\"].setValue(\"Talladiland\");\n    this.stepOneForm.controls[\"style\"].setValue(\"Yoga\");\n    this.stepOneForm.controls[\"news_events\"].setValue(\n      \"Something cool just happened!!\"\n    );\n    this.stepOneForm.controls[\"currrency\"].setValue(\"Euro\");\n  }\n\n  fillForm(creator) {\n    for (const control of Object.keys(this.stepOneForm.controls)) {\n      const formEl = this.stepOneForm.controls[control];\n      if (creator[control]) {\n        if (this.formArrays.includes(control)) {\n          this.fillFormArray(control, creator[control]);\n        } else {\n          formEl.setValue(creator[control]);\n        }\n      }\n    }\n  }\n\n  /**\n   * Handle click add another external url button\n   */\n  handleAddAnotherExternalUrlClick(): void {\n    this.isLinksValid = true;\n    this.linksGroup.value.map((link) => {\n      if (!link.url || !link.label) {\n        this.isLinksValid = false;\n      }\n    });\n\n    if (this.isLinksValid) {\n      this.linksGroup.push(this.createExternalUrlField());\n    }\n  }\n\n  /**\n   * Create external url field\n   */\n  createExternalUrlField(): FormGroup {\n    return this.fb.group({\n      id: \"\",\n      label: [\"\", [Validators.required]],\n      url: [\"\", [Validators.required, Validators.pattern(urlValidator)]],\n    });\n  }\n\n  fillFormArray(formArrayName, arrayValues) {\n    const controlArray = <FormArray>this.stepOneForm.controls[formArrayName];\n    arrayValues.map((item) => {\n      controlArray.push(this.fb.group(item));\n    });\n  }\n\n  /**\n   * Handle click next button\n   */\n  handleNextClick(skipClicked): void {\n    if (skipClicked) {\n      resetForm(this.stepOneForm);\n    } else {\n      this.continueClicked.emit(true);\n    }\n\n    this.stepOneFormSubmitted = true;\n    this.stepOneForm.markAllAsTouched();\n\n    if (this.stepOneForm.invalid) {\n      this.log(\"TEACHER PROFILE FORM is invalid!!\");\n      formValidationScrollFocus(this.stepOneForm, this.formFields);\n      return;\n    }\n\n    // build formdata\n    const payload = new FormData();\n    for (const control of Object.keys(this.stepOneForm.controls)) {\n      const val = this.stepOneForm.get(control).value;\n      if (val !== null) {\n        if (control === \"image\") {\n          if (typeof val !== \"string\") {\n            payload.append(control, val);\n          }\n        } else if ([\"links\"].includes(control)) {\n          if (val.length > 0) {\n            const arrayVals = val.map((v: any) => {\n              return {\n                url: v.url,\n                label: v.label,\n                id: v.id ? v.id : null,\n              };\n            });\n            payload.append(control, JSON.stringify(arrayVals));\n          }\n        } else {\n          payload.append(control, val);\n        }\n      }\n    }\n\n    if (this.user.creator.user) {\n      this.log(\"updating...\");\n      this.spinner.show();\n      this.requestUpdating = true;\n      payload.forEach((field) => this.log(\"field: \", field));\n      // If the user exists just update\n      this.store.dispatch(new UpdateTeacherRequestAction(payload));\n    } else {\n      this.log(\"creating...\");\n      payload.forEach((field) => this.log(\"field: \", field));\n\n      // Store first step\n\n      this.store.dispatch(new OnboardingTeacherStepOneClearFormAction());\n      this.store.dispatch(new OnboardingTeacherStepOneRequestAction(payload));\n    }\n  }\n\n  removeAddress(index): void {\n    this.linksGroup.removeAt(index);\n  }\n\n  onProfileImageUploaded($event) {\n    this.stepOneForm.get(\"image\").setValue($event);\n  }\n\n  setCurrency(currency = this.stepOneForm.get(\"currency\").value) {\n    this.viewCurrences.forEach((item) => {\n      if (item.value === currency) {\n        item.active = true;\n      } else {\n        item.active = false;\n      }\n    });\n  }\n\n  hasProfileChanged(oldTeacher, newTeacher) {\n    let hasChanged = false;\n\n    if (oldTeacher && newTeacher) {\n      this.log(oldTeacher, newTeacher);\n      Object.keys(oldTeacher).map((key) => {\n        if (Array.isArray(oldTeacher[key])) {\n          if (oldTeacher[key].length !== oldTeacher[key].length) {\n            hasChanged = true;\n          } else {\n            oldTeacher[key].map((item, i) => {\n              if (newTeacher[key] && item !== newTeacher[key][i]) {\n                hasChanged = true;\n              }\n            });\n          }\n        } else {\n          if (oldTeacher[key] !== newTeacher[key]) {\n            hasChanged = true;\n          }\n        }\n      });\n    }\n\n    return hasChanged;\n  }\n\n  log(text, ...args) {\n    this.utils.logall(text, this.constructor.name, ...args);\n  }\n\n  teachersLinkChange() {\n    // store form data before leave page\n    this.store.dispatch(\n      new OnboardingTeacherStepOneStoreFormAction(this.stepOneForm.value)\n    );\n    this.router.navigate([\"/\", RouteNames.teachers]);\n  }\n\n  switchUserCurrency(currency) {\n    this.viewCurrences.map((item) => {\n      if (item.value === currency) {\n        item.active = true;\n      } else {\n        item.active = false;\n      }\n    });\n    return this.stepOneForm.controls[\"currency\"].setValue(currency);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { MatButtonModule, MatRippleModule } from '@angular/material';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { TeacherProfileFormComponent } from './teacher-profile-form.component';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { CompleteModule } from '../complete/complete.module';\nimport { ProfileImageEditModule } from '../profile-image-edit/profile-image-edit.module';\nimport { JiFormsModule } from '../forms/ji-forms.module';\n\n\n@NgModule({\n    imports: [\n        CommonModule,\n        RouterModule,\n        MatButtonModule,\n        MatRippleModule,\n        FormsModule,\n        ReactiveFormsModule,\n        MatButtonModule,\n        MatRippleModule,\n        FlexLayoutModule,\n        CompleteModule,\n        ProfileImageEditModule,\n        JiFormsModule\n    ],\n    providers: [],\n    bootstrap: [],\n    declarations: [TeacherProfileFormComponent],\n    exports: [TeacherProfileFormComponent]\n})\nexport class TeacherProfileFormModule { }\n","module.exports = \"form {\\n  margin-top: 40px; }\\n\\nbutton,\\na {\\n  margin-top: 40px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9raHJlYnRvdi9Qcm9qZWN0cy9qb3VybmV5aW50by1mcm9udGVuZC9zcmMvYXBwL2NvbXBvbmVudHMvdGVhY2hlci1zdHJpcGUtZm9ybS90ZWFjaGVyLXN0cmlwZS1mb3JtLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZ0JBQWdCLEVBQUE7O0FBSXBCOztFQUVJLGdCQUFnQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy90ZWFjaGVyLXN0cmlwZS1mb3JtL3RlYWNoZXItc3RyaXBlLWZvcm0uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJmb3JtIHtcbiAgICBtYXJnaW4tdG9wOiA0MHB4O1xuXG59XG5cbmJ1dHRvbixcbmEge1xuICAgIG1hcmdpbi10b3A6IDQwcHg7XG59Il19 */\"","import { Component, OnInit, ViewChildren, QueryList, Input, OnDestroy } from '@angular/core';\nimport { FormOptionInterface } from '@src/app/interfaces/form-options';\nimport { FormGroup, FormBuilder, Validators, FormControl } from '@angular/forms';\nimport { formValidationScrollFocus } from '../../helpers';\nimport { Store, select } from '@ngrx/store';\nimport { IAppState } from '@src/app/store/app.reducers';\nimport { UpdateTeacherRequestAction } from '@src/app/store/modules/teachers/teachers.actions';\nimport { Observable } from 'rxjs';\nimport { selectTeachersStatus } from '@src/app/store/modules/teachers/teachers.selectors';\nimport { filter } from 'rxjs/operators';\nimport { RequestStatus } from '@src/app/services/api.service.interface';\nimport { SpinnerOverlayService } from '../../services';\nimport { TeacherInterface } from '@src/app/interfaces/teachers';\nimport { StudentInterface } from '@src/app/interfaces/students';\nimport { selectUserActive } from '@src/app/store/modules/user/user.selectors';\n\n@Component({\n    selector: 'app-teacher-stripe-form',\n    templateUrl: 'teacher-stripe-form.component.html',\n    styleUrls: ['teacher-stripe-form.component.scss']\n})\n\nexport class TeacherStripeFormComponent implements OnInit, OnDestroy {\n    @ViewChildren('validatedField') formFields: QueryList<any>;\n    \n    @Input() showForm = true;\n    @Input() introText = '';\n\n    // public creator_type = new FormControl('', [Validators.required]);\n    // public stripePlanForm: FormGroup = this.fb.group({\n    //     creator_type: this.creator_type,\n    //     subscription_cost: ['', [Validators.required]],\n    //     subscription_frequency: ['', [Validators.required]],\n    //     subscription_free_trial_days: ['', [Validators.required]]\n    // });\n    // public submitted = false;\n\n    // // Creator type options\n    // public creator_typeOptions: FormOptionInterface[] = [\n    //     {\n    //         id: 1,\n    //         value: 'individual',\n    //         label: 'Individual'\n    //     },\n    //     {\n    //         id: 2,\n    //         value: 'company',\n    //         label: 'Business'\n    //     }\n    // ];\n\n    // // Subscription frequency options\n    // public subscription_frequencyOptions: FormOptionInterface[] = [\n    //     {\n    //         id: 1,\n    //         value: 'weekly',\n    //         label: 'Weekly'\n    //     },\n    //     {\n    //         id: 2,\n    //         value: 'monthly',\n    //         label: 'Monthly'\n    //     }\n    // ];\n\n    public subscriptions = [];\n    public user$: Observable<StudentInterface> = this.store.pipe(\n        select(selectUserActive),\n        filter(user => Boolean(user))\n    );\n    public teacherStatus$: Observable<string> = this.store.pipe(\n        select(selectTeachersStatus),\n        filter(status => Boolean(status))\n    );\n\n    public user: StudentInterface = null;\n\n    constructor(\n        private fb: FormBuilder,\n        private store: Store<IAppState>,\n        private spinner: SpinnerOverlayService\n    ) { }\n\n    ngOnInit() {\n        this.subscriptions.push(\n            this.user$.subscribe(\n                user => {\n                    window.scrollTo(0, 0);\n                    this.user = user;\n                }\n            ),\n            this.teacherStatus$.subscribe(\n                status => {\n                    if (status !== RequestStatus.pending) {\n                        // hideoverlay\n                    } else {\n                        // showoverlay\n                    }\n                }\n            )\n        )\n    }\n\n    // handleSubmit() {\n    //     this.submitted = true;\n    //     this.stripePlanForm.markAllAsTouched();\n\n    //     if (this.stripePlanForm.invalid) {\n    //         formValidationScrollFocus(this.stripePlanForm, this.formFields);\n    //         return;\n    //     }\n\n    //     // build formdata\n    //     const payload = new FormData();\n    //     for (const control of Object.keys(this.stripePlanForm.controls)) {\n    //         const val = this.stripePlanForm.get(control).value;\n    //         payload.append(control, val);\n    //     }\n\n    //     payload.forEach(field => console.log(field));\n\n    //     this.store.dispatch(new UpdateTeacherRequestAction(payload));\n    // }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n\n}","import { NgModule } from '@angular/core';\n\nimport { TeacherStripeFormComponent } from './teacher-stripe-form.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { JiFormsModule } from '../forms/ji-forms.module';\nimport { RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { IconModule } from \"@src/app/components/icon/icon.module\";\n\n@NgModule({\n    imports: [\n        CommonModule,\n        RouterModule,\n        FormsModule,\n        ReactiveFormsModule,\n        JiFormsModule,\n        IconModule\n    ],\n    exports: [\n        TeacherStripeFormComponent\n    ],\n    declarations: [\n        TeacherStripeFormComponent\n    ],\n    providers: [],\n})\nexport class TeacherStripeFormModule { }\n","import { Injectable } from \"@angular/core\";\nimport { Subject } from \"rxjs\";\nimport { Upload } from \"tus-js-client\";\n\nexport interface FileStatus {\n  filename: string;\n  progress: number;\n  hash: string;\n  uuid: string;\n}\n\n@Injectable({\n  providedIn: \"root\"\n})\n\nexport class UploadService {\n  private uploadStatus = new Subject<FileStatus[]>();\n  uploadProgress = this.uploadStatus.asObservable();\n\n  fileStatusArr: FileStatus[] = [];\n\n  uploadFile(file: File, filename: string) {\n    console.log(file, filename);\n    \n    const fileStatus: FileStatus = {\n      filename,\n      progress: 0,\n      hash: \"\",\n      uuid: \"\"\n    };\n    this.fileStatusArr.push(fileStatus);\n\n    this.uploadStatus.next(this.fileStatusArr);\n\n    const upload = new Upload(file, {\n      endpoint: \"https://stage-api.journeyinto.com/v1/recordings/chunked-upload/\",\n      retryDelays: [0, 3000, 6000, 12000, 24000],\n      chunkSize: 4000000,\n      metadata: {\n        filename,\n        filetype: file.type\n      },\n      onError: async error => {\n        console.log(error);\n        return false;\n      },\n      onChunkComplete: (chunkSize, bytesAccepted, bytesTotal) => {\n        this.fileStatusArr.forEach(value => {\n          if (value.filename === filename) {\n            value.progress = Math.floor((bytesAccepted / bytesTotal) * 100);\n            value.uuid = upload.url.split(\"/\").slice(-1)[0];\n          }\n        });\n        this.uploadStatus.next(this.fileStatusArr);\n      },\n      onSuccess: async () => {\n        this.fileStatusArr.forEach(value => {\n          if (value.filename === filename) {\n            value.progress = 100;\n          }\n        });\n        this.uploadStatus.next(this.fileStatusArr);\n        return true;\n      }\n    });\n    upload.start();\n  }\n}\n","import { createFeatureSelector, createSelector } from '@ngrx/store';\nimport { IOnboardingReducerState } from './onboarding.types';\nimport { getEntity, getErrors, getStatus, getFormData } from '../../helpers/adapters';\n\nexport const selectOnboardingState = createFeatureSelector<IOnboardingReducerState>('onboarding');\nexport const selectOnboardingStatus = createSelector(\n  selectOnboardingState,\n  getStatus\n);\nexport const selectOnboardingEntity = createSelector(\n  selectOnboardingState,\n  getEntity\n);\nexport const selectOnboardingMessage = createSelector(\n  selectOnboardingState,\n  (state: any) => {\n    return state.message;\n  }\n);\nexport const selectOnboardingIscompleted = createSelector(\n  selectOnboardingEntity,\n  (entity: any) => {\n    return entity.isCompleted\n  }\n);\nexport const selectOnboardingErrors = createSelector(\n  selectOnboardingState,\n  getErrors\n);\n\nexport const selectOnboardingTeacherFormData = createSelector(\n  selectOnboardingState,\n  getFormData\n);\n"],"sourceRoot":""}