{"version":3,"sources":["webpack:///./src/app/pages/sign-up/sign-up.component.html","webpack:///./src/app/pages/sign-up/sign-up.component.scss","webpack:///./src/app/pages/sign-up/sign-up.component.ts","webpack:///./src/app/pages/sign-up/sign-up.module.ts"],"names":[],"mappings":"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","file":"pages-sign-up-sign-up-module.ad3c5ee9f42ad174b8fb.js","sourcesContent":["module.exports = \"<app-form-header [title]=\\\"'Register'\\\"\\n  [canGoBack]=\\\"true\\\"></app-form-header>\\n<div class=\\\"wrapper\\\">\\n  <app-errors [errors]=\\\"errors\\\"></app-errors>\\n\\n  <div class=\\\"explainer\\\">\\n    <p class=\\\"text-display-3\\\">Welcome to Journey Into.</p>\\n    <p class=\\\"text-display-3\\\"><strong>Yoga students</strong><br> Subscribe to your yoga teacher for weekly video and audio classes to guide your self practice any time, anywhere.</p>\\n    <p class=\\\"text-display-3\\\"><strong>Yoga teachers</strong><br> Create a profile and record classes your students can subscribe to.</p>\\n  </div>\\n\\n  <form [formGroup]=\\\"signUpForm\\\" class=\\\"form-two\\\">\\n    <fieldset>\\n      <p class=\\\"text-display-2\\\">Login details</p>\\n      <hr />\\n\\n      <ng-container *ngIf=\\\"signUpForm.get('email'); let email\\\">\\n        <app-ji-input \\n          #validatedField\\n          [parentForm]=\\\"signUpForm\\\" \\n          [input]=\\\"'email'\\\" \\n          [type]=\\\"'email'\\\" \\n          [title]=\\\"'Email'\\\" \\n          [errors]=\\\"email.errors\\\"\\n          [hasError]=\\\"email.invalid && signupFormSubmitted\\\"></app-ji-input>\\n      </ng-container>\\n      <ng-container *ngIf=\\\"signUpForm.get('password'); let password\\\">\\n        <app-ji-input \\n          #validatedField\\n          [parentForm]=\\\"signUpForm\\\" \\n          [input]=\\\"'password'\\\" \\n          [type]=\\\"'password'\\\" \\n          [title]=\\\"'Password'\\\" \\n          [errors]=\\\"password.errors\\\"\\n          [hasError]=\\\"password.invalid && signupFormSubmitted\\\"></app-ji-input>\\n      </ng-container>\\n      <ng-container *ngIf=\\\"signUpForm.get('telephone'); let telephone\\\">\\n        <app-ji-input \\n          [parentForm]=\\\"signUpForm\\\" \\n          [input]=\\\"'telephone'\\\" \\n          [type]=\\\"'tel'\\\" \\n          [title]=\\\"'Mobile telephone'\\\"\\n          [explainerText]=\\\"'We are developing in app messaging but in the meantime add your number so your students can contact you directly.'\\\"></app-ji-input>\\n      </ng-container>\\n    </fieldset>\\n\\n    <fieldset>\\n      <ng-container *ngIf=\\\"signUpForm.get('first_name'); let firstName\\\">\\n        <app-ji-input \\n          #validatedField\\n          [parentForm]=\\\"signUpForm\\\" \\n          [input]=\\\"'first_name'\\\" \\n          [title]=\\\"'First name'\\\" \\n          [errors]=\\\"firstName.errors\\\"\\n          [hasError]=\\\"firstName.invalid && signupFormSubmitted\\\"></app-ji-input>\\n      </ng-container>\\n      <ng-container *ngIf=\\\"signUpForm.get('last_name'); let lastName\\\">\\n        <app-ji-input \\n          #validatedField\\n          [parentForm]=\\\"signUpForm\\\" \\n          [input]=\\\"'last_name'\\\" \\n          [title]=\\\"'Last name'\\\" \\n          [errors]=\\\"lastName.errors\\\"\\n          [hasError]=\\\"lastName.invalid && signupFormSubmitted\\\"></app-ji-input>\\n      </ng-container>\\n    </fieldset>\\n\\n    <fieldset>\\n      <ng-container *ngIf=\\\"signUpForm.get('terms'); let terms\\\">\\n        <app-ji-checkbox \\n          #validatedField\\n          [parentForm]=\\\"signUpForm\\\"\\n          [name]=\\\"'terms'\\\"\\n          [hasError]=\\\"terms.invalid && signupFormSubmitted\\\">\\n          I accept the Terms & Conditions. (<a \\n            [href]=\\\"externalRouteNames.tnc\\\" \\n            target=\\\"_blank\\\">Click here to read more.</a>)\\n        </app-ji-checkbox>\\n      </ng-container>\\n      <ng-container *ngIf=\\\"signUpForm.get('marketing'); let marketing\\\">\\n        <app-ji-checkbox \\n          [parentForm]=\\\"signUpForm\\\"\\n          [name]=\\\"'marketing'\\\">\\n          Join the mailing list for member news and offers\\n        </app-ji-checkbox>\\n      </ng-container>\\n    </fieldset>\\n\\n    <div class=\\\"m-t-40 m-b-40\\\">\\n      <button\\n        mat-ripple\\n        type=\\\"submit\\\"\\n        class=\\\"btn btn-large btn-rounded bg-20 width-100\\\"\\n        (click)=\\\"handleSubmitClick(viewStatuses.STUDENT)\\\"\\n        [disabled]=\\\"status === requestStatus.pending\\\">\\n        Want to practice? Find your teacher</button>\\n    </div>\\n    \\n    <div class=\\\"m-t-24 m-b-24\\\">\\n      <button\\n        mat-ripple\\n        type=\\\"button\\\"\\n        class=\\\"btn btn-large btn-rounded bg-20 width-100\\\"\\n        [disabled]=\\\"status === requestStatus.pending\\\"\\n        (click)=\\\"handleSubmitClick(viewStatuses.TEACHER)\\\">\\n        Are you a teacher? Create your profile</button>\\n    </div>\\n\\n  </form>\\n</div>\\n\"","module.exports = \".explainer {\\n  margin: 24px 0 30px; }\\n\\nfieldset > hr {\\n  margin-bottom: 20px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9raHJlYnRvdi9Qcm9qZWN0cy9qb3VybmV5aW50by1mcm9udGVuZC9zcmMvYXBwL3BhZ2VzL3NpZ24tdXAvc2lnbi11cC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLG1CQUFtQixFQUFBOztBQUd2QjtFQUVRLG1CQUFtQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvc2lnbi11cC9zaWduLXVwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmV4cGxhaW5lciB7XG4gICAgbWFyZ2luOiAyNHB4IDAgMzBweDtcbn1cblxuZmllbGRzZXQge1xuICAgID4gaHIge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgIH1cbn0iXX0= */\"","import { Component, OnDestroy, OnInit, ViewChildren, QueryList } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators, FormControl, CheckboxRequiredValidator } from '@angular/forms';\nimport { select, Store } from '@ngrx/store';\nimport { SignUpRequestAction } from '@src/app/store/modules/sign-up/sign-up.actions';\nimport { Observable, Subscription } from 'rxjs';\nimport { selectSignUpErrors, selectSignUpStatus } from '@src/app/store/modules/sign-up/sign-up.selectors';\nimport { IAppState } from '@src/app/store/app.reducers';\nimport { ViewStatuses } from '@src/app/store/modules/user/user.types';\nimport { RequestStatus } from '@src/app/services/api.service.interface';\nimport { Location } from '@angular/common';\nimport { ExternalRouteNames } from '@src/app/route-names';\nimport { formValidationScrollFocus } from '@src/app/helpers';\nimport { SpinnerOverlayService } from '@src/app/services';\n\n@Component({\n  selector: 'app-sign-up',\n  templateUrl: './sign-up.component.html',\n  styleUrls: ['sign-up.component.scss']\n})\nexport class SignUpComponent implements OnInit, OnDestroy {\n  @ViewChildren('validatedField') formFields: QueryList<any>;\n\n  // Store\n  public subscriptions: Subscription[] = [];\n  public status$: Observable<string> = this.store.pipe(select(selectSignUpStatus));\n  public errors$: Observable<any> = this.store.pipe(select(selectSignUpErrors));\n  public status: null | string = null;\n  public errors: null | string = null;\n  public signupFormSubmitted = false;\n\n  public email = new FormControl('', [Validators.required, Validators.email]);\n  public password = new FormControl('', [Validators.required, Validators.minLength(8)]);\n\n  public loginDetailsForm: FormGroup = this.fb.group({\n    email: this.email,\n    password: this.password,\n    telephone: null\n  });\n\n  public personalDetailsForm: FormGroup = this.fb.group({\n    first_name: ['', [Validators.required]],\n    last_name: ['', [Validators.required]]\n  });\n\n  // Reactive form\n  public signUpForm: FormGroup = this.fb.group({\n    email: this.email,\n    password: this.password,\n    telephone: null,\n    first_name: ['', [Validators.required]],\n    last_name: ['', [Validators.required]],\n    terms: ['', [Validators.requiredTrue]],\n    marketing: false\n  });\n\n  // Request statuses\n  public requestStatus = RequestStatus;\n\n  // User view statuses - student or teacher\n  public viewStatuses = ViewStatuses;\n\n  public externalRouteNames = ExternalRouteNames;\n\n  constructor(\n    private fb: FormBuilder,\n    private store: Store<IAppState>,\n    private location: Location,\n    public spinner: SpinnerOverlayService) {}\n\n  ngOnInit(): void {\n    this.spinner.hide();\n\n    if (history.state && history.state.data) {\n      const { email, password } = history.state.data;\n      if (email) {\n        this.email.setValue(email);\n      }\n      if (password) {\n        this.password.setValue(password);\n      }\n    }\n\n    this.subscriptions.push(\n      this.status$.subscribe(status => {\n        this.status = status;\n      }),\n      this.errors$.subscribe(errors => {\n        this.errors = errors;\n      }),\n      this.signUpForm.valueChanges\n        .subscribe(\n          val => {\n            if (this.errors) {\n              this.errors = null;\n            }\n          }\n        )\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.forEach(subscription => subscription.unsubscribe());\n  }\n\n  /**\n   * Handle submit click\n   */\n  handleSubmitClick(view_status: ViewStatuses): void {\n    this.signupFormSubmitted = true;\n    this.signUpForm.markAllAsTouched();\n\n    if (this.signUpForm.invalid) {\n      formValidationScrollFocus(this.signUpForm, this.formFields);\n      return;\n    }\n\n    const data:any = {\n      view_status,\n      email: this.signUpForm.get('email').value,\n      password: this.signUpForm.get('password').value,\n      first_name: this.signUpForm.get('first_name').value,\n      last_name: this.signUpForm.get('last_name').value,\n      marketing: this.signUpForm.get('marketing').value\n    };\n\n    if (this.signUpForm.get('telephone').value) {\n      data.telephone = this.signUpForm.get('telephone').value;\n    }\n\n\n    this.store.dispatch(new SignUpRequestAction(data));\n  }\n  goBack() {\n    this.location.back();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatRippleModule } from '@angular/material/core';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { SignUpComponent } from './sign-up.component';\nimport { FormHeaderModule } from '@src/app/components/form-header/form-header.module';\nimport { ErrorsModule } from '@src/app/components/errors/errors.module';\nimport { JiFormsModule } from '@src/app/components/forms/ji-forms.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: SignUpComponent,\n        data: {\n          goBack: false\n        }\n      }\n    ]),\n    FormsModule,\n    ReactiveFormsModule,\n    MatButtonModule,\n    MatCheckboxModule,\n    MatRippleModule,\n    FlexLayoutModule,\n    FormHeaderModule,\n    ErrorsModule,\n    JiFormsModule\n  ],\n  providers: [],\n  bootstrap: [],\n  declarations: [SignUpComponent]\n})\nexport class SignUpModule {}\n"],"sourceRoot":""}