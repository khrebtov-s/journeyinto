{"version":3,"sources":["webpack:///./src/app/pages/student/my-practice/item/my-practice-detail.component.html","webpack:///./src/app/pages/student/my-practice/list/my-practices.component.html","webpack:///./src/app/pages/student/my-practice/my-practice.component.html","webpack:///./src/app/pages/student/my-practice/item/my-practice-detail.component.scss","webpack:///./src/app/pages/student/my-practice/item/my-practice-detail.component.ts","webpack:///./src/app/pages/student/my-practice/list/my-practices.component.scss","webpack:///./src/app/pages/student/my-practice/list/my-practices.component.ts","webpack:///./src/app/pages/student/my-practice/my-practice.component.scss","webpack:///./src/app/pages/student/my-practice/my-practice.component.ts","webpack:///./src/app/pages/student/my-practice/my-practice.module.ts"],"names":[],"mappings":"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","file":"my-practice-my-practice-module.030f4bf2bc21b34034e0.js","sourcesContent":["module.exports = \"<p>My practice detail works!</p>\"","module.exports = \"<p>My practices works!</p>\"","module.exports = \"<div class=\\\"wrapper\\\" *ngIf=\\\"creator && !spinner.isShowing.value\\\">\\n  <section *ngIf=\\\"isSubscribedUser\\\">\\n    <h1 class=\\\"text-display-2\\\">All classes</h1>\\n    <ul *ngIf=\\\"teacherClasses.length > 0; else noTeacherClasses\\\">\\n      <li *ngFor=\\\"let userClass of teacherClasses\\\">\\n        <app-class-card \\n          [singleClass]=\\\"userClass\\\"\\n          [teacher]=\\\"creator\\\"></app-class-card>\\n      </li>\\n    </ul>    \\n\\n    <ng-template #noTeacherClasses>\\n      <p>Sorry, your teacher hasn't added any classes yet.</p>\\n    </ng-template>\\n  </section>\\n  \\n  <!-- if not subscribed -->\\n  <ng-container *ngIf=\\\"!isSubscribedUser\\\">\\n    <section class=\\\"subscribe-cta\\\">\\n      <h1 class=\\\"text-display-2\\\">Why subscribe?</h1>\\n      <hr>\\n      <p>Your teacher is creating new content every week so you can practice anywhere, any time with the support of their familiar phrasing and sequences.</p>\\n\\n      <button \\n        mat-ripple \\n        class=\\\"btn\\\"\\n        (click)=\\\"subscribeToTeacher()\\\">Subscribe to {{creator.first_name}} for {{creator.product.cost | currency : creator.currency.toUpperCase()}} a {{ creator.product.frequency }}</button>\\n    </section>\\n  \\n    <!-- Teachers classes -->\\n    <section>\\n      <h1 class=\\\"text-display-2\\\">Your latest classes</h1>\\n      <ul *ngIf=\\\"teacherClasses.length; else emptyTeacherClasses\\\">\\n        <li *ngFor=\\\"let class of teacherClasses\\\">\\n          <app-class-card \\n            [teacher]=\\\"creator\\\"\\n            [singleClass]=\\\"class\\\"\\n            [customContent]=\\\"true\\\">\\n            <div class=\\\"two-col-btns\\\"\\n              *ngIf=\\\"!class.is_bought\\\">\\n              <!-- <a class=\\\"btn btn-small btn-bordered\\\"\\n                (click)=\\\"subscribeToTeacher(class)\\\">Buy for Â£5.00</a> -->\\n              <a class=\\\"btn btn-small btn-bordered\\\"\\n                (click)=\\\"subscribeToTeacher()\\\">Subscribe for {{creator.product.cost | currency: creator.currency.toUpperCase() }}</a>\\n            </div>\\n            <a class=\\\"btn btn-small btn-bordered\\\"\\n                *ngIf=\\\"class.is_bought\\\"\\n                [routerLink]=\\\"['/', routeNames.teachers, creator.slug, routeNames.recordings, class.slug]\\\">Practice</a>\\n          </app-class-card>\\n        </li>\\n      </ul>\\n      <ng-template #emptyTeacherClasses>\\n        <p>Your teacher has no classes.</p>\\n      </ng-template>\\n    </section>\\n\\n    <section>\\n      <!-- Sample classes -->\\n      <h1 class=\\\"text-display-2\\\">Sample class</h1>\\n      <ul *ngIf=\\\"sampleClasses.length; else emptySampleClasses\\\">\\n        <li *ngFor=\\\"let class of sampleClasses\\\">\\n          <app-class-card \\n            [singleClass]=\\\"class\\\"\\n            [teacher]=\\\"creator\\\"></app-class-card>\\n        </li>\\n      </ul>\\n      <ng-template #emptySampleClasses>\\n        <p>Your teacher has no sample classes.</p>\\n      </ng-template>\\n    </section>\\n  </ng-container>\\n</div>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3N0dWRlbnQvbXktcHJhY3RpY2UvaXRlbS9teS1wcmFjdGljZS1kZXRhaWwuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, OnDestroy } from \"@angular/core\";\n\n@Component({\n    selector: 'app-my-practice-detail',\n    templateUrl: './my-practice-detail.component.html',\n    styleUrls: ['./my-practice-detail.component.scss']\n})\nexport class MyPracticeDetailComponent implements OnInit {\n    ngOnInit() {}\n}","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3N0dWRlbnQvbXktcHJhY3RpY2UvbGlzdC9teS1wcmFjdGljZXMuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, OnDestroy } from \"@angular/core\";\n\n@Component({\n    selector: 'app-my-practices',\n    templateUrl: './my-practices.component.html',\n    styleUrls: ['./my-practices.component.scss']\n})\nexport class MyPracticesComponent implements OnInit {\n    constructor() {}\n\n    ngOnInit() {}\n}","module.exports = \"section {\\n  margin-top: 40px; }\\n  section:first-child {\\n    margin-top: 24px; }\\n  section h1 {\\n    margin-bottom: 20px; }\\n  section hr {\\n    margin-bottom: 30px; }\\n  .subscribe-cta button {\\n  margin-top: 30px; }\\n  ul li {\\n  margin-bottom: 20px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9raHJlYnRvdi9Qcm9qZWN0cy9qb3VybmV5aW50by1mcm9udGVuZC9zcmMvYXBwL3BhZ2VzL3N0dWRlbnQvbXktcHJhY3RpY2UvbXktcHJhY3RpY2UuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxnQkFBZ0IsRUFBQTtFQURwQjtJQUlRLGdCQUFnQixFQUFBO0VBSnhCO0lBUVEsbUJBQW1CLEVBQUE7RUFSM0I7SUFZUSxtQkFBbUIsRUFBQTtFQUkzQjtFQUVRLGdCQUFnQixFQUFBO0VBSXhCO0VBRVEsbUJBQW1CLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9zdHVkZW50L215LXByYWN0aWNlL215LXByYWN0aWNlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsic2VjdGlvbiB7XG4gICAgbWFyZ2luLXRvcDogNDBweDtcblxuICAgICY6Zmlyc3QtY2hpbGQge1xuICAgICAgICBtYXJnaW4tdG9wOiAyNHB4O1xuICAgIH1cblxuICAgIGgxIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICB9XG5cbiAgICBociB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XG4gICAgfVxufVxuXG4uc3Vic2NyaWJlLWN0YSB7XG4gICAgYnV0dG9uIHtcbiAgICAgICAgbWFyZ2luLXRvcDogMzBweDtcbiAgICB9XG59XG5cbnVsIHtcbiAgICBsaSB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gICAgfVxufSJdfQ== */\"","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { select, Store } from '@ngrx/store';\nimport { Observable, Subscription } from 'rxjs';\nimport { IAppState } from '@src/app/store/app.reducers';\nimport { selectUserActive } from '@src/app/store/modules/user/user.selectors';\nimport { ViewStatuses } from '@src/app/store/modules/user/user.types';\nimport { GetCurrentUserRequestAction } from '@src/app/store/modules/user/user.actions';\nimport { Router } from '@angular/router';\nimport { filter } from 'rxjs/operators';\nimport { TeacherInterface } from '@src/app/interfaces/teachers';\nimport { StudentInterface } from '@src/app/interfaces/students';\nimport { RouteNames } from '@src/app/route-names';\nimport _ from 'lodash';\nimport { SpinnerOverlayService } from '@src/app/services';\n\n@Component({\n  selector: 'app-my-practice',\n  templateUrl: './my-practice.component.html',\n  styleUrls: ['./my-practice.component.scss']\n})\nexport class MyPracticeComponent implements OnInit, OnDestroy {\n  public routeNames = RouteNames;\n  public subscriptions: Subscription[] = [];\n\n  public user$: Observable<any> = this.store.pipe(\n    select(selectUserActive),\n    filter(user => Boolean(user))\n  );\n\n  public user: StudentInterface = null;\n  public creator: TeacherInterface = null;\n\n  public sampleClasses: any = [];\n  public teacherClasses: any = [];\n\n  public isSubscribedUser: boolean;\n  public viewStatuses = ViewStatuses;\n\n  public emptyField = 'n/a';\n\n  constructor(\n    private store: Store<IAppState>,\n    private router: Router,\n    public spinner: SpinnerOverlayService\n  ) {}\n\n  ngOnInit() {\n    // ('GetCurrentUserRequestAction');\n    this.store.dispatch(new GetCurrentUserRequestAction());\n\n    this.subscriptions.push(\n      this.user$.subscribe(user => {\n        this.user = user;\n\n        if (this.user.creators.length) {\n          this.creator = user.creators[0].creator;\n\n          // ({creator: this.creator});\n\n          if (this.creator) {\n            // hideoverlay\n            // console.log('hide spinner');\n            this.spinner.hide();\n  \n            this.isSubscribedUser = this.creator.subscribed.length > 0;\n            this.teacherClasses = _.orderBy(this.creator.classes, ['is_bought', 'created_at'], ['desc', 'desc']);\n            this.sampleClasses = this.creator.sample_classes;\n          } else {\n            this.store.dispatch(new GetCurrentUserRequestAction());\n          }\n        }\n      }),\n    );\n  }\n\n  subscribeToTeacher(classBought = false) {\n    this.router.navigate(['/', RouteNames.student, RouteNames.subscription], {\n      state: {\n        data: { classBought }\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MyPracticeComponent } from '@src/app/pages/student/my-practice/my-practice.component';\nimport { MyPracticesComponent } from './list/my-practices.component';\n\nimport { RouteNames } from '@src/app/route-names';\nimport { MyPracticeDetailComponent } from './item/my-practice-detail.component';\nimport { ComingSoonComponent } from '@src/app/components/coming-soon/coming-soon.component';\nimport { ComingSoonModule } from '@src/app/components/coming-soon/coming-soon.module';\nimport { ClassCardModule } from '@src/app/components/class-card/class-card.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        ReactiveFormsModule,\n        FormsModule,\n        ComingSoonModule,\n        ClassCardModule,\n        RouterModule.forChild([\n            {\n                path: '',\n                component: MyPracticeComponent,\n                data: {\n                    title: 'My practice',\n                    goBack: false\n                }\n            },\n            {\n                path: 'all',\n                // component: MyPracticesComponent,\n                component: ComingSoonComponent,\n                data: {\n                    title: 'All of my practices',\n                    goBack: true\n                }\n            },\n            {\n                path: ':className',\n                // component: MyPracticeDetailComponent,\n                component: ComingSoonComponent,\n                data: {\n                    title: 'My practice Detail',\n                    goBack: true\n                }\n            }\n        ])\n    ],\n    declarations: [\n        MyPracticeComponent,\n        MyPracticesComponent,\n        MyPracticeDetailComponent\n    ],\n    providers: [],\n    bootstrap: []\n})\nexport class MyPracticeModule { }\n"],"sourceRoot":""}