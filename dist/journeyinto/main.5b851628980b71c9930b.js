(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./$$_lazy_route_resource lazy recursive":
/*!******************************************************!*\
  !*** ./$$_lazy_route_resource lazy namespace object ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-SG": "./node_modules/moment/locale/en-SG.js",
	"./en-SG.js": "./node_modules/moment/locale/en-SG.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./ga": "./node_modules/moment/locale/ga.js",
	"./ga.js": "./node_modules/moment/locale/ga.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it-ch": "./node_modules/moment/locale/it-ch.js",
	"./it-ch.js": "./node_modules/moment/locale/it-ch.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ku": "./node_modules/moment/locale/ku.js",
	"./ku.js": "./node_modules/moment/locale/ku.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/components/add-card-button/add-card-button.component.html":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/components/add-card-button/add-card-button.component.html ***!
  \*****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"m-t-18\" [ngStyle]=\"{ display: showStripeForm ? 'block' : 'none' }\">\n  <form id=\"payment-form\" class=\"form-one\" [formGroup]=\"paymentCardForm\">\n    <ng-container *ngIf=\"paymentCardForm.get('name'); let name\">\n        <app-ji-input \n            [parentForm]=\"paymentCardForm\" \n            [type]=\"'name'\"\n            [input]=\"'name'\" \n            [title]=\"'Name on card'\"\n            [errors]=\"name.errors\"\n            [hasError]=\"name.invalid && (name.dirty || name.touched)\"></app-ji-input>\n    </ng-container>\n\n    <ng-container>\n      <label class=\"text-display-4\">Payment card information</label>\n      <div id=\"card-element\" class=\"card-element\">\n        <!-- A Stripe Element will be inserted here. -->\n      </div>\n      <!-- Used to display Element errors. -->\n      <div id=\"card-errors\"></div>\n    </ng-container>\n\n    <ng-container *ngIf=\"!canSetDefault\">\n      <p class=\"text-display-6\">*This card will become your new active payment method.</p>\n    </ng-container>\n    <ng-container *ngIf=\"canSetDefault && paymentCardForm.get('toAccount'); let terms\">\n      <app-ji-checkbox \n        [parentForm]=\"paymentCardForm\"\n        [name]=\"'toAccount'\">\n        Make this card default\n      </app-ji-checkbox>\n    </ng-container>\n\n    <button class=\"btn\"\n      type=\"submit\"\n      [disabled]=\"paymentCardForm.invalid || stripeError\">\n      {{ slug ? 'Confirm subscription and pay' : 'Add card' }}\n    </button>\n  </form>\n</div>\n\n<button \n  class=\"btn btn-bordered new-payment-btn\" \n  (click)=\"toggleFormShown()\">\n  {{showStripeForm ? 'Cancel' : 'Enter a new payment method' }}\n</button>\n"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/components/app/app.component.html":
/*!*****************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/components/app/app.component.html ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<router-outlet></router-outlet>\n"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/components/forms/ji-checkbox/ji-checkbox.component.html":
/*!***************************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/components/forms/ji-checkbox/ji-checkbox.component.html ***!
  \***************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<fieldset [formGroup]=\"parentForm\">\n    <mat-checkbox \n        color=\"primary\" \n        formControlName=\"{{name}}\">\n        <ng-content></ng-content>\n    </mat-checkbox>\n    <p *ngIf=\"hasError\">This field must be checked in order to submit the form.</p>\n</fieldset>"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/components/forms/ji-input/ji-input.component.html":
/*!*********************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/components/forms/ji-input/ji-input.component.html ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div [formGroup]=\"parentForm\" class=\"form-input\">\n  <label [for]=\"input\" class=\"text-display-4\" #inputEl>{{ title }}</label>\n  <span\n    class=\"input-container\"\n    [ngClass]=\"{\n      'ji-error': hasError,\n      'ji-valid': isValid\n    }\"\n  >\n    <input\n      *ngIf=\"isSimpleInputField\"\n      [type]=\"type\"\n      [formControlName]=\"input\"\n      [name]=\"input\"\n      [id]=\"id ? id : input\"\n      [placeholder]=\"placeholder\"\n      autocomplete=\"off\"\n      class=\"text-display-3\"\n    />\n\n    <textarea\n      rows=\"3\"\n      *ngIf=\"type === 'textarea'\"\n      [formControlName]=\"input\"\n      [name]=\"input\"\n      [id]=\"id ? id : input\"\n      [placeholder]=\"placeholder\"\n      autocomplete=\"off\"\n      class=\"text-display-3\"\n    ></textarea>\n\n    <select\n      *ngIf=\"type === 'select' && options.length > 0\"\n      [formControlName]=\"input\"\n      [name]=\"input\"\n      [id]=\"id ? id : input\"\n      [ngClass]=\"{\n        placeholder: !value\n      }\"\n    >\n      <option value=\"\" [selected]=\"!value\">{{ placeholder }}</option>\n      <option\n        *ngFor=\"let option of options\"\n        [selected]=\"value && value === option.value\"\n        [value]=\"option.value\"\n      >\n        {{ option.label }}\n      </option>\n    </select>\n  </span>\n\n  <p class=\"text-display-6 explainer-text\" *ngIf=\"explainerText\">\n    {{ explainerText }}\n  </p>\n\n  <p\n    class=\"text-display-6 explainer-text\"\n    *ngIf=\"!teachersLink && input === 'description'\"\n  >\n    For inspiration, see some\n    <a [routerLink]=\"['/', routeNames.teachers]\"\n      >Journey Into Profile examples</a\n    >.\n  </p>\n\n  <p class=\"text-display-6 explainer-text\" *ngIf=\"teachersLink\">\n    For inspiration, see some\n    <a (click)=\"teachersLinkChange.emit()\">Journey Into Profile examples</a>.\n  </p>\n\n  <ul *ngIf=\"hasError\" class=\"input-error\">\n    <li *ngFor=\"let error of errorsArray\">\n      <p>{{ error.text }}</p>\n    </li>\n  </ul>\n</div>\n"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/components/icon/icon.component.html":
/*!*******************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/components/icon/icon.component.html ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<svg *ngIf=\"icon\" \n    [attr.width]=\"width\" \n    [attr.height]=\"height ? height : width\">\n    <image \n        [attr.xlink:href]=\"'/assets/img/' + icon + '.svg'\" \n        [attr.width]=\"width\" \n        [attr.height]=\"height ? height : width\" />\n</svg>"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/components/spinner-overlay/spinner-overlay.component.html":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/components/spinner-overlay/spinner-overlay.component.html ***!
  \*****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div>\n  <mat-spinner\n    *ngIf=\"!uploadError\"\n    class=\"spinner-wrapper\"\n    color=\"accent\"\n    diameter=\"80\"\n    strokeWidth=\"7\"\n  ></mat-spinner>\n  <div *ngIf=\"isAddText\" class=\"spinner-text\">\n    <h2 class=\"progress\">{{ progress || '0' }}%</h2>\n    <h3>{{ progress === 100 ? 'Processing...' : 'We are uploading your class now, it may take a few minutes.' }}</h3>\n  </div>\n  <div *ngIf=\"uploadError\" class=\"spinner-text\">\n    <h3>{{ errorText }}</h3>\n    <h3>An error occurred while uploading the file. Please try again.</h3>\n  </div>\n</div>\n"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/theme/desktop/layouts/default/footer/footer-default.component.html":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/theme/desktop/layouts/default/footer/footer-default.component.html ***!
  \**************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<footer \n  class=\"footer\" \n  *ngIf=\"canSeeFooter\">\n  <div class=\"footer-inner\">\n    <ng-container *ngIf=\"!user\">\n      <a [routerLink]=\"['/', routeNames.login]\"\n        routerLinkActive=\"active-link\" \n        [routerLinkActiveOptions]=\"{ exact: true }\">\n        <app-footer-icon [icon]=\"'account_icon'\"></app-footer-icon>\n        <span class=\"text-display-9\">Login</span>\n      </a>\n      <a [href]=\"externalRoutes.about\"\n        target=\"_blank\">\n        <app-footer-icon [icon]=\"'account_icon'\"></app-footer-icon>\n        <span class=\"text-display-9\">About</span>\n      </a>\n      <a [routerLink]=\"['/', routeNames.poses]\"\n        routerLinkActive=\"active-link\" \n        [routerLinkActiveOptions]=\"{ exact: true }\">\n        <app-footer-icon [icon]=\"'practice_icon'\"></app-footer-icon>\n        <span class=\"text-display-9\">Postures</span>\n      </a>\n      <a [routerLink]=\"['/', routeNames.teachers]\"\n        routerLinkActive=\"active-link\" \n        [routerLinkActiveOptions]=\"{ exact: true }\">\n        <app-footer-icon [icon]=\"'account_icon'\"></app-footer-icon>\n        <span class=\"text-display-9\">Teachers</span>\n      </a>\n    </ng-container>\n    <ng-container *ngIf=\"user && user?.view_status === viewStatuses.STUDENT\">\n      <a [routerLink]=\"['/', routeNames.student]\"\n        routerLinkActive=\"active-link\" \n        [routerLinkActiveOptions]=\"{ exact: true }\">\n        <app-footer-icon [icon]=\"'home_icon'\"></app-footer-icon>\n        <span class=\"text-display-9\">Home</span>\n      </a>\n      <a [routerLink]=\"[ '/', routeNames.student, routeNames.myPractice ]\" \n        routerLinkActive=\"active-link\">\n        <app-footer-icon [icon]=\"'practice_icon'\"></app-footer-icon>\n        <span class=\"text-display-9\">My practice</span>\n      </a>\n      <a [routerLink]=\"[ '/', routeNames.student, routeNames.calendar ]\" \n        routerLinkActive=\"active-link\"\n        [routerLinkActiveOptions]=\"{ exact: true }\">\n        <app-footer-icon [icon]=\"'calendar_icon'\"></app-footer-icon>\n        <span class=\"text-display-9\">My calendar</span>\n      </a>\n      <a *ngIf=\"user?.creators?.length && user.creators[0].creator\" \n        [routerLink]=\"[ '/', routeNames.teachers, user.creators[0]?.creator?.slug ]\" \n        routerLinkActive=\"active-link\"\n        [routerLinkActiveOptions]=\"{ exact: true }\">\n        <app-footer-icon [icon]=\"'account_icon'\"></app-footer-icon>\n        <span class=\"text-display-9\">My teacher</span>\n      </a>\n      <!-- <a fxFlex=\"25\" fxFlex.xs=\"25\" fxLayout=\"column\" fxLayoutAlign=\"center center\" \n        [routerLink]=\"['/', routeNames.student]\"\n        routerLinkActive=\"active-link\" \n        [routerLinkActiveOptions]=\"{ exact: true }\">\n        <img class=\"bot-nav-img m-t-3\" src=\"assets/img/home_icon.svg\" />\n        <div class=\"text-display-9 m-t-6 m-b-3\">Home</div>\n      </a>\n      <a fxFlex=\"25\" fxFlex.xs=\"25\" fxLayout=\"column\" fxLayoutAlign=\"center center\"\n        [routerLink]=\"[ '/', routeNames.student, routeNames.myPractice ]\" routerLinkActive=\"active-link\">\n        <img class=\"bot-nav-img m-t-3\" src=\"assets/img/practice_icon.svg\" />\n        <div class=\"text-display-9 m-t-6 m-b-3\">My practice</div>\n      </a>\n      <a fxFlex=\"25\" fxFlex.xs=\"25\" fxLayout=\"column\" fxLayoutAlign=\"center center\"\n        [routerLink]=\"[ '/', routeNames.student, routeNames.calendar ]\" routerLinkActive=\"active-link\"\n        [routerLinkActiveOptions]=\"{ exact: true }\">\n        <img class=\"bot-nav-img m-t-3\" src=\"assets/img/calendar_icon.svg\" />\n        <div class=\"text-display-9 m-t-6 m-b-3\">My calendar</div>\n      </a>\n      <a fxFlex=\"25\" fxFlex.xs=\"25\" fxLayout=\"column\" fxLayoutAlign=\"center center\"\n        [routerLink]=\"[ '/', routeNames.student, routeNames.account ]\" routerLinkActive=\"active-link\">\n        <img class=\"bot-nav-img m-t-3\" src=\"assets/img/account_icon.svg\" />\n        <div class=\"text-display-9 m-t-6 m-b-3\">My account</div>\n      </a> -->\n    </ng-container>\n    <ng-container *ngIf=\"user && user.view_status === viewStatuses.TEACHER\">\n      <a fxFlex=\"25\" fxFlex.xs=\"25\" fxLayout=\"column\" fxLayoutAlign=\"center center\" [routerLink]=\"['/', routeNames.teacher]\"\n        routerLinkActive=\"active-link\" [routerLinkActiveOptions]=\"{ exact: true }\">\n        <app-footer-icon [icon]=\"'home_icon'\"></app-footer-icon>\n        <span class=\"text-display-9\">Home</span>\n      </a>\n      <a fxFlex=\"25\" fxFlex.xs=\"25\" fxLayout=\"column\" fxLayoutAlign=\"center center\"\n        [routerLink]=\"['/', routeNames.teacher, routeNames.recordings, routeNames.new]\" routerLinkActive=\"active-link\">\n        <app-footer-icon [icon]=\"'record_icon'\"></app-footer-icon>\n        <span class=\"text-display-9\">Record</span>\n      </a>\n      <a fxFlex=\"25\" fxFlex.xs=\"25\" fxLayout=\"column\" fxLayoutAlign=\"center center\"\n        [routerLink]=\"['/', routeNames.teacher, routeNames.bookings]\" routerLinkActive=\"active-link\">\n        <app-footer-icon [icon]=\"'calendar_icon'\"></app-footer-icon>\n        <span class=\"text-display-9\">Bookings</span>\n      </a>\n      <a fxFlex=\"25\" fxFlex.xs=\"25\" fxLayout=\"column\" fxLayoutAlign=\"center center\"\n        [routerLink]=\"['/', routeNames.teacher, routeNames.recordings]\" routerLinkActive=\"active-link\"\n        [routerLinkActiveOptions]=\"{ exact: true }\">\n        <app-footer-icon \n          [icon]=\"'classes_icon'\"\n          [classes]=\"'library'\"></app-footer-icon>\n        <span class=\"text-display-9\">Library</span>\n      </a>\n    </ng-container>\n  </div>\n</footer>\n"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/theme/desktop/layouts/default/footer/footer-icon/footer-icon.component.html":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/theme/desktop/layouts/default/footer/footer-icon/footer-icon.component.html ***!
  \***********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<img class=\"bot-nav-img {{classes}}\" src=\"assets/img/{{icon}}.svg\" />"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/theme/desktop/layouts/default/header/header-default.component.html":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/theme/desktop/layouts/default/header/header-default.component.html ***!
  \**************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-toolbar class=\"header\">\n  <mat-toolbar-row>\n    <div *ngIf=\"showBackButton\">\n      <a class=\"btn left-arrow-btn\" \n        (click)=\"goBack()\"></a>\n    </div>\n   \n    <p class=\"text-center text-display-1 header-title\" *ngIf=\"title; else noTitle\">\n      {{ title }}\n    </p>\n\n    <ng-template #noTitle>\n      <div class=\"text-center width-100\" *ngIf=\"!hideNav\">\n        <a [routerLink]=\"['/']\" class=\"logo-link\">\n          <app-icon\n            [width]=\"30\"\n            [icon]=\"'logo-header'\"></app-icon>\n        </a>\n      </div>\n    </ng-template>\n\n    <button *ngIf=\"user\" \n      type=\"button\"\n      (click)=\"onToggleSidenav()\">\n      <app-icon \n        [width]=\"24\"\n        [icon]=\"'menu_icon'\"></app-icon>\n    </button>\n  </mat-toolbar-row>\n</mat-toolbar>\n"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/theme/desktop/layouts/default/layout-default.component.html":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/theme/desktop/layouts/default/layout-default.component.html ***!
  \*******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-sidenav-container [ngClass]=\"{\n  'menu-open': sidenavOpen \n}\">\n  <mat-sidenav \n    class=\"menu-header\"\n    fixedInViewport=\"true\"\n    #sidenav>\n    <app-menu\n      [user]=\"user\"\n      (switchUserViewStatus)=\"onSwitchUserViewStatus($event)\"\n      (sidenavClose)=\"onCloseSideNav()\"\n      (logout)=\"onLogout()\"\n      [hidePrivateMenuItems]=\"hideNav\"\n    ></app-menu>\n  </mat-sidenav>\n  <mat-sidenav-content class=\"content\">\n    <app-layout-default-header \n      (switchUserViewStatus)=\"onSwitchUserViewStatus($event)\"\n      [hideNav]=\"hideNav\"\n      [user]=\"user\"\n      (sidenavToggle)=\"onSidenavToggle()\">\n    </app-layout-default-header>\n    <router-outlet></router-outlet>\n    <!-- <app-layout-default-footer \n      *ngIf=\"!hideNav\"\n      [user]=\"user\"></app-layout-default-footer> -->\n  </mat-sidenav-content>\n</mat-sidenav-container>\n"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/theme/desktop/layouts/default/menu/menu.component.html":
/*!**************************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/theme/desktop/layouts/default/menu/menu.component.html ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-toolbar class=\"menu-nav\">\n  <a class=\"home-link\" \n    routerLink=\"/\">\n    <img class=\"home-link__logo\" src=\"/assets/img/logo.svg\" alt=\"\" width=\"45\" height=\"45\" />\n  </a>\n  <button (click)=\"handleClickCloseSideNav()\" class=\"btn close-menu-btn\"></button>\n</mat-toolbar>\n\n<mat-nav-list style=\"padding-top: 0;\" *ngIf=\"user\">\n  <div fxLayout=\"column\" fxLayoutGap=\"24px\" fxLayoutAlign=\"center\">\n    <div *ngIf=\"user?.view_status === viewStatus.TEACHER\" class=\"menu-list-wrapper\">\n      <ng-container *ngIf=\"!hidePrivateMenuItems\">\n        <a mat-list-item \n          *ngIf=\"user?.creator?.slug\"\n          [routerLink]=\"['/', routeNames.teacher, routeNames.profile]\"\n          [routerLinkActive]=\"activeLinkClass\" \n          (click)=\"handleClickCloseSideNav()\">\n          <span>Profile</span>\n          <app-icon [width]=\"18\" [icon]=\"'arrow_right'\"></app-icon>\n        </a>\n        <a mat-list-item \n          [routerLink]=\"['/', routeNames.teacher, routeNames.students ]\" \n          [routerLinkActive]=\"activeLinkClass\" \n          (click)=\"handleClickCloseSideNav()\">\n          <span>My Students</span>\n          <app-icon [width]=\"18\" [icon]=\"'arrow_right'\"></app-icon>\n        </a>\n        <!-- <a mat-list-item \n          [routerLink]=\"['/', routeNames.notifications]\" \n          [routerLinkActive]=\"activeLinkClass\" \n          (click)=\"handleClickCloseSideNav()\">\n          <span>Notifications</span>\n          <app-icon [width]=\"18\" [icon]=\"'arrow_right'\"></app-icon>\n        </a> -->\n        <a mat-list-item \n          [routerLink]=\"['/', routeNames.teacher, routeNames.account]\" \n          [routerLinkActive]=\"activeLinkClass\" \n          (click)=\"handleClickCloseSideNav()\">\n          <span>My Account</span>\n          <app-icon [width]=\"18\" [icon]=\"'arrow_right'\"></app-icon>\n        </a>\n        <a mat-list-item \n          [routerLink]=\"['/', routeNames.teacher, routeNames.addClass]\" \n          [routerLinkActive]=\"activeLinkClass\" \n          (click)=\"handleClickCloseSideNav()\">\n          <span>Add a new class</span>\n          <app-icon [width]=\"18\" [icon]=\"'arrow_right'\"></app-icon>\n        </a>\n        <a mat-list-item \n          [routerLink]=\"['/', routeNames.poses]\" \n          [routerLinkActive]=\"activeLinkClass\" \n          (click)=\"handleClickCloseSideNav()\">\n          <span>Postures</span>\n          <app-icon [width]=\"18\" [icon]=\"'arrow_right'\"></app-icon>\n        </a>\n      </ng-container>\n      <a mat-list-item href=\"https://journeyinto.com/about\" target=\"_blank\">\n        <span>About</span>\n        <app-icon [width]=\"18\" [icon]=\"'arrow_right'\"></app-icon>\n      </a>\n      <!-- <a mat-list-item href=\"mailto:hello@journeyinto.com\" target=\"_blank\">\n        <span>Contact us</span>\n        <app-icon [width]=\"18\" [icon]=\"'arrow_right'\"></app-icon>\n      </a> -->\n      <a mat-list-item href=\"https://journeyinto.com/howto\" target=\"_blank\">\n        <span>How to</span>\n        <app-icon [width]=\"18\" [icon]=\"'arrow_right'\"></app-icon>\n      </a>\n    </div>\n\n    <div *ngIf=\"user.view_status === viewStatus.STUDENT\" class=\"menu-list-wrapper\">\n      <!-- <a mat-list-item \n        [routerLink]=\"['/', routeNames.teachers]\"\n        [routerLinkActive]=\"activeLinkClass\"\n        [routerLinkActiveOptions]=\"{ exact: true }\"   \n        (click)=\"handleClickCloseSideNav()\">\n        <span>Teachers</span>\n        <app-icon [width]=\"18\" [icon]=\"'arrow_right'\"></app-icon>\n      </a> -->\n      <a mat-list-item \n        *ngIf=\"this.user.creators && this.user.creators[0]?.creator?.slug\" \n        [routerLink]=\"['/', routeNames.teachers, this.user.creators[0].creator.slug ]\"\n        [routerLinkActive]=\"activeLinkClass\"\n        (click)=\"handleClickCloseSideNav()\">\n        <span>My Teacher</span>\n        <app-icon [width]=\"18\" [icon]=\"'arrow_right'\"></app-icon>\n      </a>\n      <!-- <a mat-list-item \n        [routerLink]=\"['/', routeNames.notifications]\" \n        [routerLinkActive]=\"activeLinkClass\" \n        (click)=\"handleClickCloseSideNav()\">\n        <span>Notifications</span>\n        <app-icon [width]=\"18\" [icon]=\"'arrow_right'\"></app-icon>\n      </a> -->\n      <a mat-list-item \n        [routerLink]=\"['/', routeNames.student, routeNames.account]\" \n        [routerLinkActive]=\"activeLinkClass\" \n        (click)=\"handleClickCloseSideNav()\">\n        <span>My Account</span>\n        <app-icon [width]=\"18\" [icon]=\"'arrow_right'\"></app-icon>\n      </a>\n      <a mat-list-item \n        [routerLink]=\"['/', routeNames.poses]\" \n        [routerLinkActive]=\"activeLinkClass\" \n        (click)=\"handleClickCloseSideNav()\">\n        <span>Postures</span>\n        <app-icon [width]=\"18\" [icon]=\"'arrow_right'\"></app-icon>\n      </a>\n      <!-- <a mat-list-item href=\"https://journeyinto.com/howto\" target=\"_blank\">\n        <span>How to</span>\n        <app-icon [width]=\"18\" [icon]=\"'arrow_right'\"></app-icon>\n      </a> -->\n      <a mat-list-item href=\"https://journeyinto.com/about\" target=\"_blank\">\n        <span>About</span>\n        <app-icon [width]=\"18\" [icon]=\"'arrow_right'\"></app-icon>\n      </a>\n      <!-- <a mat-list-item href=\"mailto:hello@journeyinto.com\" target=\"_blank\">\n        <span>Contact us</span>\n        <app-icon [width]=\"18\" [icon]=\"'arrow_right'\"></app-icon>\n      </a> -->\n    </div>\n\n    <div fxLayout=\"row\" fxLayoutAlign=\"center\">\n      <div class=\"btn btn-bordered switch-btn-content\">\n        <button\n          (click)=\"handleClickSwitchUserViewStatus(viewStatus.STUDENT)\"\n          class=\"switch-btn switch-1\"\n          [ngClass]=\"{ \n            'active-btn': user?.view_status === viewStatus.TEACHER \n          }\">{{ studentSwitchTitle ? studentSwitchTitle : 'Yoga view'}}</button>\n        <button\n          (click)=\"handleClickSwitchUserViewStatus(viewStatus.TEACHER)\"\n          class=\"switch-btn switch-2\"\n          [ngClass]=\"{ \n            'active-btn': user?.view_status === viewStatus.STUDENT \n          }\">{{ teacherSwitchTitle ? teacherSwitchTitle : 'Teacher view'}}</button>\n      </div>\n    </div>\n    <div fxLayout=\"row\" fxLayoutAlign=\"center\">\n      <a href=\"https://journeyinto.com/termsandconditions\" target=\"_blank\">Terms & Conditions</a>\n    </div>\n    <div fxLayout=\"row\" fxLayoutAlign=\"center\">\n      <a href=\"mailto:hello@journeyinto.com\" target=\"_blank\">Contact Us</a>\n    </div>\n    <div fxLayout=\"row\" fxLayoutAlign=\"center\">\n      <a href=\"https://journeyinto.com/privacypolicy\" target=\"_blank\">Privacy</a>\n    </div>\n    <div fxLayout=\"row\" fxLayoutAlign=\"center\">\n      <button class=\"btn logout-btn\" (click)=\"handleLogoutClick()\">Logout</button>\n    </div>\n  </div>\n</mat-nav-list>\n"

/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: routes, AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "routes", function() { return routes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/flex-layout */ "./node_modules/@angular/flex-layout/esm5/flex-layout.es5.js");
/* harmony import */ var _theme_desktop_layouts_default_layout_default_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./theme/desktop/layouts/default/layout-default.module */ "./src/app/theme/desktop/layouts/default/layout-default.module.ts");
/* harmony import */ var _theme_desktop_layouts_default_layout_default_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./theme/desktop/layouts/default/layout-default.component */ "./src/app/theme/desktop/layouts/default/layout-default.component.ts");
/* harmony import */ var _guards_private_route_guard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./guards/private-route.guard */ "./src/app/guards/private-route.guard.ts");
/* harmony import */ var _guards_guest_route_guard__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./guards/guest-route.guard */ "./src/app/guards/guest-route.guard.ts");
/* harmony import */ var _route_names__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./route-names */ "./src/app/route-names.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};








var routes = [
    {
        path: _route_names__WEBPACK_IMPORTED_MODULE_7__["RouteNames"].login,
        loadChildren: function () { return Promise.all(/*! import() | pages-login-login-module */[__webpack_require__.e("default~pages-login-login-module~pages-onboarding-onboarding-module~pages-poses-poses-module~pages-r~5bd65dcf"), __webpack_require__.e("default~pages-login-login-module~pages-onboarding-onboarding-module~pages-student-student-module~pag~080fb55e"), __webpack_require__.e("default~pages-login-login-module~pages-student-student-module~pages-teacher-teacher-module"), __webpack_require__.e("common"), __webpack_require__.e("pages-login-login-module")]).then(__webpack_require__.bind(null, /*! ./pages/login/login.module */ "./src/app/pages/login/login.module.ts")).then(function (mod) { return mod.LoginModule; }); },
        canActivate: [_guards_guest_route_guard__WEBPACK_IMPORTED_MODULE_6__["GuestRouteGuard"]]
    },
    {
        path: _route_names__WEBPACK_IMPORTED_MODULE_7__["RouteNames"].signup,
        loadChildren: function () { return Promise.all(/*! import() | pages-sign-up-sign-up-module */[__webpack_require__.e("default~pages-login-login-module~pages-onboarding-onboarding-module~pages-poses-poses-module~pages-r~5bd65dcf"), __webpack_require__.e("default~pages-reset-password-reset-password-module~pages-sign-up-sign-up-module"), __webpack_require__.e("common"), __webpack_require__.e("pages-sign-up-sign-up-module")]).then(__webpack_require__.bind(null, /*! ./pages/sign-up/sign-up.module */ "./src/app/pages/sign-up/sign-up.module.ts")).then(function (mod) { return mod.SignUpModule; }); },
        canActivate: [_guards_guest_route_guard__WEBPACK_IMPORTED_MODULE_6__["GuestRouteGuard"]]
    },
    {
        path: _route_names__WEBPACK_IMPORTED_MODULE_7__["RouteNames"].resetPassword,
        loadChildren: function () { return Promise.all(/*! import() | pages-reset-password-reset-password-module */[__webpack_require__.e("default~pages-login-login-module~pages-onboarding-onboarding-module~pages-poses-poses-module~pages-r~5bd65dcf"), __webpack_require__.e("default~pages-reset-password-reset-password-module~pages-sign-up-sign-up-module"), __webpack_require__.e("common"), __webpack_require__.e("pages-reset-password-reset-password-module")]).then(__webpack_require__.bind(null, /*! ./pages/reset-password/reset-password.module */ "./src/app/pages/reset-password/reset-password.module.ts")).then(function (mod) { return mod.ResetPasswordModule; }); },
        canActivate: [_guards_guest_route_guard__WEBPACK_IMPORTED_MODULE_6__["GuestRouteGuard"]]
    },
    {
        path: '',
        component: _theme_desktop_layouts_default_layout_default_component__WEBPACK_IMPORTED_MODULE_4__["LayoutDefaultComponent"],
        children: [
            {
                path: '',
                loadChildren: function () { return __webpack_require__.e(/*! import() | pages-home-home-module */ "pages-home-home-module").then(__webpack_require__.bind(null, /*! ./pages/home/home.module */ "./src/app/pages/home/home.module.ts")).then(function (mod) { return mod.HomeModule; }); },
                canActivate: [_guards_private_route_guard__WEBPACK_IMPORTED_MODULE_5__["PrivateRouteGuard"]]
            },
            {
                path: _route_names__WEBPACK_IMPORTED_MODULE_7__["RouteNames"].onboarding,
                loadChildren: function () { return Promise.all(/*! import() | pages-onboarding-onboarding-module */[__webpack_require__.e("default~pages-login-login-module~pages-onboarding-onboarding-module~pages-poses-poses-module~pages-r~5bd65dcf"), __webpack_require__.e("default~pages-login-login-module~pages-onboarding-onboarding-module~pages-student-student-module~pag~080fb55e"), __webpack_require__.e("default~pages-onboarding-onboarding-module~pages-student-student-module~pages-teachers-teachers-modu~00bd549d"), __webpack_require__.e("default~pages-onboarding-onboarding-module~pages-teacher-teacher-module"), __webpack_require__.e("common"), __webpack_require__.e("pages-onboarding-onboarding-module")]).then(__webpack_require__.bind(null, /*! ./pages/onboarding/onboarding.module */ "./src/app/pages/onboarding/onboarding.module.ts")).then(function (mod) { return mod.OnBoardingModule; }); },
                canActivate: [_guards_private_route_guard__WEBPACK_IMPORTED_MODULE_5__["PrivateRouteGuard"]]
            },
            {
                path: _route_names__WEBPACK_IMPORTED_MODULE_7__["RouteNames"].notifications,
                loadChildren: function () { return Promise.all(/*! import() | pages-notifications-notifications-module */[__webpack_require__.e("common"), __webpack_require__.e("pages-notifications-notifications-module")]).then(__webpack_require__.bind(null, /*! ./pages/notifications/notifications.module */ "./src/app/pages/notifications/notifications.module.ts")).then(function (mod) { return mod.NotificationsModule; }); },
                canActivate: [_guards_private_route_guard__WEBPACK_IMPORTED_MODULE_5__["PrivateRouteGuard"]]
            },
            {
                path: _route_names__WEBPACK_IMPORTED_MODULE_7__["RouteNames"].account,
                loadChildren: function () { return __webpack_require__.e(/*! import() | pages-account-account-module */ "pages-account-account-module").then(__webpack_require__.bind(null, /*! ./pages/account/account.module */ "./src/app/pages/account/account.module.ts")).then(function (mod) { return mod.AccountModule; }); },
                canActivate: [_guards_private_route_guard__WEBPACK_IMPORTED_MODULE_5__["PrivateRouteGuard"]]
            },
            {
                path: _route_names__WEBPACK_IMPORTED_MODULE_7__["RouteNames"].teachers,
                loadChildren: function () { return Promise.all(/*! import() | pages-teachers-teachers-module */[__webpack_require__.e("default~pages-login-login-module~pages-onboarding-onboarding-module~pages-poses-poses-module~pages-r~5bd65dcf"), __webpack_require__.e("default~pages-login-login-module~pages-onboarding-onboarding-module~pages-student-student-module~pag~080fb55e"), __webpack_require__.e("default~pages-student-student-module~pages-teacher-teacher-module~pages-teachers-teachers-module"), __webpack_require__.e("default~pages-onboarding-onboarding-module~pages-student-student-module~pages-teachers-teachers-modu~00bd549d"), __webpack_require__.e("default~pages-teacher-teacher-module~pages-teachers-teachers-module"), __webpack_require__.e("common"), __webpack_require__.e("pages-teachers-teachers-module")]).then(__webpack_require__.bind(null, /*! ./pages/teachers/teachers.module */ "./src/app/pages/teachers/teachers.module.ts")).then(function (mod) { return mod.TeachersModule; }); }
            },
            {
                path: _route_names__WEBPACK_IMPORTED_MODULE_7__["RouteNames"].student,
                loadChildren: function () { return Promise.all(/*! import() | pages-student-student-module */[__webpack_require__.e("default~pages-login-login-module~pages-onboarding-onboarding-module~pages-poses-poses-module~pages-r~5bd65dcf"), __webpack_require__.e("default~pages-login-login-module~pages-onboarding-onboarding-module~pages-student-student-module~pag~080fb55e"), __webpack_require__.e("default~pages-login-login-module~pages-student-student-module~pages-teacher-teacher-module"), __webpack_require__.e("default~pages-student-student-module~pages-teacher-teacher-module~pages-teachers-teachers-module"), __webpack_require__.e("default~pages-onboarding-onboarding-module~pages-student-student-module~pages-teachers-teachers-modu~00bd549d"), __webpack_require__.e("default~pages-student-student-module~pages-teacher-teacher-module"), __webpack_require__.e("common"), __webpack_require__.e("pages-student-student-module")]).then(__webpack_require__.bind(null, /*! ./pages/student/student.module */ "./src/app/pages/student/student.module.ts")).then(function (mod) { return mod.StudentModule; }); }
            },
            {
                path: _route_names__WEBPACK_IMPORTED_MODULE_7__["RouteNames"].teacher,
                loadChildren: function () { return Promise.all(/*! import() | pages-teacher-teacher-module */[__webpack_require__.e("default~pages-login-login-module~pages-onboarding-onboarding-module~pages-poses-poses-module~pages-r~5bd65dcf"), __webpack_require__.e("default~pages-login-login-module~pages-onboarding-onboarding-module~pages-student-student-module~pag~080fb55e"), __webpack_require__.e("default~pages-login-login-module~pages-student-student-module~pages-teacher-teacher-module"), __webpack_require__.e("default~pages-student-student-module~pages-teacher-teacher-module~pages-teachers-teachers-module"), __webpack_require__.e("default~pages-onboarding-onboarding-module~pages-teacher-teacher-module"), __webpack_require__.e("default~pages-teacher-teacher-module~public-teacher-profile-public-teacher-profile-module"), __webpack_require__.e("default~pages-teacher-teacher-module~pages-teachers-teachers-module"), __webpack_require__.e("default~pages-student-student-module~pages-teacher-teacher-module"), __webpack_require__.e("common"), __webpack_require__.e("pages-teacher-teacher-module")]).then(__webpack_require__.bind(null, /*! ./pages/teacher/teacher.module */ "./src/app/pages/teacher/teacher.module.ts")).then(function (mod) { return mod.TeacherModule; }); }
            },
            {
                path: _route_names__WEBPACK_IMPORTED_MODULE_7__["RouteNames"].poses,
                loadChildren: function () { return Promise.all(/*! import() | pages-poses-poses-module */[__webpack_require__.e("default~pages-login-login-module~pages-onboarding-onboarding-module~pages-poses-poses-module~pages-r~5bd65dcf"), __webpack_require__.e("common"), __webpack_require__.e("pages-poses-poses-module")]).then(__webpack_require__.bind(null, /*! ./pages/poses/poses.module */ "./src/app/pages/poses/poses.module.ts")).then(function (mod) { return mod.PosesModule; }); }
            },
            {
                path: _route_names__WEBPACK_IMPORTED_MODULE_7__["RouteNames"].notFound,
                loadChildren: function () {
                    return __webpack_require__.e(/*! import() | pages-route-not-found-route-not-found-module */ "pages-route-not-found-route-not-found-module").then(__webpack_require__.bind(null, /*! ./pages/route-not-found/route-not-found.module */ "./src/app/pages/route-not-found/route-not-found.module.ts")).then(function (mod) { return mod.RouteNotFoundModule; });
                }
            },
            {
                path: '**',
                redirectTo: _route_names__WEBPACK_IMPORTED_MODULE_7__["RouteNames"].notFound
            }
        ]
    }
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forRoot(routes, {
                    preloadingStrategy: _angular_router__WEBPACK_IMPORTED_MODULE_1__["PreloadAllModules"],
                    scrollPositionRestoration: 'enabled'
                }),
                _angular_flex_layout__WEBPACK_IMPORTED_MODULE_2__["FlexLayoutModule"],
                _theme_desktop_layouts_default_layout_default_module__WEBPACK_IMPORTED_MODULE_3__["LayoutDefaultModule"]
            ],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]],
            declarations: []
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _ngrx_router_store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngrx/router-store */ "./node_modules/@ngrx/router-store/fesm5/router-store.js");
/* harmony import */ var _ngrx_store_devtools__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngrx/store-devtools */ "./node_modules/@ngrx/store-devtools/fesm5/store-devtools.js");
/* harmony import */ var _ngrx_effects__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ngrx/effects */ "./node_modules/@ngrx/effects/fesm5/effects.js");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/flex-layout */ "./node_modules/@angular/flex-layout/esm5/flex-layout.es5.js");
/* harmony import */ var _src_app_app_routing_module__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @src/app/app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _src_app_components_app_app_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @src/app/components/app/app.component */ "./src/app/components/app/app.component.ts");
/* harmony import */ var _src_app_components_spinner_overlay_spinner_overlay_module__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @src/app/components/spinner-overlay/spinner-overlay.module */ "./src/app/components/spinner-overlay/spinner-overlay.module.ts");
/* harmony import */ var _src_app_store_app_reducers__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @src/app/store/app.reducers */ "./src/app/store/app.reducers.ts");
/* harmony import */ var _angular_fire__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/fire */ "./node_modules/@angular/fire/index.js");
/* harmony import */ var ngx_device_detector__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ngx-device-detector */ "./node_modules/ngx-device-detector/fesm5/ngx-device-detector.js");
/* harmony import */ var _src_app_store_app_effects__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @src/app/store/app.effects */ "./src/app/store/app.effects.ts");
/* harmony import */ var _services__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./services */ "./src/app/services/index.ts");
/* harmony import */ var _src_app_interceptors_jwt_token_interceptor__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @src/app/interceptors/jwt-token.interceptor */ "./src/app/interceptors/jwt-token.interceptor.ts");
/* harmony import */ var _src_app_interceptors_http_errors_interceptor__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @src/app/interceptors/http-errors.interceptor */ "./src/app/interceptors/http-errors.interceptor.ts");
/* harmony import */ var _src_app_interceptors_api_mock_interceptor__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @src/app/interceptors/api-mock.interceptor */ "./src/app/interceptors/api-mock.interceptor.ts");
/* harmony import */ var _src_app_guards_private_route_guard__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @src/app/guards/private-route.guard */ "./src/app/guards/private-route.guard.ts");
/* harmony import */ var _src_app_guards_guest_route_guard__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @src/app/guards/guest-route.guard */ "./src/app/guards/guest-route.guard.ts");
/* harmony import */ var _src_environments_environment__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @src/environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _src_app_store_modules_shared_shared_actions__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @src/app/store/modules/shared/shared.actions */ "./src/app/store/modules/shared/shared.actions.ts");
/* harmony import */ var _src_app_components_add_card_button_add_card_button_module__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @src/app/components/add-card-button/add-card-button.module */ "./src/app/components/add-card-button/add-card-button.module.ts");
/* harmony import */ var _services_local_db_dexie_service__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./services/local-db/dexie.service */ "./src/app/services/local-db/dexie.service.ts");
/* harmony import */ var _angular_service_worker__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @angular/service-worker */ "./node_modules/@angular/service-worker/fesm5/service-worker.js");
/* harmony import */ var _services_utils_service__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./services/utils.service */ "./src/app/services/utils.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};





























var AppModule = /** @class */ (function () {
    function AppModule(router, store, utils, spinner) {
        var _this = this;
        this.router = router;
        this.store = store;
        this.utils = utils;
        this.spinner = spinner;
        this.log('INIT APP MODULE');
        this.router.events
            .subscribe(function (event) {
            var snapshot = event.snapshot;
            if (event instanceof _angular_router__WEBPACK_IMPORTED_MODULE_23__["ActivationEnd"]) {
                if (snapshot.data.hasOwnProperty('title')) {
                    _this.log('Dispatching set title: ', snapshot.data.title);
                    _this.store.dispatch(new _src_app_store_modules_shared_shared_actions__WEBPACK_IMPORTED_MODULE_24__["SetTitleSharedAction"](snapshot.data.title));
                }
                if (snapshot.data.hasOwnProperty('goBack')) {
                    _this.log('Dispatching whether we can go back: ', snapshot.data.goBack);
                    _this.store.dispatch(new _src_app_store_modules_shared_shared_actions__WEBPACK_IMPORTED_MODULE_24__["SetCanGoBackSharedAction"](snapshot.data.goBack));
                }
            }
            // if (event instanceof NavigationEnd) {
            //   this.log('spinner NAVIGATION END!');
            //   if (this.timer) {
            //     clearTimeout(this.timer);
            //     this.timer = null;
            //   }
            //   this.timer = setTimeout(() => {
            //     window.scrollTo(0, 0);
            //   }, 100);
            // }
            if (event instanceof _angular_router__WEBPACK_IMPORTED_MODULE_23__["NavigationStart"]) {
                _this.log('spinner NAVIGATION START!');
                _this.log('show spinner');
                _this.spinner.show();
            }
            return;
        });
    }
    AppModule.prototype.log = function (text) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        this.utils.logall(text, this.constructor.name, args);
    };
    AppModule.ctorParameters = function () { return [
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_23__["Router"] },
        { type: _ngrx_store__WEBPACK_IMPORTED_MODULE_4__["Store"] },
        { type: _services_utils_service__WEBPACK_IMPORTED_MODULE_28__["UtilsService"] },
        { type: _services__WEBPACK_IMPORTED_MODULE_16__["SpinnerOverlayService"] }
    ]; };
    AppModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                ngx_device_detector__WEBPACK_IMPORTED_MODULE_14__["DeviceDetectorModule"].forRoot(),
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["BrowserModule"],
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_2__["BrowserAnimationsModule"],
                _angular_fire__WEBPACK_IMPORTED_MODULE_13__["AngularFireModule"].initializeApp(_src_environments_environment__WEBPACK_IMPORTED_MODULE_22__["environment"].firebase),
                _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClientModule"],
                _ngrx_store__WEBPACK_IMPORTED_MODULE_4__["StoreModule"],
                _angular_flex_layout__WEBPACK_IMPORTED_MODULE_8__["FlexLayoutModule"],
                _src_app_app_routing_module__WEBPACK_IMPORTED_MODULE_9__["AppRoutingModule"],
                _src_app_components_spinner_overlay_spinner_overlay_module__WEBPACK_IMPORTED_MODULE_11__["SpinnerOverlayModule"],
                _src_app_components_add_card_button_add_card_button_module__WEBPACK_IMPORTED_MODULE_25__["AddCardButtonModule"],
                _ngrx_store__WEBPACK_IMPORTED_MODULE_4__["StoreModule"].forRoot(_src_app_store_app_reducers__WEBPACK_IMPORTED_MODULE_12__["REDUCER_TOKEN"], {
                    runtimeChecks: {
                        strictStateImmutability: true,
                        strictActionImmutability: true
                    },
                    metaReducers: _src_app_store_app_reducers__WEBPACK_IMPORTED_MODULE_12__["metaReducers"]
                }),
                _ngrx_router_store__WEBPACK_IMPORTED_MODULE_5__["StoreRouterConnectingModule"].forRoot(),
                // register all ngrx effects
                _ngrx_effects__WEBPACK_IMPORTED_MODULE_7__["EffectsModule"].forRoot([
                    _src_app_store_app_effects__WEBPACK_IMPORTED_MODULE_15__["AuthenticationEffects"],
                    _src_app_store_app_effects__WEBPACK_IMPORTED_MODULE_15__["SignUpEffects"],
                    _src_app_store_app_effects__WEBPACK_IMPORTED_MODULE_15__["ForgottenPasswordEffects"],
                    _src_app_store_app_effects__WEBPACK_IMPORTED_MODULE_15__["UserEffects"],
                    _src_app_store_app_effects__WEBPACK_IMPORTED_MODULE_15__["OnboardingEffects"],
                    _src_app_store_app_effects__WEBPACK_IMPORTED_MODULE_15__["TeachersEffects"],
                    _src_app_store_app_effects__WEBPACK_IMPORTED_MODULE_15__["NotificationEffects"],
                    _src_app_store_app_effects__WEBPACK_IMPORTED_MODULE_15__["PosesEffects"],
                    _src_app_store_app_effects__WEBPACK_IMPORTED_MODULE_15__["AudioRecordingEffects"],
                    _src_app_store_app_effects__WEBPACK_IMPORTED_MODULE_15__["RecordingEffects"],
                    _src_app_store_app_effects__WEBPACK_IMPORTED_MODULE_15__["StudentsEffects"],
                    _src_app_store_app_effects__WEBPACK_IMPORTED_MODULE_15__["CardsEffects"],
                    _src_app_store_app_effects__WEBPACK_IMPORTED_MODULE_15__["StripeEffects"]
                ]),
                !_src_environments_environment__WEBPACK_IMPORTED_MODULE_22__["environment"].production ? _ngrx_store_devtools__WEBPACK_IMPORTED_MODULE_6__["StoreDevtoolsModule"].instrument() : [],
                _angular_service_worker__WEBPACK_IMPORTED_MODULE_27__["ServiceWorkerModule"].register('ngsw-worker.js', { enabled: _src_environments_environment__WEBPACK_IMPORTED_MODULE_22__["environment"].production })
            ],
            providers: __spread([
                { provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HTTP_INTERCEPTORS"], useClass: _src_app_interceptors_jwt_token_interceptor__WEBPACK_IMPORTED_MODULE_17__["JwtTokenInterceptor"], multi: true }
            ], (_src_environments_environment__WEBPACK_IMPORTED_MODULE_22__["environment"].mock
                ? {
                    provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HTTP_INTERCEPTORS"],
                    useClass: _src_app_interceptors_api_mock_interceptor__WEBPACK_IMPORTED_MODULE_19__["ApiMockInterceptor"],
                    multi: true
                }
                : []), [
                { provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HTTP_INTERCEPTORS"], useClass: _src_app_interceptors_http_errors_interceptor__WEBPACK_IMPORTED_MODULE_18__["HttpErrorsInterceptor"], multi: true },
                {
                    provide: _src_app_store_app_reducers__WEBPACK_IMPORTED_MODULE_12__["REDUCER_TOKEN"],
                    useValue: _src_app_store_app_reducers__WEBPACK_IMPORTED_MODULE_12__["appReducers"]
                },
                _services__WEBPACK_IMPORTED_MODULE_16__["AuthenticationService"],
                _services__WEBPACK_IMPORTED_MODULE_16__["AuthorizationService"],
                _services__WEBPACK_IMPORTED_MODULE_16__["ErrorsService"],
                _services_local_db_dexie_service__WEBPACK_IMPORTED_MODULE_26__["DexieService"],
                _services__WEBPACK_IMPORTED_MODULE_16__["SpinnerOverlayService"],
                _services__WEBPACK_IMPORTED_MODULE_16__["SignUpService"],
                _services__WEBPACK_IMPORTED_MODULE_16__["ForgottenPasswordService"],
                _services__WEBPACK_IMPORTED_MODULE_16__["OnboardingService"],
                _services__WEBPACK_IMPORTED_MODULE_16__["TeacherService"],
                _services__WEBPACK_IMPORTED_MODULE_16__["UserService"],
                _services__WEBPACK_IMPORTED_MODULE_16__["StripeService"],
                _services__WEBPACK_IMPORTED_MODULE_16__["VideoService"],
                _src_app_guards_private_route_guard__WEBPACK_IMPORTED_MODULE_20__["PrivateRouteGuard"],
                _src_app_guards_guest_route_guard__WEBPACK_IMPORTED_MODULE_21__["GuestRouteGuard"],
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["Title"],
            ]),
            bootstrap: [_src_app_components_app_app_component__WEBPACK_IMPORTED_MODULE_10__["AppComponent"]],
            declarations: [_src_app_components_app_app_component__WEBPACK_IMPORTED_MODULE_10__["AppComponent"]]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_23__["Router"],
            _ngrx_store__WEBPACK_IMPORTED_MODULE_4__["Store"],
            _services_utils_service__WEBPACK_IMPORTED_MODULE_28__["UtilsService"],
            _services__WEBPACK_IMPORTED_MODULE_16__["SpinnerOverlayService"]])
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/components/add-card-button/add-card-button.component.scss":
/*!***************************************************************************!*\
  !*** ./src/app/components/add-card-button/add-card-button.component.scss ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "@import url(\"https://fonts.googleapis.com/icon?family=Material+Icons\");\n#card-errors {\n  margin-top: 10px;\n  color: #f44336; }\n.new-payment-btn {\n  margin-top: 15px; }\nform {\n  margin-top: 40px; }\nform .btn {\n    margin-top: 30px; }\nlabel {\n  display: block;\n  margin-bottom: 10px; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9raHJlYnRvdi9Qcm9qZWN0cy9qb3VybmV5aW50by1mcm9udGVuZC9zcmMvYXBwL3RoZW1lL2NvbW1vbi9zdHlsZXMuY29tbW9uLnNjc3MiLCIvVXNlcnMva2hyZWJ0b3YvUHJvamVjdHMvam91cm5leWludG8tZnJvbnRlbmQvc3JjL2FwcC9jb21wb25lbnRzL2FkZC1jYXJkLWJ1dHRvbi9hZGQtY2FyZC1idXR0b24uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0Esc0VBQVk7QUNEWjtFQUNFLGdCQUFnQjtFQUNoQixjREljLEVBQUE7QUNEaEI7RUFDRSxnQkFBZ0IsRUFBQTtBQUdsQjtFQUNFLGdCQUFnQixFQUFBO0FBRGxCO0lBSUksZ0JBQWdCLEVBQUE7QUFJcEI7RUFDRSxjQUFjO0VBQ2QsbUJBQW1CLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL2FkZC1jYXJkLWJ1dHRvbi9hZGQtY2FyZC1idXR0b24uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbmNsdWRlIHRoZSBjb21tb24gc3R5bGVzIGZvciBBbmd1bGFyIE1hdGVyaWFsLiBXZSBpbmNsdWRlIHRoaXMgaGVyZSBzbyB0aGF0IHlvdSBvbmx5XG4vLyBoYXZlIHRvIGxvYWQgYSBzaW5nbGUgY3NzIGZpbGUgZm9yIEFuZ3VsYXIgTWF0ZXJpYWwgaW4geW91ciBhcHAuXG4vLyAqKkJlIHN1cmUgdGhhdCB5b3Ugb25seSBldmVyIGluY2x1ZGUgdGhpcyBtaXhpbiBvbmNlISoqXG5AaW1wb3J0IHVybChcImh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vaWNvbj9mYW1pbHk9TWF0ZXJpYWwrSWNvbnNcIik7XG5cbi8vIEFwcCBwYWxldHRlXG4kcGFsZXR0ZTogKFxuICB3aGl0ZTogI2ZmZixcbiAgZXJyb3I6ICNmNDQzMzYsXG4gIGNoYXJjb2FsOiAjMzIyQjIzLFxuICBibGFjazogIzMyMkIyMyxcbiAgc2VtaVRyYW5zcGFyZW50OiByZ2JhKDAsIDAsIDAsIDAuMDQpLFxuICAxMDogIzEwMGUwYixcbiAgMjA6ICMzMjJiMjUsXG4gIDMwOiAjY2ZjMmI5LFxuICA0MDogI2FjOWE4YyxcbiAgNTA6ICM4ZTQ5MWQsXG4gIDYwOiAjZWRlM2Q0LFxuICA3MDogI2VkZWRlYixcbiAgODA6ICNmNGVlZTUsXG4gIDkwOiAjZmZmY2ZhLFxuICAxMDA6ICNlOGU4ZTgsXG4gIDExMDogI2E3YTdhNyxcbiAgMTIwOiAjNzg3ODc4LFxuICAxMzA6ICM3MTE2MDksXG4gIDE0MDogIzAwOWU3OSxcbiAgMTUwOiAjMmYyZjJmXG4pO1xuIiwiQGltcG9ydCAnLi4vLi4vdGhlbWUvY29tbW9uL3N0eWxlcy5jb21tb24uc2Nzcyc7XG5cbiNjYXJkLWVycm9ycyB7XG4gIG1hcmdpbi10b3A6IDEwcHg7XG4gIGNvbG9yOiBtYXAtZ2V0KCRwYWxldHRlLCBlcnJvcik7XG59XG5cbi5uZXctcGF5bWVudC1idG4ge1xuICBtYXJnaW4tdG9wOiAxNXB4O1xufVxuXG5mb3JtIHtcbiAgbWFyZ2luLXRvcDogNDBweDtcbiAgXG4gIC5idG4ge1xuICAgIG1hcmdpbi10b3A6IDMwcHg7XG4gIH1cbn1cblxubGFiZWwge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn0iXX0= */"

/***/ }),

/***/ "./src/app/components/add-card-button/add-card-button.component.ts":
/*!*************************************************************************!*\
  !*** ./src/app/components/add-card-button/add-card-button.component.ts ***!
  \*************************************************************************/
/*! exports provided: AddCardButtonComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddCardButtonComponent", function() { return AddCardButtonComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @src/app/store/modules/cards/cards.actions */ "./src/app/store/modules/cards/cards.actions.ts");
/* harmony import */ var _src_environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @src/environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _src_app_store_modules_students_students_actions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @src/app/store/modules/students/students.actions */ "./src/app/store/modules/students/students.actions.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _src_app_services_spinner_overlay_spinner_overlay_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @src/app/services/spinner-overlay/spinner-overlay.service */ "./src/app/services/spinner-overlay/spinner-overlay.service.ts");
/* harmony import */ var _src_app_store_modules_cards_cards_selectors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @src/app/store/modules/cards/cards.selectors */ "./src/app/store/modules/cards/cards.selectors.ts");
/* harmony import */ var _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @src/app/services/api.service.interface */ "./src/app/services/api.service.interface.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _src_app_store_modules_students_students_selectors__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @src/app/store/modules/students/students.selectors */ "./src/app/store/modules/students/students.selectors.ts");
/* harmony import */ var _src_app_store_modules_user_user_actions__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @src/app/store/modules/user/user.actions */ "./src/app/store/modules/user/user.actions.ts");
/* harmony import */ var _src_app_store_modules_user_user_selectors__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @src/app/store/modules/user/user.selectors */ "./src/app/store/modules/user/user.selectors.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
///<reference path="../../../../node_modules/@angular/core/core.d.ts"/>













var publishableApiKey = _src_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].publishableApiKey;
var stripeSettings = {
    style: {
        base: {
            fontSize: '16px',
            color: '#2f2f2f',
            fontFamily: '"Futura Std Light", sans-serif',
            fontWeight: '300',
            '::placeholder': {
                color: '#a7a7a7'
            }
        },
        invalid: {
            color: '#f44336'
        }
    },
    hideIcon: true,
    hidePostalCode: true
};
var AddCardButtonComponent = /** @class */ (function () {
    function AddCardButtonComponent(store, fb, spinnerOverlayService) {
        this.store = store;
        this.fb = fb;
        this.spinnerOverlayService = spinnerOverlayService;
        this.stripeFormShown = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.canSetDefault = false; // This is a fixed property that is just set right here.
        /*
          We are deciding that as a user you can ONLY add new payment methods that will become default.
          So this means that the toAccount form value should always be true.
          We manually set it right before form submit, in case we wanna change this logic in the future.
        */
        this.showStripeForm = false;
        this.stripeError = false;
        this.paymentCardForm = this.fb.group({
            name: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_5__["Validators"].required],
            toAccount: [true] // pre check this, since we are setting the card to be automatically the default card
        });
        this.card = null;
        this.subscriptions = [];
        this.studentStatus$ = this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__["select"])(_src_app_store_modules_students_students_selectors__WEBPACK_IMPORTED_MODULE_10__["selectStudentsStatus"]), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["filter"])(Boolean));
        this.student$ = this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__["select"])(_src_app_store_modules_students_students_selectors__WEBPACK_IMPORTED_MODULE_10__["selectStudentsEntities"]));
        this.cards$ = this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__["select"])(_src_app_store_modules_cards_cards_selectors__WEBPACK_IMPORTED_MODULE_7__["selectCards"]));
        this.cardStatus$ = this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__["select"])(_src_app_store_modules_cards_cards_selectors__WEBPACK_IMPORTED_MODULE_7__["selectCardsStatus"]), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["filter"])(function (status) { return Boolean(status); }));
        this.userStatus$ = this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__["select"])(_src_app_store_modules_user_user_selectors__WEBPACK_IMPORTED_MODULE_12__["selectUserStatus"]), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["filter"])(Boolean));
        this.currentCardCount = null;
        this.cards = [];
        this.cardStatus = null;
        this.hasSubscribed = false;
    }
    AddCardButtonComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.subscriptions.push(this.cards$.subscribe(function (cards) {
            if (cards) {
                if (_this.currentCardCount !== null
                    && _this.currentCardCount !== cards.length) {
                    _this.store.dispatch(new _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_2__["GetUserCardsRequestAction"]());
                }
                _this.cards = cards;
                _this.currentCardCount = cards.length;
            }
        }), this.cardStatus$.subscribe(function (status) {
            _this.cardStatus = status;
            if (status !== _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_8__["RequestStatus"].pending) {
                _this.showStripeForm = false;
                if (!_this.slug) {
                    // showoverlay
                }
            }
            else {
                // hideoverlay
            }
        }), this.studentStatus$.subscribe(function (status) {
            if (status === _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_8__["RequestStatus"].pending) {
                // showoverlay
            }
            else {
                // hideoverlay
            }
            // if (status === RequestStatus.success) {
            //   this.store.dispatch(new GetCurrentUserRequestAction());
            // }
        }), this.student$.subscribe(function (student) {
            if (student && student.object && student.object == 'subscription' && !_this.hasSubscribed) {
                _this.hasSubscribed = true;
                _this.store.dispatch(new _src_app_store_modules_user_user_actions__WEBPACK_IMPORTED_MODULE_11__["GetCurrentUserRequestAction"]());
            }
        }), this.userStatus$.subscribe(function (status) {
            if (status !== _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_8__["RequestStatus"].pending) {
                // hideoverlau
            }
            else {
                // showoverlay
            }
        }));
    };
    AddCardButtonComponent.prototype.toggleFormShown = function () {
        this.showStripeForm = !this.showStripeForm;
        this.stripeFormShown.emit(this.showStripeForm);
    };
    AddCardButtonComponent.prototype.initStripe = function () {
        var _this = this;
        if (Stripe) {
            var stripe_1 = Stripe(publishableApiKey);
            var elements = stripe_1.elements({
                fonts: [{
                        family: 'Futura Std Light',
                        src: "url(" + window.location.origin + "/assets/fonts/futura-std_light.otf)",
                    }]
            });
            var card_1 = elements.create('card', stripeSettings);
            card_1.mount('#card-element');
            card_1.addEventListener('change', function (_a) {
                var error = _a.error;
                _this.handleStripeError(error);
            });
            // Create a token or display an error when the form is submitted.
            var form = document.getElementById('payment-form');
            form.addEventListener('submit', function (event) { return __awaiter(_this, void 0, void 0, function () {
                var newCardToken, subscribeToken;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            event.preventDefault();
                            return [4 /*yield*/, this.getStripeToken(stripe_1, card_1)];
                        case 1:
                            newCardToken = _a.sent();
                            if (newCardToken) {
                                this.addUserCard(newCardToken);
                            }
                            if (!this.slug) return [3 /*break*/, 4];
                            if (!this.recording) return [3 /*break*/, 2];
                            this.buyClass();
                            return [3 /*break*/, 4];
                        case 2: return [4 /*yield*/, this.getStripeToken(stripe_1, card_1)];
                        case 3:
                            subscribeToken = _a.sent();
                            if (subscribeToken) {
                                this.subscribeToTeacher(subscribeToken);
                            }
                            _a.label = 4;
                        case 4:
                            this.toggleFormShown();
                            this.paymentCardForm.reset();
                            card_1.clear();
                            return [2 /*return*/];
                    }
                });
            }); });
            this.card = card_1;
        }
    };
    AddCardButtonComponent.prototype.getStripeToken = function (stripe, card) {
        return __awaiter(this, void 0, void 0, function () {
            var name, _a, token, error;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        name = this.paymentCardForm.value.name;
                        return [4 /*yield*/, stripe.createToken(card, { name: name })];
                    case 1:
                        _a = _b.sent(), token = _a.token, error = _a.error;
                        this.handleStripeError(error);
                        if (error) {
                            return [2 /*return*/, false];
                        }
                        return [2 /*return*/, token.id];
                }
            });
        });
    };
    AddCardButtonComponent.prototype.handleStripeError = function (error) {
        var displayError = document.getElementById('card-errors');
        if (error) {
            displayError.textContent = error.message;
            this.stripeError = true;
        }
        else {
            this.stripeError = false;
            displayError.textContent = '';
        }
    };
    AddCardButtonComponent.prototype.subscribeToTeacher = function (token) {
        if (this.slug) {
            this.spinnerOverlayService.show();
            this.store.dispatch(new _src_app_store_modules_students_students_actions__WEBPACK_IMPORTED_MODULE_4__["SubscribeToTeacherRequestAction"]({ token: token, teacher_slug: this.slug }));
        }
    };
    AddCardButtonComponent.prototype.buyClass = function () {
        if (this.slug && this.recording) {
            this.store.dispatch(new _src_app_store_modules_students_students_actions__WEBPACK_IMPORTED_MODULE_4__["PurchaseTeacherClassRequestAction"]({
                teacher_slug: this.slug,
                recording_id: this.recording.id
            }));
        }
    };
    AddCardButtonComponent.prototype.addUserCard = function (token) {
        var toAccount = this.paymentCardForm.value.toAccount;
        var accountMark = Number(toAccount);
        this.store.dispatch(new _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_2__["SendStripeTokenRequestAction"]({ token: token, accountMark: accountMark }));
    };
    AddCardButtonComponent.prototype.ngAfterViewInit = function () {
        this.initStripe();
    };
    AddCardButtonComponent.prototype.ngOnDestroy = function () {
        this.subscriptions.forEach(function (subscription) { return subscription.unsubscribe(); });
    };
    AddCardButtonComponent.ctorParameters = function () { return [
        { type: _ngrx_store__WEBPACK_IMPORTED_MODULE_1__["Store"] },
        { type: _angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormBuilder"] },
        { type: _src_app_services_spinner_overlay_spinner_overlay_service__WEBPACK_IMPORTED_MODULE_6__["SpinnerOverlayService"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], AddCardButtonComponent.prototype, "recording", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], AddCardButtonComponent.prototype, "slug", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], AddCardButtonComponent.prototype, "stripeFormShown", void 0);
    AddCardButtonComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-card-button',
            template: __webpack_require__(/*! raw-loader!./add-card-button.component.html */ "./node_modules/raw-loader/index.js!./src/app/components/add-card-button/add-card-button.component.html"),
            styles: [__webpack_require__(/*! ./add-card-button.component.scss */ "./src/app/components/add-card-button/add-card-button.component.scss")]
        }),
        __metadata("design:paramtypes", [_ngrx_store__WEBPACK_IMPORTED_MODULE_1__["Store"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormBuilder"],
            _src_app_services_spinner_overlay_spinner_overlay_service__WEBPACK_IMPORTED_MODULE_6__["SpinnerOverlayService"]])
    ], AddCardButtonComponent);
    return AddCardButtonComponent;
}());



/***/ }),

/***/ "./src/app/components/add-card-button/add-card-button.module.ts":
/*!**********************************************************************!*\
  !*** ./src/app/components/add-card-button/add-card-button.module.ts ***!
  \**********************************************************************/
/*! exports provided: AddCardButtonModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddCardButtonModule", function() { return AddCardButtonModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/checkbox */ "./node_modules/@angular/material/esm5/checkbox.es5.js");
/* harmony import */ var _src_app_components_add_card_button_add_card_button_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @src/app/components/add-card-button/add-card-button.component */ "./src/app/components/add-card-button/add-card-button.component.ts");
/* harmony import */ var _forms_ji_forms_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../forms/ji-forms.module */ "./src/app/components/forms/ji-forms.module.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};








var AddCardButtonModule = /** @class */ (function () {
    function AddCardButtonModule() {
    }
    AddCardButtonModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_3__["MatButtonModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_3__["MatRippleModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_4__["ReactiveFormsModule"],
                _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_5__["MatCheckboxModule"],
                _forms_ji_forms_module__WEBPACK_IMPORTED_MODULE_7__["JiFormsModule"]
            ],
            providers: [],
            bootstrap: [],
            declarations: [_src_app_components_add_card_button_add_card_button_component__WEBPACK_IMPORTED_MODULE_6__["AddCardButtonComponent"]],
            exports: [_src_app_components_add_card_button_add_card_button_component__WEBPACK_IMPORTED_MODULE_6__["AddCardButtonComponent"]]
        })
    ], AddCardButtonModule);
    return AddCardButtonModule;
}());



/***/ }),

/***/ "./src/app/components/app/app.component.ts":
/*!*************************************************!*\
  !*** ./src/app/components/app/app.component.ts ***!
  \*************************************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _src_app_services_authorization_authorization_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @src/app/services/authorization/authorization.service */ "./src/app/services/authorization/authorization.service.ts");
/* harmony import */ var _src_app_store_modules_user_user_actions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @src/app/store/modules/user/user.actions */ "./src/app/store/modules/user/user.actions.ts");
/* harmony import */ var _src_app_services_authentication_authentication_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @src/app/services/authentication/authentication.service */ "./src/app/services/authentication/authentication.service.ts");
/* harmony import */ var _src_app_store_modules_offline_detection_offline_detection_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @src/app/store/modules/offline-detection/offline-detection.actions */ "./src/app/store/modules/offline-detection/offline-detection.actions.ts");
/* harmony import */ var _src_app_store_modules_user_user_selectors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @src/app/store/modules/user/user.selectors */ "./src/app/store/modules/user/user.selectors.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _src_app_store_modules_teachers_teachers_actions__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @src/app/store/modules/teachers/teachers.actions */ "./src/app/store/modules/teachers/teachers.actions.ts");
/* harmony import */ var _src_app_store_modules_user_user_types__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @src/app/store/modules/user/user.types */ "./src/app/store/modules/user/user.types.ts");
/* harmony import */ var _src_app_route_names__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @src/app/route-names */ "./src/app/route-names.ts");
/* harmony import */ var _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @src/app/services/api.service.interface */ "./src/app/services/api.service.interface.ts");
/* harmony import */ var _src_app_store_modules_teachers_teachers_selectors__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @src/app/store/modules/teachers/teachers.selectors */ "./src/app/store/modules/teachers/teachers.selectors.ts");
/* harmony import */ var _services__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../services */ "./src/app/services/index.ts");
/* harmony import */ var _src_app_store_modules_recording_recording_selectors__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @src/app/store/modules/recording/recording.selectors */ "./src/app/store/modules/recording/recording.selectors.ts");
/* harmony import */ var _src_app_store_modules_recording_recording_actions__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @src/app/store/modules/recording/recording.actions */ "./src/app/store/modules/recording/recording.actions.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


















var AppComponent = /** @class */ (function () {
    function AppComponent(authorizationService, authenticationService, store, route, router, spinner, audioRecordingService) {
        this.authorizationService = authorizationService;
        this.authenticationService = authenticationService;
        this.store = store;
        this.route = route;
        this.router = router;
        this.spinner = spinner;
        this.audioRecordingService = audioRecordingService;
        this.subscriptions = [];
        this.user$ = this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__["select"])(_src_app_store_modules_user_user_selectors__WEBPACK_IMPORTED_MODULE_6__["selectUserActive"]));
        this.teacherStatus$ = this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__["select"])(_src_app_store_modules_teachers_teachers_selectors__WEBPACK_IMPORTED_MODULE_14__["selectTeachersStatus"]), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["filter"])(function (status) { return Boolean(status) && status === _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_13__["RequestStatus"].success; }));
        this.recordings$ = this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__["select"])(_src_app_store_modules_recording_recording_selectors__WEBPACK_IMPORTED_MODULE_16__["selectRecordingEntities"]), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["filter"])(function (recordings) { return Boolean(recordings); }));
        this.redirectHome = new rxjs__WEBPACK_IMPORTED_MODULE_8__["BehaviorSubject"](false);
        this.hasCode = false;
    }
    AppComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.subscriptions.push(this.router.events.subscribe(function (evt) {
            if (!(evt instanceof _angular_router__WEBPACK_IMPORTED_MODULE_9__["NavigationEnd"])) {
                return;
            }
            window.scrollTo(0, 0);
        }), this.user$
            .subscribe(function (user) {
            if (user == null) {
                _this.user = user;
            }
            if (user
                && !_this.user) {
                _this.getTeacherRecordings(user);
                _this.user = user;
                _this.checkOnboardingUserStatus(user);
            }
            // in case the status changes
            if (user
                && _this.user
                && user.view_status !== _this.user.view_status) {
                _this.getTeacherRecordings(user);
                _this.user = user;
            }
            if (_this.hasCode) {
                _this.hasCode = false;
                _this.router.navigate(['/']);
            }
        }), this.teacherStatus$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["takeUntil"])(this.redirectHome))
            .subscribe(function (status) {
            if (_this.redirectHome.value) {
                _this.router.navigate(['/', _src_app_route_names__WEBPACK_IMPORTED_MODULE_12__["RouteNames"].teacher], {
                    state: {
                        data: {
                            profileCompleted: true
                        }
                    }
                });
            }
        }));
        this.doTokens();
        // Bootstrap application
        this.bootstrap();
        this.addListeners();
        // this.recordingStateService.initSubscribeExecuteUpload();
        // this.recordingStateService.initSubscribeCompletedRecordingUpload();
    };
    AppComponent.prototype.ngOnDestroy = function () {
        this.subscriptions.forEach(function (s) { return s.unsubscribe(); });
    };
    /**
     * Bootstrap application
     */
    AppComponent.prototype.bootstrap = function () {
        // If user has authorization token, try to load current user profile
        if (this.authorizationService.isAuthenticated()) {
            this.store.dispatch(new _src_app_store_modules_user_user_actions__WEBPACK_IMPORTED_MODULE_3__["GetCurrentUserRequestAction"]());
        }
    };
    AppComponent.prototype.doTokens = function () {
        var _this = this;
        if (this.authorizationService.getRefreshToken() &&
            this.authorizationService.getAccessToken() &&
            this.authorizationService.isTokenExpired()) {
            this.authenticationService.refreshToken().subscribe(function (_a) {
                var access = _a.access;
                if (access) {
                    _this.authorizationService.setAccessToken(access);
                }
            });
        }
    };
    AppComponent.prototype.addListeners = function () {
        var _this = this;
        window.addEventListener('online', function () {
            _this.store.dispatch(new _src_app_store_modules_offline_detection_offline_detection_actions__WEBPACK_IMPORTED_MODULE_5__["SetIsOnlineAction"](true));
        }, false);
        window.addEventListener('offline', function () {
            _this.store.dispatch(new _src_app_store_modules_offline_detection_offline_detection_actions__WEBPACK_IMPORTED_MODULE_5__["SetIsOnlineAction"](false));
        }, false);
    };
    AppComponent.prototype.checkOnboardingUserStatus = function (user) {
        var _this = this;
        if (this.timeout) {
            clearTimeout(this.timeout);
        }
        this.timeout = setTimeout(function () {
            _this.route.queryParams.subscribe(function (params) {
                if (Object.keys(params).length > 0 && user.view_status === _src_app_store_modules_user_user_types__WEBPACK_IMPORTED_MODULE_11__["ViewStatuses"].TEACHER) {
                    // if there is not a code param and the creator has a stripe link
                    if (params.code) {
                        _this.hasCode = true;
                        _this.spinner.show();
                        if (!user.creator.stripe_user_id) {
                            // here I wanna send a post request to the backend to save the stripe ID
                            var payload_1 = new FormData();
                            payload_1.append('code', params.code);
                            _this.redirectHome.next(true);
                            _this.store.dispatch(new _src_app_store_modules_teachers_teachers_actions__WEBPACK_IMPORTED_MODULE_10__["UpdateTeacherRequestAction"](payload_1));
                            setTimeout(function () {
                                _this.store.dispatch(new _src_app_store_modules_user_user_actions__WEBPACK_IMPORTED_MODULE_3__["GetCurrentUserRequestAction"](payload_1));
                            }, 500);
                        }
                        else {
                            _this.router.navigate(['/']);
                        }
                    }
                }
            });
        }, 100);
    };
    AppComponent.prototype.getTeacherRecordings = function (user) {
        if (user.view_status === _src_app_store_modules_user_user_types__WEBPACK_IMPORTED_MODULE_11__["ViewStatuses"].TEACHER) {
            this.store.dispatch(new _src_app_store_modules_recording_recording_actions__WEBPACK_IMPORTED_MODULE_17__["GetRecordingsListRequestAction"]());
        }
    };
    AppComponent.ctorParameters = function () { return [
        { type: _src_app_services_authorization_authorization_service__WEBPACK_IMPORTED_MODULE_2__["AuthorizationService"] },
        { type: _src_app_services_authentication_authentication_service__WEBPACK_IMPORTED_MODULE_4__["AuthenticationService"] },
        { type: _ngrx_store__WEBPACK_IMPORTED_MODULE_1__["Store"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_9__["ActivatedRoute"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_9__["Router"] },
        { type: _services__WEBPACK_IMPORTED_MODULE_15__["SpinnerOverlayService"] },
        { type: _services__WEBPACK_IMPORTED_MODULE_15__["AudioRecordingService"] }
    ]; };
    AppComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! raw-loader!./app.component.html */ "./node_modules/raw-loader/index.js!./src/app/components/app/app.component.html")
        }),
        __metadata("design:paramtypes", [_src_app_services_authorization_authorization_service__WEBPACK_IMPORTED_MODULE_2__["AuthorizationService"],
            _src_app_services_authentication_authentication_service__WEBPACK_IMPORTED_MODULE_4__["AuthenticationService"],
            _ngrx_store__WEBPACK_IMPORTED_MODULE_1__["Store"],
            _angular_router__WEBPACK_IMPORTED_MODULE_9__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_9__["Router"],
            _services__WEBPACK_IMPORTED_MODULE_15__["SpinnerOverlayService"],
            _services__WEBPACK_IMPORTED_MODULE_15__["AudioRecordingService"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/components/forms/ji-checkbox/ji-checkbox.component.scss":
/*!*************************************************************************!*\
  !*** ./src/app/components/forms/ji-checkbox/ji-checkbox.component.scss ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "@import url(\"https://fonts.googleapis.com/icon?family=Material+Icons\");\nfieldset {\n  margin-top: 30px; }\nfieldset p {\n    margin-bottom: 0;\n    margin-top: 20px;\n    color: #f44336; }\nfieldset ::ng-deep .mat-checkbox {\n  display: flex; }\nfieldset ::ng-deep .mat-checkbox .mat-checkbox-layout {\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    white-space: normal; }\nfieldset ::ng-deep .mat-checkbox .mat-checkbox-label {\n    color: #322B23;\n    font-family: 'Futura Std Light', serif;\n    font-size: 16px;\n    font-weight: 300;\n    letter-spacing: 0.44px;\n    line-height: 28px;\n    margin-left: 6px; }\nfieldset ::ng-deep .mat-checkbox .mat-checkbox-inner-container {\n    display: inline-block;\n    height: 28px;\n    line-height: 0;\n    margin-right: 8px;\n    order: 0;\n    position: relative;\n    vertical-align: middle;\n    white-space: nowrap;\n    width: 28px;\n    flex-shrink: 0; }\nfieldset ::ng-deep .mat-checkbox .mat-checkbox-frame {\n    border-radius: 6px;\n    border: 1px solid #e8e8e8;\n    background-color: #fff; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9raHJlYnRvdi9Qcm9qZWN0cy9qb3VybmV5aW50by1mcm9udGVuZC9zcmMvYXBwL3RoZW1lL2NvbW1vbi9zdHlsZXMuY29tbW9uLnNjc3MiLCIvVXNlcnMva2hyZWJ0b3YvUHJvamVjdHMvam91cm5leWludG8tZnJvbnRlbmQvc3JjL2FwcC9jb21wb25lbnRzL2Zvcm1zL2ppLWNoZWNrYm94L2ppLWNoZWNrYm94LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBLHNFQUFZO0FDRFo7RUFDRSxnQkFBZ0IsRUFBQTtBQURsQjtJQUlJLGdCQUFnQjtJQUNoQixnQkFBZ0I7SUFDaEIsY0RBWSxFQUFBO0FDS2hCO0VBQ0UsYUFBYSxFQUFBO0FBRGY7SUFJSSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLDJCQUEyQjtJQUMzQixtQkFBbUIsRUFBQTtBQVB2QjtJQVdJLGNEZFk7SUNlWixzQ0FBc0M7SUFDdEMsZUFBZTtJQUNmLGdCQUFnQjtJQUNoQixzQkFBc0I7SUFDdEIsaUJBQWlCO0lBQ2pCLGdCQUFnQixFQUFBO0FBakJwQjtJQXFCSSxxQkFBcUI7SUFDckIsWUFBWTtJQUNaLGNBQWM7SUFFZCxpQkFBaUI7SUFDakIsUUFBUTtJQUNSLGtCQUFrQjtJQUNsQixzQkFBc0I7SUFDdEIsbUJBQW1CO0lBQ25CLFdBQVc7SUFDWCxjQUFjLEVBQUE7QUEvQmxCO0lBbUNJLGtCQUFrQjtJQUNsQix5QkQ1QlU7SUM2QlYsc0JEM0NTLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL2Zvcm1zL2ppLWNoZWNrYm94L2ppLWNoZWNrYm94LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gSW5jbHVkZSB0aGUgY29tbW9uIHN0eWxlcyBmb3IgQW5ndWxhciBNYXRlcmlhbC4gV2UgaW5jbHVkZSB0aGlzIGhlcmUgc28gdGhhdCB5b3Ugb25seVxuLy8gaGF2ZSB0byBsb2FkIGEgc2luZ2xlIGNzcyBmaWxlIGZvciBBbmd1bGFyIE1hdGVyaWFsIGluIHlvdXIgYXBwLlxuLy8gKipCZSBzdXJlIHRoYXQgeW91IG9ubHkgZXZlciBpbmNsdWRlIHRoaXMgbWl4aW4gb25jZSEqKlxuQGltcG9ydCB1cmwoXCJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2ljb24/ZmFtaWx5PU1hdGVyaWFsK0ljb25zXCIpO1xuXG4vLyBBcHAgcGFsZXR0ZVxuJHBhbGV0dGU6IChcbiAgd2hpdGU6ICNmZmYsXG4gIGVycm9yOiAjZjQ0MzM2LFxuICBjaGFyY29hbDogIzMyMkIyMyxcbiAgYmxhY2s6ICMzMjJCMjMsXG4gIHNlbWlUcmFuc3BhcmVudDogcmdiYSgwLCAwLCAwLCAwLjA0KSxcbiAgMTA6ICMxMDBlMGIsXG4gIDIwOiAjMzIyYjI1LFxuICAzMDogI2NmYzJiOSxcbiAgNDA6ICNhYzlhOGMsXG4gIDUwOiAjOGU0OTFkLFxuICA2MDogI2VkZTNkNCxcbiAgNzA6ICNlZGVkZWIsXG4gIDgwOiAjZjRlZWU1LFxuICA5MDogI2ZmZmNmYSxcbiAgMTAwOiAjZThlOGU4LFxuICAxMTA6ICNhN2E3YTcsXG4gIDEyMDogIzc4Nzg3OCxcbiAgMTMwOiAjNzExNjA5LFxuICAxNDA6ICMwMDllNzksXG4gIDE1MDogIzJmMmYyZlxuKTtcbiIsIkBpbXBvcnQgJy4uLy4uLy4uL3RoZW1lL2NvbW1vbi9zdHlsZXMuY29tbW9uLnNjc3MnO1xuXG5maWVsZHNldCB7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG5cbiAgcCB7XG4gICAgbWFyZ2luLWJvdHRvbTogMDtcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgIGNvbG9yOiBtYXAtZ2V0KCRwYWxldHRlLCBlcnJvcik7XG4gIH1cbn1cblxuLy8gQ2hlY2tib3hcbmZpZWxkc2V0IDo6bmctZGVlcCAubWF0LWNoZWNrYm94IHtcbiAgZGlzcGxheTogZmxleDtcblxuICAubWF0LWNoZWNrYm94LWxheW91dCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbiAgICB3aGl0ZS1zcGFjZTogbm9ybWFsO1xuICB9XG5cbiAgLm1hdC1jaGVja2JveC1sYWJlbCB7XG4gICAgY29sb3I6IG1hcC1nZXQoJHBhbGV0dGUsIGJsYWNrKTtcbiAgICBmb250LWZhbWlseTogJ0Z1dHVyYSBTdGQgTGlnaHQnLCBzZXJpZjtcbiAgICBmb250LXNpemU6IDE2cHg7XG4gICAgZm9udC13ZWlnaHQ6IDMwMDtcbiAgICBsZXR0ZXItc3BhY2luZzogMC40NHB4O1xuICAgIGxpbmUtaGVpZ2h0OiAyOHB4O1xuICAgIG1hcmdpbi1sZWZ0OiA2cHg7XG4gIH1cblxuICAubWF0LWNoZWNrYm94LWlubmVyLWNvbnRhaW5lciB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIGhlaWdodDogMjhweDtcbiAgICBsaW5lLWhlaWdodDogMDtcbiAgICAvLyBtYXJnaW46IGF1dG87XG4gICAgbWFyZ2luLXJpZ2h0OiA4cHg7XG4gICAgb3JkZXI6IDA7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICB3aWR0aDogMjhweDtcbiAgICBmbGV4LXNocmluazogMDtcbiAgfVxuXG4gIC5tYXQtY2hlY2tib3gtZnJhbWUge1xuICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCBtYXAtZ2V0KCRwYWxldHRlLCAxMDApO1xuICAgIGJhY2tncm91bmQtY29sb3I6IG1hcC1nZXQoJHBhbGV0dGUsIHdoaXRlKTtcbiAgfVxufSJdfQ== */"

/***/ }),

/***/ "./src/app/components/forms/ji-checkbox/ji-checkbox.component.ts":
/*!***********************************************************************!*\
  !*** ./src/app/components/forms/ji-checkbox/ji-checkbox.component.ts ***!
  \***********************************************************************/
/*! exports provided: JiCheckboxComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JiCheckboxComponent", function() { return JiCheckboxComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var JiCheckboxComponent = /** @class */ (function () {
    function JiCheckboxComponent() {
    }
    JiCheckboxComponent.prototype.ngOnInit = function () {
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], JiCheckboxComponent.prototype, "parentForm", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], JiCheckboxComponent.prototype, "name", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], JiCheckboxComponent.prototype, "hasError", void 0);
    JiCheckboxComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-ji-checkbox',
            template: __webpack_require__(/*! raw-loader!./ji-checkbox.component.html */ "./node_modules/raw-loader/index.js!./src/app/components/forms/ji-checkbox/ji-checkbox.component.html"),
            styles: [__webpack_require__(/*! ./ji-checkbox.component.scss */ "./src/app/components/forms/ji-checkbox/ji-checkbox.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], JiCheckboxComponent);
    return JiCheckboxComponent;
}());



/***/ }),

/***/ "./src/app/components/forms/ji-forms.module.ts":
/*!*****************************************************!*\
  !*** ./src/app/components/forms/ji-forms.module.ts ***!
  \*****************************************************/
/*! exports provided: JiFormsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JiFormsModule", function() { return JiFormsModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _ji_input_ji_input_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ji-input/ji-input.component */ "./src/app/components/forms/ji-input/ji-input.component.ts");
/* harmony import */ var _ji_checkbox_ji_checkbox_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ji-checkbox/ji-checkbox.component */ "./src/app/components/forms/ji-checkbox/ji-checkbox.component.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var JiFormsModule = /** @class */ (function () {
    function JiFormsModule() {
    }
    JiFormsModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormsModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_6__["RouterModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_4__["ReactiveFormsModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_5__["MatCheckboxModule"]
            ],
            providers: [],
            bootstrap: [],
            declarations: [
                _ji_input_ji_input_component__WEBPACK_IMPORTED_MODULE_2__["JiInputComponent"],
                _ji_checkbox_ji_checkbox_component__WEBPACK_IMPORTED_MODULE_3__["JiCheckboxComponent"],
            ],
            exports: [
                _ji_input_ji_input_component__WEBPACK_IMPORTED_MODULE_2__["JiInputComponent"],
                _ji_checkbox_ji_checkbox_component__WEBPACK_IMPORTED_MODULE_3__["JiCheckboxComponent"]
            ]
        })
    ], JiFormsModule);
    return JiFormsModule;
}());



/***/ }),

/***/ "./src/app/components/forms/ji-input/ji-input.component.scss":
/*!*******************************************************************!*\
  !*** ./src/app/components/forms/ji-input/ji-input.component.scss ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "@import url(\"https://fonts.googleapis.com/icon?family=Material+Icons\");\n.form-input {\n  text-align: left; }\nlabel {\n  display: block;\n  margin-bottom: 10px; }\n.input-container {\n  position: relative;\n  display: block;\n  overflow: hidden;\n  border-radius: 6px;\n  border: solid 1px #e8e8e8; }\n.input-container:before, .input-container:after {\n    content: '';\n    position: absolute;\n    display: block;\n    display: none;\n    left: 0;\n    width: 100%;\n    height: 3px; }\n.input-container.ji-error:before {\n    display: block;\n    bottom: 0;\n    background-color: #f44336; }\n.input-container input,\n  .input-container textarea,\n  .input-container select {\n    display: block;\n    width: 100%;\n    padding: 14px 20px 14px 20px;\n    border: none;\n    color: #322B23; }\n.input-container input:-internal-autofill-selected {\n    color: #a7a7a7 !important;\n    background-color: transparent !important;\n    background-image: none !important; }\ntextarea {\n  resize: vertical; }\nselect {\n  background-image: url(/assets/img/select_dropdown_arrow_icon.svg);\n  background-repeat: no-repeat;\n  background-position: right 0.7em top 50%, 0 0;\n  background-color: #fff; }\nselect.placeholder {\n  color: #a7a7a7 !important; }\ninput:-ms-input-placeholder,\ninput::-webkit-input-placeholder {\n  color: #a7a7a7; }\n.input-error p {\n  margin-bottom: 0;\n  color: #f44336; }\n.explainer-text {\n  margin-top: 10px; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9raHJlYnRvdi9Qcm9qZWN0cy9qb3VybmV5aW50by1mcm9udGVuZC9zcmMvYXBwL3RoZW1lL2NvbW1vbi9zdHlsZXMuY29tbW9uLnNjc3MiLCIvVXNlcnMva2hyZWJ0b3YvUHJvamVjdHMvam91cm5leWludG8tZnJvbnRlbmQvc3JjL2FwcC9jb21wb25lbnRzL2Zvcm1zL2ppLWlucHV0L2ppLWlucHV0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBLHNFQUFZO0FDRFo7RUFDSSxnQkFBZ0IsRUFBQTtBQUdwQjtFQUNJLGNBQWM7RUFDZCxtQkFBbUIsRUFBQTtBQUd2QjtFQUNJLGtCQUFrQjtFQUNsQixjQUFjO0VBQ2QsZ0JBQWdCO0VBQ2hCLGtCQUFrQjtFQUNsQix5QkRLVSxFQUFBO0FDVmQ7SUFTUSxXQUFXO0lBQ1gsa0JBQWtCO0lBQ2xCLGNBQWM7SUFDZCxhQUFhO0lBQ2IsT0FBTztJQUNQLFdBQVc7SUFDWCxXQUFXLEVBQUE7QUFmbkI7SUEyQlksY0FBYztJQUNkLFNBQVM7SUFDVCx5QkRoQ0ksRUFBQTtBQ0doQjs7O0lBb0NRLGNBQWM7SUFDZCxXQUFXO0lBRVgsNEJBQTRCO0lBRTVCLFlBQVk7SUFDWixjRDNDUSxFQUFBO0FDQ2hCO0lBOENRLHlCQUF1QztJQUN2Qyx3Q0FBdUM7SUFDdkMsaUNBQWdDLEVBQUE7QUFJeEM7RUFDSSxnQkFBZ0IsRUFBQTtBQUdwQjtFQUNJLGlFQUFpRTtFQUNqRSw0QkFBNEI7RUFDNUIsNkNBQTZDO0VBQzdDLHNCRGhFUyxFQUFBO0FDbUViO0VBQ0kseUJBQXVDLEVBQUE7QUFHM0M7O0VBRUksY0QxRFUsRUFBQTtBQzZEZDtFQUVRLGdCQUFnQjtFQUNoQixjRDlFUSxFQUFBO0FDa0ZoQjtFQUNJLGdCQUFnQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9mb3Jtcy9qaS1pbnB1dC9qaS1pbnB1dC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEluY2x1ZGUgdGhlIGNvbW1vbiBzdHlsZXMgZm9yIEFuZ3VsYXIgTWF0ZXJpYWwuIFdlIGluY2x1ZGUgdGhpcyBoZXJlIHNvIHRoYXQgeW91IG9ubHlcbi8vIGhhdmUgdG8gbG9hZCBhIHNpbmdsZSBjc3MgZmlsZSBmb3IgQW5ndWxhciBNYXRlcmlhbCBpbiB5b3VyIGFwcC5cbi8vICoqQmUgc3VyZSB0aGF0IHlvdSBvbmx5IGV2ZXIgaW5jbHVkZSB0aGlzIG1peGluIG9uY2UhKipcbkBpbXBvcnQgdXJsKFwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9pY29uP2ZhbWlseT1NYXRlcmlhbCtJY29uc1wiKTtcblxuLy8gQXBwIHBhbGV0dGVcbiRwYWxldHRlOiAoXG4gIHdoaXRlOiAjZmZmLFxuICBlcnJvcjogI2Y0NDMzNixcbiAgY2hhcmNvYWw6ICMzMjJCMjMsXG4gIGJsYWNrOiAjMzIyQjIzLFxuICBzZW1pVHJhbnNwYXJlbnQ6IHJnYmEoMCwgMCwgMCwgMC4wNCksXG4gIDEwOiAjMTAwZTBiLFxuICAyMDogIzMyMmIyNSxcbiAgMzA6ICNjZmMyYjksXG4gIDQwOiAjYWM5YThjLFxuICA1MDogIzhlNDkxZCxcbiAgNjA6ICNlZGUzZDQsXG4gIDcwOiAjZWRlZGViLFxuICA4MDogI2Y0ZWVlNSxcbiAgOTA6ICNmZmZjZmEsXG4gIDEwMDogI2U4ZThlOCxcbiAgMTEwOiAjYTdhN2E3LFxuICAxMjA6ICM3ODc4NzgsXG4gIDEzMDogIzcxMTYwOSxcbiAgMTQwOiAjMDA5ZTc5LFxuICAxNTA6ICMyZjJmMmZcbik7XG4iLCJAaW1wb3J0ICcuLi8uLi8uLi90aGVtZS9jb21tb24vc3R5bGVzLmNvbW1vbi5zY3NzJztcblxuLmZvcm0taW5wdXQge1xuICAgIHRleHQtYWxpZ246IGxlZnQ7XG59XG5cbmxhYmVsIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuXG4uaW5wdXQtY29udGFpbmVyIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgYm9yZGVyOiBzb2xpZCAxcHggbWFwLWdldCgkcGFsZXR0ZSwgMTAwKTtcblxuICAgICY6YmVmb3JlLFxuICAgICY6YWZ0ZXIge1xuICAgICAgICBjb250ZW50OiAnJztcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogM3B4O1xuICAgIH1cblxuICAgIC8vICYuamktdmFsaWQge1xuICAgIC8vICAgICAmOmFmdGVyIHtcbiAgICAvLyAgICAgICAgIHRvcDogMDtcbiAgICAvLyAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IG1hcC1nZXQoJHBhbGV0dGUsIGJsYWNrKTtcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgICYuamktZXJyb3Ige1xuICAgICAgICAmOmJlZm9yZSB7XG4gICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IG1hcC1nZXQoJHBhbGV0dGUsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlucHV0LFxuICAgIHRleHRhcmVhLFxuICAgIHNlbGVjdCB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgXG4gICAgICAgIHBhZGRpbmc6IDE0cHggMjBweCAxNHB4IDIwcHg7XG4gICAgICAgIFxuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgIGNvbG9yOiBtYXAtZ2V0KCRwYWxldHRlLCBibGFjayk7XG4gICAgfVxuXG4gICAgaW5wdXQ6LWludGVybmFsLWF1dG9maWxsLXNlbGVjdGVkIHtcbiAgICAgICAgY29sb3I6IG1hcC1nZXQoJHBhbGV0dGUsIDExMCkhaW1wb3J0YW50O1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudCFpbXBvcnRhbnQ7XG4gICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IG5vbmUhaW1wb3J0YW50O1xuICAgIH1cbn1cblxudGV4dGFyZWEge1xuICAgIHJlc2l6ZTogdmVydGljYWw7XG59XG5cbnNlbGVjdCB7XG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKC9hc3NldHMvaW1nL3NlbGVjdF9kcm9wZG93bl9hcnJvd19pY29uLnN2Zyk7XG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiByaWdodCAwLjdlbSB0b3AgNTAlLCAwIDA7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogbWFwLWdldCgkcGFsZXR0ZSwgd2hpdGUpO1xufVxuXG5zZWxlY3QucGxhY2Vob2xkZXIge1xuICAgIGNvbG9yOiBtYXAtZ2V0KCRwYWxldHRlLCAxMTApIWltcG9ydGFudDtcbn1cblxuaW5wdXQ6LW1zLWlucHV0LXBsYWNlaG9sZGVyLFxuaW5wdXQ6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXIge1xuICAgIGNvbG9yOiBtYXAtZ2V0KCRwYWxldHRlLCAxMTApO1xufVxuXG4uaW5wdXQtZXJyb3Ige1xuICAgIHAge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xuICAgICAgICBjb2xvcjogbWFwLWdldCgkcGFsZXR0ZSwgZXJyb3IpO1xuICAgIH1cbn1cblxuLmV4cGxhaW5lci10ZXh0IHtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xufSJdfQ== */"

/***/ }),

/***/ "./src/app/components/forms/ji-input/ji-input.component.ts":
/*!*****************************************************************!*\
  !*** ./src/app/components/forms/ji-input/ji-input.component.ts ***!
  \*****************************************************************/
/*! exports provided: JiInputComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JiInputComponent", function() { return JiInputComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _src_app_route_names__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @src/app/route-names */ "./src/app/route-names.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var JiInputComponent = /** @class */ (function () {
    function JiInputComponent() {
        this.type = 'text';
        this.placeholder = 'Please enter';
        this.customErrorText = {};
        this.value = '';
        this.isValid = false;
        this.explainerText = '';
        this.options = []; // if the type is 'select', we are going to need options
        this.teachersLinkChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.routeNames = _src_app_route_names__WEBPACK_IMPORTED_MODULE_2__["RouteNames"];
        this.errorsArray = [];
        this.defaultErrorText = {
            required: '',
            minLength: '',
            email: 'Please enter a valid email'
        };
        this.nonInputTypes = ['textarea', 'select'];
        this.isSimpleInputField = true;
    }
    JiInputComponent.prototype.ngOnInit = function () {
        this.defaultErrorText.required = this.title + " is required";
        if (this.nonInputTypes.includes(this.type)) {
            this.isSimpleInputField = false;
        }
    };
    JiInputComponent.prototype.ngAfterViewInit = function () { };
    JiInputComponent.prototype.ngOnChanges = function () {
        var _this = this;
        if (this.errors) {
            this.errorsArray = Object.keys(this.errors).map(function (error) {
                var text;
                if (error === 'minlength') {
                    text = _this.title + " must be at least " + _this.errors[error].requiredLength + " characters long";
                }
                else {
                    text = _this.customErrorText[error] ?
                        _this.customErrorText[error] :
                        _this.defaultErrorText[error];
                }
                return {
                    type: error,
                    text: text
                };
            });
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('inputEl', { static: false }),
        __metadata("design:type", Object)
    ], JiInputComponent.prototype, "inputEl", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], JiInputComponent.prototype, "input", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], JiInputComponent.prototype, "title", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], JiInputComponent.prototype, "id", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], JiInputComponent.prototype, "type", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], JiInputComponent.prototype, "hasError", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], JiInputComponent.prototype, "errors", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], JiInputComponent.prototype, "placeholder", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormGroup"])
    ], JiInputComponent.prototype, "parentForm", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], JiInputComponent.prototype, "customErrorText", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], JiInputComponent.prototype, "value", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], JiInputComponent.prototype, "isValid", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], JiInputComponent.prototype, "explainerText", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], JiInputComponent.prototype, "teachersLink", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], JiInputComponent.prototype, "options", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], JiInputComponent.prototype, "teachersLinkChange", void 0);
    JiInputComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-ji-input',
            template: __webpack_require__(/*! raw-loader!./ji-input.component.html */ "./node_modules/raw-loader/index.js!./src/app/components/forms/ji-input/ji-input.component.html"),
            styles: [__webpack_require__(/*! ./ji-input.component.scss */ "./src/app/components/forms/ji-input/ji-input.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], JiInputComponent);
    return JiInputComponent;
}());



/***/ }),

/***/ "./src/app/components/icon/icon.component.scss":
/*!*****************************************************!*\
  !*** ./src/app/components/icon/icon.component.scss ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ":host {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9raHJlYnRvdi9Qcm9qZWN0cy9qb3VybmV5aW50by1mcm9udGVuZC9zcmMvYXBwL2NvbXBvbmVudHMvaWNvbi9pY29uLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksYUFBYTtFQUNiLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFFdkIsZUFBZSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9pY29uL2ljb24uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuXG4gICAgY3Vyc29yOiBwb2ludGVyO1xuXG4gICAgLy8gcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4vLyBzdmcge1xuLy8gICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbi8vICAgICB0b3A6IDUwJTtcbi8vICAgICBsZWZ0OiA1MCU7XG5cbi8vICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbi8vIH0iXX0= */"

/***/ }),

/***/ "./src/app/components/icon/icon.component.ts":
/*!***************************************************!*\
  !*** ./src/app/components/icon/icon.component.ts ***!
  \***************************************************/
/*! exports provided: IconComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconComponent", function() { return IconComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var IconComponent = /** @class */ (function () {
    function IconComponent() {
        this.width = 25;
    }
    IconComponent.prototype.ngOnInit = function () { };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], IconComponent.prototype, "icon", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], IconComponent.prototype, "width", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], IconComponent.prototype, "height", void 0);
    IconComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-icon',
            template: __webpack_require__(/*! raw-loader!./icon.component.html */ "./node_modules/raw-loader/index.js!./src/app/components/icon/icon.component.html"),
            styles: [__webpack_require__(/*! ./icon.component.scss */ "./src/app/components/icon/icon.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], IconComponent);
    return IconComponent;
}());



/***/ }),

/***/ "./src/app/components/icon/icon.module.ts":
/*!************************************************!*\
  !*** ./src/app/components/icon/icon.module.ts ***!
  \************************************************/
/*! exports provided: IconModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconModule", function() { return IconModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _icon_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./icon.component */ "./src/app/components/icon/icon.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



var IconModule = /** @class */ (function () {
    function IconModule() {
    }
    IconModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"]
            ],
            providers: [],
            bootstrap: [],
            declarations: [_icon_component__WEBPACK_IMPORTED_MODULE_2__["IconComponent"]],
            exports: [_icon_component__WEBPACK_IMPORTED_MODULE_2__["IconComponent"]]
        })
    ], IconModule);
    return IconModule;
}());



/***/ }),

/***/ "./src/app/components/spinner-overlay/spinner-overlay.component.scss":
/*!***************************************************************************!*\
  !*** ./src/app/components/spinner-overlay/spinner-overlay.component.scss ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".spinner-wrapper {\n  margin: 0 auto; }\n\n.spinner-text {\n  color: #fff;\n  width: 80%;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  top: 2rem;\n  margin: 0 auto;\n  text-align: center; }\n\n.spinner-text .progress {\n    text-align: center; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9raHJlYnRvdi9Qcm9qZWN0cy9qb3VybmV5aW50by1mcm9udGVuZC9zcmMvYXBwL2NvbXBvbmVudHMvc3Bpbm5lci1vdmVybGF5L3NwaW5uZXItb3ZlcmxheS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQWMsRUFBQTs7QUFFaEI7RUFDRSxXQUFXO0VBQ1gsVUFBVTtFQUNWLGtCQUFrQjtFQUNsQixhQUFhO0VBQ2IsdUJBQXVCO0VBQ3ZCLHNCQUFzQjtFQUN0QixTQUFTO0VBQ1QsY0FBYztFQUNkLGtCQUFrQixFQUFBOztBQVRwQjtJQVlJLGtCQUFrQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9zcGlubmVyLW92ZXJsYXkvc3Bpbm5lci1vdmVybGF5LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnNwaW5uZXItd3JhcHBlciB7XG4gIG1hcmdpbjogMCBhdXRvO1xufVxuLnNwaW5uZXItdGV4dCB7XG4gIGNvbG9yOiAjZmZmO1xuICB3aWR0aDogODAlO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICB0b3A6IDJyZW07XG4gIG1hcmdpbjogMCBhdXRvO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG5cbiAgLnByb2dyZXNzIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIH1cbn1cblxuXG4iXX0= */"

/***/ }),

/***/ "./src/app/components/spinner-overlay/spinner-overlay.component.ts":
/*!*************************************************************************!*\
  !*** ./src/app/components/spinner-overlay/spinner-overlay.component.ts ***!
  \*************************************************************************/
/*! exports provided: SpinnerOverlayComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SpinnerOverlayComponent", function() { return SpinnerOverlayComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _src_app_store_modules_spinner_spinner_selectors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @src/app/store/modules/spinner/spinner.selectors */ "./src/app/store/modules/spinner/spinner.selectors.ts");
/* harmony import */ var _src_app_store_modules_teachers_teachers_selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @src/app/store/modules/teachers/teachers.selectors */ "./src/app/store/modules/teachers/teachers.selectors.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var SpinnerOverlayComponent = /** @class */ (function () {
    function SpinnerOverlayComponent(store) {
        this.store = store;
        this.spinner$ = this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__["select"])(_src_app_store_modules_spinner_spinner_selectors__WEBPACK_IMPORTED_MODULE_2__["selectText"]));
        this.subscriptions = [];
        this.isAddText = false;
        this.progress$ = this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__["select"])(_src_app_store_modules_teachers_teachers_selectors__WEBPACK_IMPORTED_MODULE_3__["selectTeachersObject"]));
        this.progress = 0;
        this.uploadError = false;
        this.errorText = '';
    }
    SpinnerOverlayComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.subscriptions.push(this.spinner$.subscribe(function (obj) {
            obj.textAboutClass && (_this.isAddText = true);
        }));
        this.subscriptions.push(this.progress$.subscribe(function (obj) {
            // console.log('tut', obj);
            _this.progress = obj.progress;
            if (obj.uploadError) {
                _this.isAddText = false;
                _this.uploadError = true;
                _this.errorText = obj.textErrorMessage;
            }
        }));
        // this.subscriptions.push(
        //   this.progress$.subscribe((obj: any) => {
        //     if (obj.classUploadingError) {
        //       this.isAddText = false;
        //       this.uploadError = true;
        //     }
        //   })
        // );
    };
    SpinnerOverlayComponent.prototype.ngAfterViewInit = function () { };
    SpinnerOverlayComponent.prototype.ngOnDestroy = function () { };
    SpinnerOverlayComponent.ctorParameters = function () { return [
        { type: _ngrx_store__WEBPACK_IMPORTED_MODULE_1__["Store"] }
    ]; };
    SpinnerOverlayComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-spinner-overlay",
            template: __webpack_require__(/*! raw-loader!./spinner-overlay.component.html */ "./node_modules/raw-loader/index.js!./src/app/components/spinner-overlay/spinner-overlay.component.html"),
            styles: [__webpack_require__(/*! ./spinner-overlay.component.scss */ "./src/app/components/spinner-overlay/spinner-overlay.component.scss")]
        }),
        __metadata("design:paramtypes", [_ngrx_store__WEBPACK_IMPORTED_MODULE_1__["Store"]])
    ], SpinnerOverlayComponent);
    return SpinnerOverlayComponent;
}());



/***/ }),

/***/ "./src/app/components/spinner-overlay/spinner-overlay.module.ts":
/*!**********************************************************************!*\
  !*** ./src/app/components/spinner-overlay/spinner-overlay.module.ts ***!
  \**********************************************************************/
/*! exports provided: SpinnerOverlayModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SpinnerOverlayModule", function() { return SpinnerOverlayModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/progress-spinner */ "./node_modules/@angular/material/esm5/progress-spinner.es5.js");
/* harmony import */ var _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/cdk/overlay */ "./node_modules/@angular/cdk/esm5/overlay.es5.js");
/* harmony import */ var _src_app_components_spinner_overlay_spinner_overlay_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @src/app/components/spinner-overlay/spinner-overlay.component */ "./src/app/components/spinner-overlay/spinner-overlay.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var SpinnerOverlayModule = /** @class */ (function () {
    function SpinnerOverlayModule() {
    }
    SpinnerOverlayModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_2__["MatProgressSpinnerModule"], _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_3__["OverlayModule"]],
            providers: [],
            bootstrap: [],
            declarations: [_src_app_components_spinner_overlay_spinner_overlay_component__WEBPACK_IMPORTED_MODULE_4__["SpinnerOverlayComponent"]],
            entryComponents: [_src_app_components_spinner_overlay_spinner_overlay_component__WEBPACK_IMPORTED_MODULE_4__["SpinnerOverlayComponent"]]
        })
    ], SpinnerOverlayModule);
    return SpinnerOverlayModule;
}());



/***/ }),

/***/ "./src/app/guards/guest-route.guard.ts":
/*!*********************************************!*\
  !*** ./src/app/guards/guest-route.guard.ts ***!
  \*********************************************/
/*! exports provided: GuestRouteGuard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GuestRouteGuard", function() { return GuestRouteGuard; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _src_app_services__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @src/app/services */ "./src/app/services/index.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var GuestRouteGuard = /** @class */ (function () {
    function GuestRouteGuard(authorizationService, router, store) {
        this.authorizationService = authorizationService;
        this.router = router;
        this.store = store;
    }
    GuestRouteGuard.prototype.canActivate = function (route, state) {
        if (this.authorizationService.isAuthenticated()) {
            this.router.navigate(['/']);
            return false;
        }
        return true;
    };
    GuestRouteGuard.ctorParameters = function () { return [
        { type: _src_app_services__WEBPACK_IMPORTED_MODULE_3__["AuthorizationService"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] },
        { type: _ngrx_store__WEBPACK_IMPORTED_MODULE_1__["Store"] }
    ]; };
    GuestRouteGuard = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_src_app_services__WEBPACK_IMPORTED_MODULE_3__["AuthorizationService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _ngrx_store__WEBPACK_IMPORTED_MODULE_1__["Store"]])
    ], GuestRouteGuard);
    return GuestRouteGuard;
}());



/***/ }),

/***/ "./src/app/guards/private-route.guard.ts":
/*!***********************************************!*\
  !*** ./src/app/guards/private-route.guard.ts ***!
  \***********************************************/
/*! exports provided: PrivateRouteGuard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PrivateRouteGuard", function() { return PrivateRouteGuard; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _store_modules_user_user_selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../store/modules/user/user.selectors */ "./src/app/store/modules/user/user.selectors.ts");
/* harmony import */ var _services__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services */ "./src/app/services/index.ts");
/* harmony import */ var _route_names__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../route-names */ "./src/app/route-names.ts");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../helpers */ "./src/app/helpers/index.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_8__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var PrivateRouteGuard = /** @class */ (function () {
    function PrivateRouteGuard(authorizationService, router, store, userService, route) {
        var _this = this;
        this.authorizationService = authorizationService;
        this.router = router;
        this.store = store;
        this.userService = userService;
        this.route = route;
        this.user = null;
        this.user$ = this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_2__["select"])(_store_modules_user_user_selectors__WEBPACK_IMPORTED_MODULE_3__["selectUserActive"]), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["filter"])(Boolean), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["filter"])(function (user) {
            if (!_this.user) {
                return user;
            }
            // if there is this.user we need to check whether the objs have changed..
            if (!lodash__WEBPACK_IMPORTED_MODULE_8___default.a.isEqual(user, _this.user)) {
                return user;
            }
            return false;
        }));
        this.onlyStudentRoutes = ['student'];
        this.onlyTeacherRoutes = ['teacher'];
    }
    PrivateRouteGuard.prototype.canActivate = function (route, state) {
        var _this = this;
        if (this.authorizationService.isAuthenticated()) {
            var canDo_1 = true;
            this.user$.subscribe(function (user) {
                _this.user = user;
                canDo_1 = _this.checkUser(state);
            });
            if (this.user) {
                canDo_1 = this.checkUser(state);
            }
            return canDo_1;
        }
        this.router.navigate(['/', _route_names__WEBPACK_IMPORTED_MODULE_5__["RouteNames"].login]);
        return false;
    };
    PrivateRouteGuard.prototype.checkUser = function (state) {
        if (state.url !== '/') {
            var isOnboardingComplete = this.userService.doUserOnboardingChecks(this.user, state.url);
            var isAllowedInRoute = this.userService.doUserStatusChecks(this.user);
            var goTo = !isOnboardingComplete.canActivate ? isOnboardingComplete.goTo :
                !isAllowedInRoute.canActivate ? isAllowedInRoute.goTo :
                    false;
            if (goTo) {
                this.router.navigate(goTo, {
                    state: { data: { message: _helpers__WEBPACK_IMPORTED_MODULE_6__["redirectMessage"] } }
                });
            }
            return !goTo;
        }
        return true;
    };
    PrivateRouteGuard.ctorParameters = function () { return [
        { type: _services__WEBPACK_IMPORTED_MODULE_4__["AuthorizationService"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] },
        { type: _ngrx_store__WEBPACK_IMPORTED_MODULE_2__["Store"] },
        { type: _services__WEBPACK_IMPORTED_MODULE_4__["UserService"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"] }
    ]; };
    PrivateRouteGuard = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_services__WEBPACK_IMPORTED_MODULE_4__["AuthorizationService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _ngrx_store__WEBPACK_IMPORTED_MODULE_2__["Store"],
            _services__WEBPACK_IMPORTED_MODULE_4__["UserService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"]])
    ], PrivateRouteGuard);
    return PrivateRouteGuard;
}());



/***/ }),

/***/ "./src/app/helpers/forms.ts":
/*!**********************************!*\
  !*** ./src/app/helpers/forms.ts ***!
  \**********************************/
/*! exports provided: urlValidator, formValidationScrollFocus, resetForm, checkEdited */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "urlValidator", function() { return urlValidator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formValidationScrollFocus", function() { return formValidationScrollFocus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "resetForm", function() { return resetForm; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "checkEdited", function() { return checkEdited; });
/* harmony import */ var _components_forms_ji_input_ji_input_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/forms/ji-input/ji-input.component */ "./src/app/components/forms/ji-input/ji-input.component.ts");

var urlValidator = '(Https?://)?(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/?';
var formValidationScrollFocus = function (form, formfields) {
    var array = [];
    formfields._results.map(function (result) {
        if (result instanceof _components_forms_ji_input_ji_input_component__WEBPACK_IMPORTED_MODULE_0__["JiInputComponent"]) {
            array.push(result.inputEl);
        }
    });
    for (var i = 0; i < array.length; i++) {
        var element = array[i];
        var nativeEl = element.nativeElement;
        var control = nativeEl.htmlFor;
        if (form.controls[control].invalid) {
            nativeEl.focus();
            window.scrollTo(0, nativeEl.offsetTop);
            break;
        }
    }
};
var resetForm = function (form) {
    form.reset();
    var formInputs = Object.keys(form.controls);
    formInputs.map(function (input) {
        form.controls[input].markAsPristine();
        form.controls[input].markAsUntouched();
    });
};
/**
 * Get a form and the item that is being edited, and check
 * whether its values have been changed.
 * This would normally be used to check whether a button can be enabled or not
*/
var checkEdited = function (form, editing) {
    if (!editing) {
        return false;
    }
    var formInputs = Object.keys(form);
    var changed = [];
    formInputs.map(function (input) {
        var editingValue = editing[input];
        var formValue = form[input];
        if (editingValue !== undefined) {
            changed.push(formValue !== editingValue);
        }
    });
    var hasChanged = changed.some(function (x) { return !!x; });
    return hasChanged;
};


/***/ }),

/***/ "./src/app/helpers/index.ts":
/*!**********************************!*\
  !*** ./src/app/helpers/index.ts ***!
  \**********************************/
/*! exports provided: getUserViewStatusTitle, urlValidator, formValidationScrollFocus, resetForm, checkEdited, redirectMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getUserViewStatusTitle", function() { return getUserViewStatusTitle; });
/* harmony import */ var _src_app_store_modules_user_user_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @src/app/store/modules/user/user.types */ "./src/app/store/modules/user/user.types.ts");
/* harmony import */ var _forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./forms */ "./src/app/helpers/forms.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "urlValidator", function() { return _forms__WEBPACK_IMPORTED_MODULE_1__["urlValidator"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "formValidationScrollFocus", function() { return _forms__WEBPACK_IMPORTED_MODULE_1__["formValidationScrollFocus"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "resetForm", function() { return _forms__WEBPACK_IMPORTED_MODULE_1__["resetForm"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "checkEdited", function() { return _forms__WEBPACK_IMPORTED_MODULE_1__["checkEdited"]; });

/* harmony import */ var _messages__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./messages */ "./src/app/helpers/messages.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "redirectMessage", function() { return _messages__WEBPACK_IMPORTED_MODULE_2__["redirectMessage"]; });


/**
 * Get user view status title
 *
 * @param status
 */
var getUserViewStatusTitle = function (status) {
    switch (status) {
        case _src_app_store_modules_user_user_types__WEBPACK_IMPORTED_MODULE_0__["ViewStatuses"].STUDENT:
            return 'student';
        case _src_app_store_modules_user_user_types__WEBPACK_IMPORTED_MODULE_0__["ViewStatuses"].TEACHER:
            return 'creator';
        default:
            return 'unknown';
    }
};




/***/ }),

/***/ "./src/app/helpers/messages.ts":
/*!*************************************!*\
  !*** ./src/app/helpers/messages.ts ***!
  \*************************************/
/*! exports provided: redirectMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "redirectMessage", function() { return redirectMessage; });
var redirectMessage = 'You were redirected here as you need to complete your profile.';


/***/ }),

/***/ "./src/app/interceptors/api-mock.interceptor.ts":
/*!******************************************************!*\
  !*** ./src/app/interceptors/api-mock.interceptor.ts ***!
  \******************************************************/
/*! exports provided: ApiMockInterceptor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ApiMockInterceptor", function() { return ApiMockInterceptor; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _src_environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @src/environments/environment */ "./src/environments/environment.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var ApiMockInterceptor = /** @class */ (function () {
    function ApiMockInterceptor() {
        // Api base url
        this.BASE_URL = _src_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].apiUrl + "/" + _src_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].apiVersion;
    }
    /**
     * Create mock response based on request data
     */
    ApiMockInterceptor.prototype.createResponse = function (req) {
        var url = req.url, method = req.method, body = req.body;
        // Authentication
        // if (url === this.BASE_URL + '/rest-auth/login/' && method === 'POST') {
        //   return {
        //     status: 200,
        //     body: {
        //       access: 'jwtsecretAccessToken',
        //       refresh: 'jwtsecretRefreshToken'
        //     }
        //   };
        // }
        // Sign up
        // if (url === this.BASE_URL + '/rest-auth/registration/' && method === 'POST') {
        //   return {
        //     status: 200,
        //     body: {
        //       token: {
        //         access: 'jwtsecretAccessToken',
        //         refresh: 'jwtsecretRefreshToken'
        //       },
        //       user: {
        //         pk: 3,
        //         username: 'test@test.com',
        //         email: 'test@test.com',
        //         first_name: 'John',
        //         last_name: 'doe',
        //         view_status: body.view_status,
        //         telephone: null
        //       }
        //     }
        //   };
        // }
        // Forgotten password reset
        if (url === this.BASE_URL + '/rest-auth/password/reset/' && method === 'POST') {
            return {
                status: 200,
                body: {
                    status: 'ok'
                }
            };
        }
        // Get current user by jwt token
        // if (url === this.BASE_URL + '/users/profile/' && method === 'GET') {
        //   return {
        //     status: 200,
        //     body: {
        //       id: 3,
        //       username: 'test@test.com',
        //       email: 'test@test.com',
        //       first_name: 'John',
        //       last_name: 'doe',
        //       view_status: 'teacher',
        //       telephone: null,
        //       // teachers: {
        //       //   connected: [
        //       //     {
        //       //       id: 2,
        //       //       title: 'Madeline Hart',
        //       //       description:
        //       //         'Nisi nec rhoncus ultrices, ligula urna efficitur libero, a luctus tortor justo vitae tellus.',
        //       //       image_id: '1',
        //       //       image_url: '/assets/img/Madeline Hart.png',
        //       //       vimeo_url: '/assets/img/video.png',
        //       //       style: 'Nisi nec rhoncus ultrices, ligula urna efficitur libero, a luctus tortor justo vitae tellus.',
        //       //       city: 'London',
        //       //       qualifications: 'Diploma in Thai Yoga',
        //       //       created_at: '',
        //       //       created_by: '',
        //       //       updated_at: '',
        //       //       telephone: '07979 4671314',
        //       //       email: 'j.hart@hrt.com'
        //       //     }
        //       //   ],
        //       //   subscribed: [
        //       //     {
        //       //       id: 2,
        //       //       title: 'Madeline Hart',
        //       //       description:
        //       //         'Nisi nec rhoncus ultrices, ligula urna efficitur libero, a luctus tortor justo vitae tellus.',
        //       //       image_id: '1',
        //       //       image_url: '/assets/img/Madeline Hart.png',
        //       //       vimeo_url: '/assets/img/video.png',
        //       //       style: 'Nisi nec rhoncus ultrices, ligula urna efficitur libero, a luctus tortor justo vitae tellus.',
        //       //       city: 'London',
        //       //       qualifications: 'Diploma in Thai Yoga',
        //       //       created_at: '',
        //       //       created_by: '',
        //       //       updated_at: '',
        //       //       telephone: '07979 4671314',
        //       //       email: 'j.hart@hrt.com'
        //       //     }
        //       //   ]
        //       // },
        //       // students: {
        //       //   connected: [
        //       //     {
        //       //       id: 2,
        //       //       title: 'Madeline Hart',
        //       //       description:
        //       //         'Nisi nec rhoncus ultrices, ligula urna efficitur libero, a luctus tortor justo vitae tellus.',
        //       //       image_id: '1',
        //       //       image_url: '/assets/img/Madeline Hart.png',
        //       //       vimeo_url: '/assets/img/video.png',
        //       //       style: 'Nisi nec rhoncus ultrices, ligula urna efficitur libero, a luctus tortor justo vitae tellus.',
        //       //       city: 'London',
        //       //       qualifications: 'Diploma in Thai Yoga',
        //       //       created_at: '',
        //       //       created_by: '',
        //       //       updated_at: '',
        //       //       telephone: '07979 4671314',
        //       //       email: 'j.hart@hrt.com'
        //       //     }
        //       //   ],
        //       //   subscribed: [
        //       //     {
        //       //       id: 2,
        //       //       title: 'Madeline Hart',
        //       //       description:
        //       //         'Nisi nec rhoncus ultrices, ligula urna efficitur libero, a luctus tortor justo vitae tellus.',
        //       //       image_id: '1',
        //       //       image_url: '/assets/img/Madeline Hart.png',
        //       //       vimeo_url: '/assets/img/video.png',
        //       //       style: 'Nisi nec rhoncus ultrices, ligula urna efficitur libero, a luctus tortor justo vitae tellus.',
        //       //       city: 'London',
        //       //       qualifications: 'Diploma in Thai Yoga',
        //       //       created_at: '',
        //       //       created_by: '',
        //       //       updated_at: '',
        //       //       telephone: '07979 4671314',
        //       //       email: 'j.hart@hrt.com'
        //       //     }
        //       //   ]
        //       // },
        //       // notifications: [
        //       //   {
        //       //     id: 1,
        //       //     title: 'Madelaine Hart confirmed your booking',
        //       //     description: 'Private session, 02/07/19',
        //       //     action: 'View'
        //       //   },
        //       //   {
        //       //     id: 2,
        //       //     title: 'Madelaine Hart added a new class',
        //       //     description: 'Tuesday class',
        //       //     action: 'Practice'
        //       //   }
        //       // ]
        //     }
        //   };
        // }
        // Switch user view status - student / creator
        if (url === this.BASE_URL + '/user/switch-view-status' && method === 'POST') {
            return {
                status: 200,
                body: __assign({ id: 3 }, body)
            };
        }
        // Get teachers list
        // if (url === this.BASE_URL + '/teachers' && method === 'GET') {
        //   return {
        //     status: 200,
        //     body: [
        //       {
        //         id: 2,
        //         firstName: 'Sophia',
        //         lastName: 'Medina'
        //       },
        //       {
        //         id: 3,
        //         firstName: 'Lorena',
        //         lastName: 'Terry'
        //       },
        //       {
        //         id: 4,
        //         firstName: 'Nathan',
        //         lastName: 'Roberts'
        //       }
        //     ]
        //   };
        // }
        // Onboarding, student, store step one
        if (url === this.BASE_URL + '/onboarding/student/step-one' && method === 'POST') {
            return {
                status: 200,
                body: {
                    status: 'Step one for student is stored'
                }
            };
        }
        // Onboarding, teacher, store step one
        if (url === this.BASE_URL + '/onboarding/teacher/step-one' && method === 'POST') {
            return {
                status: 200,
                body: {
                    status: 'Step one for teacher is stored'
                }
            };
        }
        // Onboarding, teacher, store step two
        if (url === this.BASE_URL + '/onboarding/teacher/step-two' && method === 'POST') {
            return {
                status: 200,
                body: {
                    status: 'Step two for teacher is stored'
                }
            };
        }
        // Upload user profile image
        if (url === this.BASE_URL + '/user/1/profile-image' && method === 'POST') {
            return {
                status: 200,
                body: {
                    image: '/assets/img/logo.svg'
                }
            };
        }
        // Notifications
        if (url === this.BASE_URL + '/notifications' && method === 'GET') {
            return {
                status: 200,
                body: [
                    {
                        id: 1,
                        title: 'Madelaine Hart confirmed your booking',
                        description: 'Private session, 02/07/19',
                        action: 'View'
                    },
                    {
                        id: 2,
                        title: 'Madelaine Hart added a new class',
                        description: 'Tuesday class',
                        action: 'Practice'
                    },
                    {
                        id: 3,
                        title: 'Madelaine Hart confirmed your booking',
                        description: 'Private session, 02/07/19',
                        action: 'View'
                    },
                    {
                        id: 4,
                        title: 'Madelaine Hart added a new class',
                        description: 'Tuesday class',
                        action: 'Practice'
                    },
                    {
                        id: 5,
                        title: 'Madelaine Hart confirmed your booking',
                        description: 'Private session, 02/07/19',
                        action: 'View'
                    }
                ]
            };
        }
        // Get teacher profile data
        // if (url === this.BASE_URL + '/teachers/1' && method === 'GET') {
        //   return {
        //     status: 200,
        //     body: {
        //       id: 2,
        //       title: 'Madeline Hart',
        //       description: 'Nisi nec rhoncus ultrices, ligula urna efficitur libero, a luctus tortor justo vitae tellus.',
        //       image_id: '1',
        //       image_url: '/assets/img/Madeline Hart.png',
        //       vimeo_url: '/assets/img/video.png',
        //       style: 'Nisi nec rhoncus ultrices, ligula urna efficitur libero, a luctus tortor justo vitae tellus.',
        //       city: 'London',
        //       qualifications: 'Diploma in Thai Yoga',
        //       created_at: '',
        //       created_by: '',
        //       updated_at: '',
        //       telephone: '07979 4671314',
        //       email: 'j.hart@hrt.com',
        //       recordings: [
        //         {
        //           id: 1,
        //           title: 'Sample classes',
        //           slug: 'slug',
        //           length: 'Weekly 1 hour',
        //           start_timestamp: '',
        //           end_timestamp: '',
        //           created_at: '',
        //           created_by: '',
        //           updated_at: '',
        //           cover_image: '/assets/img/cover_image.png'
        //         },
        //         {
        //           id: 1,
        //           title: 'Sample classes',
        //           slug: 'slug',
        //           length: 'Weekly 1 hour',
        //           start_timestamp: '',
        //           end_timestamp: '',
        //           created_at: '',
        //           created_by: '',
        //           updated_at: '',
        //           cover_image: '/assets/img/cover_image.png'
        //         }
        //       ],
        //       links: [
        //         {
        //           id: '',
        //           label: '',
        //           url: 'https://twitter.com/mhartyoga',
        //           created_at: '',
        //           created_by: '',
        //           updated_at: ''
        //         },
        //         {
        //           id: '',
        //           label: '',
        //           url: 'https://instagram.com/mhartyoga',
        //           created_at: '',
        //           created_by: '',
        //           updated_at: ''
        //         },
        //         {
        //           id: '',
        //           label: '',
        //           url: 'https://www.facebook.com/mhartyoga',
        //           created_at: '',
        //           created_by: '',
        //           updated_at: ''
        //         },
        //         {
        //           id: '',
        //           label: '',
        //           url: 'https://www.linkedin.com/in/mhartyoga',
        //           created_at: '',
        //           created_by: '',
        //           updated_at: ''
        //         },
        //         {
        //           id: '',
        //           label: '',
        //           url: 'https://www.loremipsum.com',
        //           created_at: '',
        //           created_by: '',
        //           updated_at: ''
        //         }
        //       ]
        //     }
        //   };
        // }
        // if (url === this.BASE_URL + '/teachers/1/update' && method === 'POST') {
        //   return {
        //     status: 200,
        //     body: {
        //       id: 2,
        //       title: 'Madeline Hart',
        //       description: 'Nisi nec rhoncus ultrices, ligula urna efficitur libero, a luctus tortor justo vitae tellus.',
        //       image_id: '1',
        //       image_url: '/assets/img/Madeline Hart.png',
        //       vimeo_url: '/assets/img/video.png',
        //       style: 'style',
        //       city: 'city',
        //       qualifications:
        //         'Nisi nec rhoncus ultrices, ligula urna efficitur libero, a luctus tortor justo vitae tellus.',
        //       created_at: '',
        //       created_by: '',
        //       updated_at: '',
        //       telephone: '07979 1111111',
        //       email: 'j.hart@hrt.com',
        //       recordings: [
        //         {
        //           id: 1,
        //           title: 'Sample classes',
        //           slug: 'slug',
        //           length: 'Weekly 1 hour',
        //           start_timestamp: '',
        //           end_timestamp: '',
        //           created_at: '',
        //           created_by: '',
        //           updated_at: '',
        //           cover_image: '/assets/img/cover_image.png'
        //         },
        //         {
        //           id: 1,
        //           title: 'Sample classes',
        //           slug: 'slug',
        //           length: 'Weekly 1 hour',
        //           start_timestamp: '',
        //           end_timestamp: '',
        //           created_at: '',
        //           created_by: '',
        //           updated_at: '',
        //           cover_image: '/assets/img/cover_image.png'
        //         }
        //       ],
        //       links: [
        //         {
        //           id: '',
        //           label: '',
        //           url: '@mhartyoga.new',
        //           created_at: '',
        //           created_by: '',
        //           updated_at: ''
        //         },
        //         {
        //           id: '',
        //           label: '',
        //           url: 'www.studioabc_new.com',
        //           created_at: '',
        //           created_by: '',
        //           updated_at: ''
        //         },
        //         {
        //           id: '',
        //           label: '',
        //           url: 'www.loremipsum_new.com',
        //           created_at: '',
        //           created_by: '',
        //           updated_at: ''
        //         }
        //       ]
        //     }
        //   };
        // }
        // Get poses list
        // if (url === this.BASE_URL + '/poses' && method === 'GET') {
        //   return {
        //     status: 200,
        //     body: [
        //       {
        //         title: 'Test pose 123132',
        //         text:
        //           'some test pose\r\nsdfsdfkjsdkfsnjfk kjshndfkjs fkjsbdjf hsbd fhjs bdfj. sdfsdfkjsdkfsnjfk kjshndfkjs fkjsbdjf hsbd fhjs bdfj. sdfsdfkjsdkfsnjfk kjshndfkjs fkjsbdjf hsbd fhjs bdfj. sdfsdfkjsdkfsnjfk kjshndfkjs fkjsbdjf hsbd fhjs bdfj. sdfsdfkjsdkfsnjfk kjshndfkjs fkjsbdjf hsbd fhjs bdfj. \r\nsdfsdfkjsdkfsnjfk kjshndfkjs fkjsbdjf hsbd fhjs bdfj. sdfsdfkjsdkfsnjfk kjshndfkjs fkjsbdjf hsbd fhjs bdfj. sdfsdfkjsdkfsnjfk kjshndfkjs fkjsbdjf hsbd fhjs bdfj. sdfsdfkjsdkfsnjfk kjshndfkjs fkjsbdjf hsbd fhjs bdfj. sdfsdfkjsdkfsnjfk kjshndfkjs fkjsbdjf hsbd fhjs bdfj. sdfsdfkjsdkfsnjfk kjshndfkjs fkjsbdjf hsbd fhjs bdfj. sdfsdfkjsdkfsnjfk kjshndfkjs fkjsbdjf hsbd fhjs bdfj.',
        //         image:
        //           '//dev-api.journeyinto.com/uploads/poses/triangle-pose-beginner-yoga_cd85POV.jpg.1200x960_q90_box-23%2C0%2C705%2C546_crop_detail.jpg',
        //         thumbnail:
        //           '//dev-api.journeyinto.com/uploads/poses/triangle-pose-beginner-yoga_cd85POV.jpg.570x480_q90_box-40%2C0%2C688%2C546_crop_detail.jpg',
        //         slug: 'test-pose'
        //       },
        //       {
        //         title: 'Triangle pose 1',
        //         text:
        //           'Stand in Tadasana (Mountain Pose). Inhale, shift your weight onto your right foot, and lift your left heel toward your left buttock as you bend the knee. Press the head of your right thigh bone back, deep into the hip joint, and pull the knee cap up to keep the standing leg straight and strong.',
        //         image: '//dev-api.journeyinto.com/uploads/poses/sdf.png.1200x960_q90_box-0%2C6%2C285%2C234_crop_detail.png',
        //         thumbnail:
        //           '//dev-api.journeyinto.com/uploads/poses/sdf.png.570x480_q90_box-0%2C0%2C285%2C240_crop_detail.png',
        //         slug: 'triangle-pose-1'
        //       },
        //       {
        //         title: 'Triangle pose 1',
        //         text:
        //           'Stand in Tadasana (Mountain Pose). Inhale, shift your weight onto your right foot, and lift your left heel toward your left buttock as you bend the knee. Press the head of your right thigh bone back, deep into the hip joint, and pull the knee cap up to keep the standing leg straight and strong.',
        //         image: '//dev-api.journeyinto.com/uploads/poses/sdf.png.1200x960_q90_box-0%2C6%2C285%2C234_crop_detail.png',
        //         thumbnail:
        //           '//dev-api.journeyinto.com/uploads/poses/sdf.png.570x480_q90_box-0%2C0%2C285%2C240_crop_detail.png',
        //         slug: 'triangle-pose-2'
        //       },
        //       {
        //         title: 'Triangle pose 1',
        //         text:
        //           'Stand in Tadasana (Mountain Pose). Inhale, shift your weight onto your right foot, and lift your left heel toward your left buttock as you bend the knee. Press the head of your right thigh bone back, deep into the hip joint, and pull the knee cap up to keep the standing leg straight and strong.',
        //         image: '//dev-api.journeyinto.com/uploads/poses/sdf.png.1200x960_q90_box-0%2C6%2C285%2C234_crop_detail.png',
        //         thumbnail:
        //           '//dev-api.journeyinto.com/uploads/poses/sdf.png.570x480_q90_box-0%2C0%2C285%2C240_crop_detail.png',
        //         slug: 'triangle-pose-3'
        //       },
        //       {
        //         title: 'Triangle pose 1',
        //         text:
        //           'Stand in Tadasana (Mountain Pose). Inhale, shift your weight onto your right foot, and lift your left heel toward your left buttock as you bend the knee. Press the head of your right thigh bone back, deep into the hip joint, and pull the knee cap up to keep the standing leg straight and strong.',
        //         image: '//dev-api.journeyinto.com/uploads/poses/sdf.png.1200x960_q90_box-0%2C6%2C285%2C234_crop_detail.png',
        //         thumbnail:
        //           '//dev-api.journeyinto.com/uploads/poses/sdf.png.570x480_q90_box-0%2C0%2C285%2C240_crop_detail.png',
        //         slug: 'triangle-pose-4'
        //       },
        //       {
        //         title: 'Triangle pose 1',
        //         text:
        //           'Stand in Tadasana (Mountain Pose). Inhale, shift your weight onto your right foot, and lift your left heel toward your left buttock as you bend the knee. Press the head of your right thigh bone back, deep into the hip joint, and pull the knee cap up to keep the standing leg straight and strong.',
        //         image: '//dev-api.journeyinto.com/uploads/poses/sdf.png.1200x960_q90_box-0%2C6%2C285%2C234_crop_detail.png',
        //         thumbnail:
        //           '//dev-api.journeyinto.com/uploads/poses/sdf.png.570x480_q90_box-0%2C0%2C285%2C240_crop_detail.png',
        //         slug: 'triangle-pose-5'
        //       }
        //     ]
        //   };
        // }
        //
        // // Get profile pose
        // if (url === this.BASE_URL + '/poses/triangle-pose-1' && method === 'GET') {
        //   return {
        //     status: 200,
        //     body: {
        //       title: 'Triangle pose 1',
        //       text:
        //         'Stand in Tadasana (Mountain Pose). Inhale, shift your weight onto your right foot, and lift your left heel toward your left buttock as you bend the knee. Press the head of your right thigh bone back, deep into the hip joint, and pull the knee cap up to keep the standing leg straight and strong.',
        //       image: '//dev-api.journeyinto.com/uploads/poses/sdf.png.1200x960_q90_box-0%2C6%2C285%2C234_crop_detail.png',
        //       thumbnail:
        //         '//dev-api.journeyinto.com/uploads/poses/sdf.png.570x480_q90_box-0%2C0%2C285%2C240_crop_detail.png',
        //       slug: 'triangle-pose-1'
        //     }
        //   };
        // }
        // Get creator students
        if (url === this.BASE_URL + '/creator/students' && method === 'GET') {
            return {
                status: 200,
                body: [
                    {
                        id: 1,
                        img: 'Mask.png',
                        name: 'Rita Mantler',
                        status: 'decline'
                    },
                    {
                        id: 2,
                        img: 'Mask.png',
                        name: 'Amy Leenman',
                        status: 'decline'
                    },
                    {
                        id: 3,
                        img: 'Mask.png',
                        name: 'Lai Jong',
                        status: 'decline'
                    },
                    {
                        id: 4,
                        img: 'Mask.png',
                        name: 'Greg Woodruff',
                        status: 'approve'
                    },
                    {
                        id: 5,
                        img: 'Mask.png',
                        name: 'Katie Martindale',
                        status: 'approve'
                    }
                ]
            };
        }
        return false;
    };
    /**
     * Intercept with mock response
     *
     * @param req
     * @param next
     */
    ApiMockInterceptor.prototype.intercept = function (req, next) {
        var response = this.createResponse(req);
        if (response) {
            // console.log('MOCK INTERCEPT', req.url, response);
        }
        return response ? Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpResponse"](response)) : next.handle(req);
    };
    ApiMockInterceptor = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])()
    ], ApiMockInterceptor);
    return ApiMockInterceptor;
}());



/***/ }),

/***/ "./src/app/interceptors/http-errors.interceptor.ts":
/*!*********************************************************!*\
  !*** ./src/app/interceptors/http-errors.interceptor.ts ***!
  \*********************************************************/
/*! exports provided: HttpErrorsInterceptor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HttpErrorsInterceptor", function() { return HttpErrorsInterceptor; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _src_app_services_authorization_authorization_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @src/app/services/authorization/authorization.service */ "./src/app/services/authorization/authorization.service.ts");
/* harmony import */ var _src_app_services_errors_errors_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @src/app/services/errors/errors.service */ "./src/app/services/errors/errors.service.ts");
/* harmony import */ var _route_names__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../route-names */ "./src/app/route-names.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var HttpErrorsInterceptor = /** @class */ (function () {
    function HttpErrorsInterceptor(authorizationService, errorsService, store, router) {
        this.authorizationService = authorizationService;
        this.errorsService = errorsService;
        this.store = store;
        this.router = router;
    }
    HttpErrorsInterceptor.prototype.intercept = function (req, next) {
        var _this = this;
        return next.handle(req).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["catchError"])(function (error) {
            if (error) {
                var errorMessage = _this.errorsService.processError(error);
                var processedError = __assign({}, error, { error: errorMessage, message: errorMessage });
                // 401 Unauthorized. Undefined for Safari browser
                if (error.status === undefined || error.status === 401) {
                    _this.authorizationService.destroyAccessToken();
                    _this.authorizationService.destroyRefreshToken();
                    // Navigate to main page
                    _this.router.navigate(['/']);
                    window.location.reload();
                    return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["throwError"])(processedError);
                }
                // 403 forbidden
                if (error.status === 403) {
                    _this.authorizationService.onForbiddenError(processedError);
                    return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["throwError"])(processedError);
                }
                // 500 server error
                if (error.status === 500) {
                    _this.errorsService.onServerError(processedError);
                    return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["throwError"])(processedError);
                }
                // 404 error
                if (error.status === 404) {
                    _this.errorsService.onServerError(processedError);
                    _this.router.navigate(['/', _route_names__WEBPACK_IMPORTED_MODULE_5__["RouteNames"].notFound]);
                    return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["throwError"])(processedError);
                }
                if (error.status === 502) {
                    window.location.reload();
                    return;
                }
                _this.errorsService.onServerError(processedError);
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["throwError"])(processedError);
            }
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["throwError"])(error);
        }));
    };
    HttpErrorsInterceptor.ctorParameters = function () { return [
        { type: _src_app_services_authorization_authorization_service__WEBPACK_IMPORTED_MODULE_3__["AuthorizationService"] },
        { type: _src_app_services_errors_errors_service__WEBPACK_IMPORTED_MODULE_4__["ErrorsService"] },
        { type: _ngrx_store__WEBPACK_IMPORTED_MODULE_7__["Store"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"] }
    ]; };
    HttpErrorsInterceptor = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_src_app_services_authorization_authorization_service__WEBPACK_IMPORTED_MODULE_3__["AuthorizationService"],
            _src_app_services_errors_errors_service__WEBPACK_IMPORTED_MODULE_4__["ErrorsService"],
            _ngrx_store__WEBPACK_IMPORTED_MODULE_7__["Store"],
            _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"]])
    ], HttpErrorsInterceptor);
    return HttpErrorsInterceptor;
}());



/***/ }),

/***/ "./src/app/interceptors/jwt-token.interceptor.ts":
/*!*******************************************************!*\
  !*** ./src/app/interceptors/jwt-token.interceptor.ts ***!
  \*******************************************************/
/*! exports provided: JwtTokenInterceptor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JwtTokenInterceptor", function() { return JwtTokenInterceptor; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _src_app_services_authorization_authorization_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @src/app/services/authorization/authorization.service */ "./src/app/services/authorization/authorization.service.ts");
/* harmony import */ var _src_app_services_user_user_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @src/app/services/user/user.service */ "./src/app/services/user/user.service.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _src_app_store_modules_user_user_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @src/app/store/modules/user/user.actions */ "./src/app/store/modules/user/user.actions.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var JwtTokenInterceptor = /** @class */ (function () {
    function JwtTokenInterceptor(store, authorizationService, userService, http) {
        this.store = store;
        this.authorizationService = authorizationService;
        this.userService = userService;
        this.http = http;
    }
    JwtTokenInterceptor.prototype.intercept = function (req, next) {
        var accessToken = this.authorizationService.getAccessToken();
        this.store.dispatch(new _src_app_store_modules_user_user_actions__WEBPACK_IMPORTED_MODULE_5__["CheckUserToken"]());
        var authReq = !!accessToken
            ? req.clone({
                setHeaders: { Authorization: 'Bearer ' + accessToken }
            })
            : req;
        return next.handle(authReq);
    };
    JwtTokenInterceptor.ctorParameters = function () { return [
        { type: _ngrx_store__WEBPACK_IMPORTED_MODULE_1__["Store"] },
        { type: _src_app_services_authorization_authorization_service__WEBPACK_IMPORTED_MODULE_2__["AuthorizationService"] },
        { type: _src_app_services_user_user_service__WEBPACK_IMPORTED_MODULE_3__["UserService"] },
        { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"] }
    ]; };
    JwtTokenInterceptor = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_ngrx_store__WEBPACK_IMPORTED_MODULE_1__["Store"],
            _src_app_services_authorization_authorization_service__WEBPACK_IMPORTED_MODULE_2__["AuthorizationService"],
            _src_app_services_user_user_service__WEBPACK_IMPORTED_MODULE_3__["UserService"],
            _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"]])
    ], JwtTokenInterceptor);
    return JwtTokenInterceptor;
}());



/***/ }),

/***/ "./src/app/pages/teacher/recordings/recording-status.ts":
/*!**************************************************************!*\
  !*** ./src/app/pages/teacher/recordings/recording-status.ts ***!
  \**************************************************************/
/*! exports provided: RecordingStatus, BlobStatus */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RecordingStatus", function() { return RecordingStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BlobStatus", function() { return BlobStatus; });
var RecordingStatus;
(function (RecordingStatus) {
    RecordingStatus["RECORDING"] = "recording";
    RecordingStatus["UPLOADING"] = "uploading";
    RecordingStatus["UPLOADED"] = "uploaded";
    RecordingStatus["FAILED"] = "failed";
    RecordingStatus["DELETED"] = "deleted";
    RecordingStatus["PROCESSING"] = "processing";
    RecordingStatus["PUBLISHED"] = "published";
})(RecordingStatus || (RecordingStatus = {}));
var BlobStatus;
(function (BlobStatus) {
    BlobStatus["SAVED"] = "saved";
    BlobStatus["UPLOADING"] = "uploading";
    BlobStatus["UPLOADED"] = "uploaded";
})(BlobStatus || (BlobStatus = {}));


/***/ }),

/***/ "./src/app/route-names.ts":
/*!********************************!*\
  !*** ./src/app/route-names.ts ***!
  \********************************/
/*! exports provided: jIWebsite, ExternalRouteNames, RouteNames, TeacherStepOne, TeacherStepTwo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "jIWebsite", function() { return jIWebsite; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExternalRouteNames", function() { return ExternalRouteNames; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RouteNames", function() { return RouteNames; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TeacherStepOne", function() { return TeacherStepOne; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TeacherStepTwo", function() { return TeacherStepTwo; });
var jIWebsite = 'https://journeyinto.com';
var ExternalRouteNames;
(function (ExternalRouteNames) {
    ExternalRouteNames["about"] = "https://journeyinto.com/about";
    ExternalRouteNames["howto"] = "https://journeyinto.com/howto";
    ExternalRouteNames["tnc"] = "https://journeyinto.com/termsandconditions";
    ExternalRouteNames["privacy"] = "https://journeyinto.com/privacypolicy";
})(ExternalRouteNames || (ExternalRouteNames = {}));
var RouteNames;
(function (RouteNames) {
    RouteNames["notFound"] = "404";
    RouteNames["account"] = "account";
    RouteNames["all"] = "all";
    RouteNames["bookings"] = "bookings";
    RouteNames["calendar"] = "calendar";
    RouteNames["editAudio"] = "edit-audio";
    RouteNames["editRecording"] = "edit-recording";
    RouteNames["editProfile"] = "edit-profile";
    RouteNames["resetPassword"] = "reset-password";
    RouteNames["login"] = "login";
    RouteNames["list"] = "list";
    RouteNames["myPractice"] = "my-practice";
    RouteNames["new"] = "new";
    RouteNames["newSlot"] = "new-slot";
    RouteNames["notifications"] = "notifications";
    RouteNames["onboarding"] = "onboarding";
    RouteNames["recordings"] = "recordings";
    RouteNames["poses"] = "postures";
    RouteNames["profile"] = "profile";
    RouteNames["profileEdit"] = "profile-edit";
    RouteNames["profileView"] = "profile-view";
    RouteNames["signup"] = "signup";
    RouteNames["stepOne"] = "step-one";
    RouteNames["stepTwo"] = "step-two";
    RouteNames["student"] = "student";
    RouteNames["students"] = "students";
    RouteNames["subscription"] = "subscription";
    RouteNames["teacher"] = "teacher";
    RouteNames["teachers"] = "teachers";
    RouteNames["addClass"] = "add-class";
})(RouteNames || (RouteNames = {}));
var TeacherStepOne = ['/', RouteNames.onboarding, RouteNames.teacher, RouteNames.stepOne];
var TeacherStepTwo = ['/', RouteNames.onboarding, RouteNames.teacher, RouteNames.stepTwo];


/***/ }),

/***/ "./src/app/services/api.service.interface.ts":
/*!***************************************************!*\
  !*** ./src/app/services/api.service.interface.ts ***!
  \***************************************************/
/*! exports provided: RequestStatus */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RequestStatus", function() { return RequestStatus; });
var RequestStatus;
(function (RequestStatus) {
    RequestStatus["pending"] = "pending";
    RequestStatus["success"] = "success";
    RequestStatus["failure"] = "failure";
})(RequestStatus || (RequestStatus = {}));


/***/ }),

/***/ "./src/app/services/api.service.ts":
/*!*****************************************!*\
  !*** ./src/app/services/api.service.ts ***!
  \*****************************************/
/*! exports provided: ApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ApiService", function() { return ApiService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _src_environments_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @src/environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");



var ApiService = /** @class */ (function () {
    function ApiService(http, store) {
        this.http = http;
        this.store = store;
        // Api base url
        this.BASE_URL = _src_environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].apiUrl + "/" + _src_environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].apiVersion;
        this.API_URL = "" + _src_environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].apiUrl;
    }
    ApiService.ctorParameters = function () { return [
        { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"] },
        { type: _ngrx_store__WEBPACK_IMPORTED_MODULE_2__["Store"] }
    ]; };
    return ApiService;
}());



/***/ }),

/***/ "./src/app/services/audio/audio-recording.service.ts":
/*!***********************************************************!*\
  !*** ./src/app/services/audio/audio-recording.service.ts ***!
  \***********************************************************/
/*! exports provided: AudioRecordingService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AudioRecordingService", function() { return AudioRecordingService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var recordrtc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recordrtc */ "./node_modules/recordrtc/RecordRTC.js");
/* harmony import */ var recordrtc__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(recordrtc__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _src_app_store_modules_recording_recording_selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @src/app/store/modules/recording/recording.selectors */ "./src/app/store/modules/recording/recording.selectors.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../api.service */ "./src/app/services/api.service.ts");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _src_app_store_modules_offline_detection_offline_detection_selectors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @src/app/store/modules/offline-detection/offline-detection.selectors */ "./src/app/store/modules/offline-detection/offline-detection.selectors.ts");
/* harmony import */ var _src_app_store_modules_audio_recording_audio_recording_actions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @src/app/store/modules/audio-recording/audio-recording.actions */ "./src/app/store/modules/audio-recording/audio-recording.actions.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _local_db_dexie_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../local-db/dexie.service */ "./src/app/services/local-db/dexie.service.ts");
/* harmony import */ var _src_app_pages_teacher_recordings_recording_status__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @src/app/pages/teacher/recordings/recording-status */ "./src/app/pages/teacher/recordings/recording-status.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _utils_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utils.service */ "./src/app/services/utils.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};














var AudioRecordingService = /** @class */ (function (_super) {
    __extends(AudioRecordingService, _super);
    function AudioRecordingService(store, http, dexieService, utilsService) {
        var _this = _super.call(this, http, store) || this;
        _this.store = store;
        _this.http = http;
        _this.dexieService = dexieService;
        _this.utilsService = utilsService;
        _this._recorded = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
        _this._recordingDone = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
        _this._recordingTime = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
        _this._recordingFailed = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
        _this.isAppOnline$ = _this.store.select(_src_app_store_modules_offline_detection_offline_detection_selectors__WEBPACK_IMPORTED_MODULE_7__["getIsOnline"]);
        _this.recordings$ = _this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_6__["select"])(_src_app_store_modules_recording_recording_selectors__WEBPACK_IMPORTED_MODULE_3__["selectRecordings"]));
        _this.recordings = null;
        _this.blobsUploaded = [];
        _this.dbBlobsCount = 0;
        _this.log('INIT audio recording!!', dexieService);
        // make sure database exists and is initiated
        _this.initDatabase();
        // keep checking if we're online/offline
        _this.initOnlineCheck();
        // check which audio input/output devices we've got
        _this.initDevices();
        _this.test();
        _this.initRecordingSub();
        _this.getBlobsCount();
        return _this;
    }
    AudioRecordingService.prototype.initRecordingSub = function () {
        var _this = this;
        this.recordings$
            .pipe(
        // once the recordings array is not null anymore, stop the subscription
        Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["takeWhile"])(function () { return _this.recordings == null; }))
            .subscribe(function (_a) {
            var recordings = _a.recordings;
            _this.log('GOT SERVICE RECORDINGS', recordings);
            if (recordings && Array.isArray(recordings)) {
                _this.recordings = recordings;
                _this.doRecordingActionsCheck(true);
            }
        });
    };
    AudioRecordingService.prototype.test = function () {
        var _this = this;
        this.log('TEST START!!!!!!, check local database blobs', this.table, this.recordingStatusTable);
        this.table.each(function (blobData) {
            _this.log('BLOBBBBB TESTING ===: ', blobData);
        });
        this.recordingStatusTable.each(function (rec) {
            _this.log('RECORDING TESTING ===: ', rec);
        });
    };
    AudioRecordingService.prototype.initDatabase = function () {
        this.log('INIT DATABASE');
        this.table = this.dexieService.table('jirecordings');
        this.recordingStatusTable = this.dexieService.table('jirecordingstatus');
    };
    AudioRecordingService.prototype.initDevices = function () {
        var _this = this;
        var browser = navigator;
        var self = this;
        // this.log('navigator', navigator);
        this.log('browser', browser);
        if (!navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices) {
            this.log('enumerateDevices() not supported.');
            // TODO: IOS https://webrtchacks.com/guide-to-safari-webrtc/
            return;
        }
        // const AudioContext = window['AudioContext'] || window['webkitAudioContext'] || false;
        // if (AudioContext) {
        //   const audioContext = new AudioContext;
        //   this.log('AUDIO CONTEXT', audioContext);
        // }
        this.log('MEDIA DEVICES OBJ ===>', browser.mediaDevices);
        browser.mediaDevices.enumerateDevices()
            .then(function (deviceInfo) { return _this.gotDevices(deviceInfo); })
            .catch(function (err) {
            _this.log('No media devices detected', err);
        });
    };
    AudioRecordingService.prototype.gotDevices = function (deviceInfos) {
        // this.log('GOT DEVICES', deviceInfos);
        for (var i = 0; i !== deviceInfos.length; ++i) {
            var deviceInfo = deviceInfos[i];
            if (deviceInfo.kind === 'audioinput') {
                // this.log('input', deviceInfo.toJSON());
            }
            else if (deviceInfo.kind === 'audiooutput') {
                // this.log('output', deviceInfo.toJSON());
            }
        }
    };
    AudioRecordingService.prototype.getRecordingDone = function () {
        return this._recordingDone.asObservable();
    };
    AudioRecordingService.prototype.getRecordedTime = function () {
        return this._recordingTime.asObservable();
    };
    AudioRecordingService.prototype.recordingFailed = function () {
        return this._recordingFailed.asObservable();
    };
    AudioRecordingService.prototype.initOnlineCheck = function () {
        var _this = this;
        var self = this;
        this.isAppOnline$
            .subscribe(function (isOnline) {
            _this.isOnline = isOnline;
            if (isOnline) {
                self.log('XXXXXXXXXXX we are online again!');
                setTimeout(function () {
                    self.log('doRecordingActionsCheck');
                    self.doRecordingActionsCheck();
                }, 3);
            }
        });
    };
    AudioRecordingService.prototype.doRecordingActionsCheck = function (finish) {
        var _this = this;
        if (finish === void 0) { finish = false; }
        if (!finish) {
            this.log('CHECK IF WE NEED TO UPLOAD ANYTHING');
            // check if we need to create a recording
            this.uploadBlobs();
            // and also make sure we don't have any accidental items left over
            this.resetBlobUploads(null);
        }
        else {
            this.log('CHECK IF THERE ARE RECORDINGS TO FINISH');
            // now, we got the recordings.. we check agains all the recordings that are in status RECORDING
            // we check whether there is
            this.recordings
                .filter(function (rec) { return rec.status === _src_app_pages_teacher_recordings_recording_status__WEBPACK_IMPORTED_MODULE_11__["RecordingStatus"].RECORDING; })
                .map(function (recording) {
                _this.finishTableRecording(recording.unique_id);
            });
        }
        // only do this if we're actually recording
        // do we already have a current recording? if not lets create one
        // this.store.dispatch(new UploadRecordingRequestAction());
        // check if we need to finish off any recordings
        // this.store.dispatch(new FinishRecordingRequestAction());
    };
    AudioRecordingService.prototype.startRecording = function (uniqueId) {
        var _this = this;
        this.log('audio start recording: ', uniqueId);
        this.recordingId = uniqueId;
        this.initTableRecording();
        // actually record stuff
        // we're already recording, why the hell are we here?
        if (this.recorder) {
            return;
        }
        this._recordingTime.next('00:00:00');
        var browser = navigator;
        browser.getUserMedia =
            browser.getUserMedia ||
                browser.webkitGetUserMedia ||
                browser.mozGetUserMedia ||
                browser.msGetUserMedia;
        // this.log('Getusermedia ' + !!browser.getUserMedia);
        // this.log('mediaDevices ' + !!browser.mediaDevices);
        browser.mediaDevices.getUserMedia({ audio: true })
            .then(function (s) {
            _this.log('stream?', s);
            _this.stream = s;
            _this.record();
        })
            .catch(function (error) {
            _this.log('error recording: ', error);
            _this._recordingFailed.next();
        });
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])({ uniqueId: uniqueId });
    };
    AudioRecordingService.prototype.initTableRecording = function () {
        var _this = this;
        this.recordingStatusTable.add({
            recordingId: this.recordingId
        })
            .then(function (rec) {
            _this.log('ADDED!!!', rec);
        })
            .catch(function (err) {
            _this.log('ERRORRR!!!', err);
        });
    };
    AudioRecordingService.prototype.finishTableRecording = function (uniqueId) {
        var _this = this;
        if (uniqueId) {
            this.log('FINSIHTABLERECORDING!!!!!!!!', uniqueId);
            this.recordingStatusTable
                .where('recordingId')
                .equals(uniqueId)
                .first()
                .then(function (filtered) {
                if (filtered) {
                    setTimeout(function () {
                        _this.log('DISPATCH REQUEST TO FINISH RECORDING');
                        _this.store.dispatch(new _src_app_store_modules_audio_recording_audio_recording_actions__WEBPACK_IMPORTED_MODULE_8__["FinishRecordingRequestAction"](uniqueId));
                    }, 1);
                }
                else {
                    _this.log('NO RESULTS...');
                }
            });
        }
    };
    AudioRecordingService.prototype.deleteDbRecording = function (uniqueId) {
        var _this = this;
        this.recordingStatusTable
            .where('recordingId')
            .equals(uniqueId)
            .delete()
            .then(function (deleteCount) { return _this.log("Deleted " + deleteCount + " entries"); });
    };
    AudioRecordingService.prototype.doRecordBlob = function (blob) {
        this.log('doRecordBlob', blob);
        var self = this;
        this.saveBlob(blob, new Date().getTime()).subscribe(function (blobData) {
            self.log('================> BLOB SAVED');
            self.getBlobsCount();
            if (self.isOnline) {
                self.log('Dispatch 1 UploadRecordingBlobRequestAction', blobData);
                self.store.dispatch(new _src_app_store_modules_audio_recording_audio_recording_actions__WEBPACK_IMPORTED_MODULE_8__["UploadRecordingBlobRequestAction"](blobData));
            }
        });
    };
    AudioRecordingService.prototype.getBlobsCount = function () {
        var _this = this;
        if (this.recordingId) {
            this.log('GET BLOBS COUNT');
            this.table
                .where('recordingId')
                .equals(this.recordingId)
                .count()
                .then(function (count) { return (_this.dbBlobsCount = count); });
        }
    };
    // actually record audio in the browser
    AudioRecordingService.prototype.record = function () {
        var _this = this;
        this.log('actually start the recorder');
        var self = this;
        // configure recorder
        this.recorder = new recordrtc__WEBPACK_IMPORTED_MODULE_1__["StereoAudioRecorder"](this.stream, {
            type: 'audio',
            mimeType: 'audio/wav',
            numberOfAudioChannels: 2,
            sampleRate: 44100,
            audioBitsPerSecond: 128000,
            // From the spec: This value controls how frequently the audioprocess event is
            // dispatched and how many sample-frames need to be processed each call.
            // Lower values for buffer size will result in a lower (better) latency.
            // Higher values will be necessary to avoid audio breakup and glitches
            // bug: how to minimize wav size?
            // workaround? obviously ffmpeg!
            // The size of the buffer (in sample-frames) which needs to
            // be processed each time onprocessaudio is called.
            // Legal values are (256, 512, 1024, 2048, 4096, 8192, 16384).
            bufferSize: 16384,
            timeSlice: 1000,
            ondataavailable: function (blob) {
                self.log('ondataavailable start blob saving');
                self.doRecordBlob(blob);
            } // get intervals based blobs
        });
        // and start recording!
        this.recorder.record();
        // update time display
        this.startTime = moment__WEBPACK_IMPORTED_MODULE_2__();
        this.interval = setInterval(function () {
            var currentTime = moment__WEBPACK_IMPORTED_MODULE_2__();
            var diffTime = moment__WEBPACK_IMPORTED_MODULE_2__["duration"](currentTime.diff(_this.startTime));
            var time = _this.toString(diffTime.hours()) + ':' + _this.toString(diffTime.minutes()) + ':' + _this.toString(diffTime.seconds());
            _this._recordingTime.next(time);
        }, 1000);
        setTimeout(function () {
            _this.log('timeout end... we should check whether any blobs have been uploaded');
            if (!_this.blobsUploaded.length) {
                alert('mmmmm,... were not actually uploading any blobs...');
            }
            else {
                _this.log('were uploading blobs!!!');
            }
        }, 5000);
    };
    AudioRecordingService.prototype.saveBlob = function (blob, time) {
        var fileName = encodeURIComponent("audio-" + this.recordingId + "-" + time + ".wav");
        this.log('saveBlob file name: ', fileName);
        this.blobsUploaded.push(fileName);
        var newBlob = {
            blob: blob,
            fileName: fileName,
            recordingId: this.recordingId,
            status: _src_app_pages_teacher_recordings_recording_status__WEBPACK_IMPORTED_MODULE_11__["BlobStatus"].SAVED,
            time: time
        };
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["from"])(this.table.add(newBlob)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["map"])(function () { return newBlob; }));
    };
    // Check any 
    AudioRecordingService.prototype.uploadBlobs = function () {
        var self = this;
        // first, lets check all the blobs in the local databse
        if (this.isOnline) {
            this.log('start upload blobs --- get one at a time');
            // this.table.each(blob => {
            //   self.log('EACHBLOB, no difference', blob);
            // });
            // get one at a time
            this.table.where('status').equals(_src_app_pages_teacher_recordings_recording_status__WEBPACK_IMPORTED_MODULE_11__["BlobStatus"].SAVED).each(function (blobData) {
                self.log('********* ********* blobdata for upload? ', blobData, typeof blobData);
                setTimeout(function () {
                    self.store.dispatch(new _src_app_store_modules_audio_recording_audio_recording_actions__WEBPACK_IMPORTED_MODULE_8__["UploadRecordingBlobRequestAction"](blobData));
                }, 1);
            });
        }
        else {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(null);
        }
    };
    /**
     * This checks the local indexeddb for blobs that aren't uploaded yet
     * and if they have the correct status and the system is online
     * uploads them
     *
     * Called by the uploadRecordingBlobRequest Effect
     *
     * @param blobData (from indexeddb)
     */
    AudioRecordingService.prototype.uploadBlob = function (blobData) {
        var _this = this;
        this.log('upload file', blobData);
        var headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__["HttpHeaders"]();
        headers = headers.append('Content-Type', 'text/plain');
        headers = headers.append('X-Recording-Id', "" + blobData.recordingId);
        headers = headers.append('X-Recording-Name', "" + blobData.fileName);
        headers = headers.append('X-Recording-Blob-Id', "" + blobData.id);
        this.log('blobData.id: ', blobData.id);
        // update the table status
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["from"])(this.table.update(blobData.id, { status: _src_app_pages_teacher_recordings_recording_status__WEBPACK_IMPORTED_MODULE_11__["BlobStatus"].UPLOADING }))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["mergeMap"])(function () {
            _this.log('actually doing the post upload');
            // and actually start the upload
            return _this.http.post(_this.API_URL + "/upload-recordings", blobData.blob, { headers: headers });
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["catchError"])(function (err) {
            _this.log('ERROR UPLOADING THE RECORDING', err, err.message);
            if (err.message === 'DataError Failed to write blobs.') {
                _this.table.where('id').equals(blobData.id).delete();
            }
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["throwError"])(err);
        }));
    };
    /**
     * Once a blob has successfully uploaded, it can be deleted from the local database.
     * This is called from the uploadRecordingBlobSuccess Effect
     * @param blobId
     */
    AudioRecordingService.prototype.finishBlobUpload = function (blobId) {
        this.log('finishBlobUpload', blobId);
        if (blobId) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["from"])(this.table.delete(parseInt(blobId)));
        }
    };
    /**
     * resetBlobUpload
     */
    AudioRecordingService.prototype.resetBlobUploads = function (blobId) {
        var _this = this;
        if (blobId && !isNaN(blobId)) {
            this.log('resetBlobUploads: reset my blob with id ', blobId);
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["from"])(this.table.where('id').equals(parseInt(blobId)).modify({ status: _src_app_pages_teacher_recordings_recording_status__WEBPACK_IMPORTED_MODULE_11__["BlobStatus"].SAVED }));
        }
        else {
            this.log('resetBlobUploads: reset all, there is no blob id', blobId);
            setTimeout(function () { return _this.table.where('status').equals(_src_app_pages_teacher_recordings_recording_status__WEBPACK_IMPORTED_MODULE_11__["BlobStatus"].UPLOADING).modify({ status: _src_app_pages_teacher_recordings_recording_status__WEBPACK_IMPORTED_MODULE_11__["BlobStatus"].SAVED }); }, 1000);
            // return of('all')
            this.table.each(function (blob) {
                _this.log('resetBlobUploads: LOOKING AT EACH TABLE BIT', blob);
            });
            // we're only doing one at a time, so lets just reset all and try again to be on the save side
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])('all done');
        }
    };
    // audio-f3f012e5-55e7-4dcb-ad50-53208856751a-1578655284550.wav
    /**
     * This gets called after all blobs have been uploaded
     * It finishes off the recording
     * @param recordingId Unique id
     */
    AudioRecordingService.prototype.stopRecording = function (recordingId) {
        var self = this;
        this.log('stop the recording', recordingId);
        if (this.recorder) {
            this.recorder.stop(function (blob) {
                self.stopMedia();
                self._recordingDone.next();
                self.log('FINISH RECORDING? 2');
                self.finishTableRecording(recordingId);
            }, function () {
                self.stopMedia();
                self._recordingFailed.next();
            });
            // wait until all files are uploaded
            // mark recording as being completed
        }
    };
    // check if tehre are any blobs left of a specific recording
    AudioRecordingService.prototype.blobsLeft = function (recordingId) {
        var _this = this;
        var self = this;
        var dbLookup;
        this.log('blobsleft', recordingId);
        if (recordingId) {
            dbLookup = this.table.get({ recordingId: recordingId });
        }
        else {
            dbLookup = this.table.toArray();
        }
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["from"])(dbLookup).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__["map"])(function (blobData) {
            _this.log('blobData ');
            if (blobData == undefined
                || !blobData
                || (Array.isArray(blobData)
                    && blobData.length == 0)) {
                _this.log('no more items, lets finish this recording');
                return true;
            }
            else {
                _this.log('got items to upload, can not finish', _this.recordingId, recordingId);
                return false;
            }
        }));
    };
    AudioRecordingService.prototype.finishRecording = function (recordingId) {
        this.log('finishrecording', recordingId);
        if (this.isOnline) {
            this.log('yes finishrecording', recordingId);
            return this.http.patch(this.BASE_URL + "/recordings/file/" + recordingId + "/", { status: _src_app_pages_teacher_recordings_recording_status__WEBPACK_IMPORTED_MODULE_11__["RecordingStatus"].UPLOADED });
        }
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])({ /*SILENCE*/});
    };
    // this creates the inital recording entry in the database and returns the id
    AudioRecordingService.prototype.uploadRecording = function (curRecordingInfo) {
        this.log('uploadRecording');
        if (curRecordingInfo.uniqueId && !curRecordingInfo.entities) {
            // check if we currently have a unique id and NO ID
            return this.http.post(this.BASE_URL + "/recordings/record/", { unique_id: curRecordingInfo.uniqueId });
        }
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])({ /*Silence*/});
    };
    AudioRecordingService.prototype.abortRecording = function () {
        this.stopMedia();
        if (this.recordingId) {
            this.log('ABORT RECORDING');
            this.recordingStatusTable.delete(this.recordingId);
        }
    };
    AudioRecordingService.prototype.stopMedia = function () {
        this.log('stopMedia 1');
        if (this.recorder) {
            this.log('stopMedia 2');
            this.recorder = null;
            clearInterval(this.interval);
            this.startTime = null;
            if (this.stream) {
                this.stream.getAudioTracks().forEach(function (track) { return track.stop(); });
                this.stream = null;
            }
            // and make sure we've uploaded everything
            this.uploadBlobs();
        }
    };
    AudioRecordingService.prototype.toString = function (value) {
        var val = value;
        if (!value) {
            val = '00';
        }
        if (value < 10) {
            val = '0' + value;
        }
        return val;
    };
    AudioRecordingService.prototype.setRecordingFormState = function (form) {
        this.recordingForm = form;
    };
    AudioRecordingService.prototype.getRecordingFormState = function () {
        return this.recordingForm;
    };
    AudioRecordingService.prototype.log = function (text) {
        var _a;
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        (_a = this.utilsService).log.apply(_a, __spread([text, this.constructor.name], args));
    };
    AudioRecordingService.ctorParameters = function () { return [
        { type: _ngrx_store__WEBPACK_IMPORTED_MODULE_6__["Store"] },
        { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_9__["HttpClient"] },
        { type: _local_db_dexie_service__WEBPACK_IMPORTED_MODULE_10__["DexieService"] },
        { type: _utils_service__WEBPACK_IMPORTED_MODULE_13__["UtilsService"] }
    ]; };
    AudioRecordingService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({ providedIn: 'root' }),
        __metadata("design:paramtypes", [_ngrx_store__WEBPACK_IMPORTED_MODULE_6__["Store"],
            _angular_common_http__WEBPACK_IMPORTED_MODULE_9__["HttpClient"],
            _local_db_dexie_service__WEBPACK_IMPORTED_MODULE_10__["DexieService"],
            _utils_service__WEBPACK_IMPORTED_MODULE_13__["UtilsService"]])
    ], AudioRecordingService);
    return AudioRecordingService;
}(_api_service__WEBPACK_IMPORTED_MODULE_5__["ApiService"]));



/***/ }),

/***/ "./src/app/services/authentication/authentication.service.ts":
/*!*******************************************************************!*\
  !*** ./src/app/services/authentication/authentication.service.ts ***!
  \*******************************************************************/
/*! exports provided: AuthenticationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthenticationService", function() { return AuthenticationService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api.service */ "./src/app/services/api.service.ts");
/* harmony import */ var _src_app_services_authorization_authorization_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @src/app/services/authorization/authorization.service */ "./src/app/services/authorization/authorization.service.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var AuthenticationService = /** @class */ (function (_super) {
    __extends(AuthenticationService, _super);
    function AuthenticationService(authorizationService, store, http) {
        var _this = _super.call(this, http, store) || this;
        _this.authorizationService = authorizationService;
        _this.store = store;
        _this.http = http;
        return _this;
    }
    /**
     * Attempt to authenticate via email/password (basic)
     *
     * METHOD: POST
     * URL: /api/v1/auth
     *
     * @param credentials
     */
    AuthenticationService.prototype.attemptBasic = function (credentials) {
        return this.http.post(this.BASE_URL + "/rest-auth/login/", credentials);
    };
    AuthenticationService.prototype.refreshToken = function () {
        return this.http
            .post(this.BASE_URL + "/rest-auth/refresh/", {
            refresh: this.authorizationService.getRefreshToken()
        });
    };
    AuthenticationService.ctorParameters = function () { return [
        { type: _src_app_services_authorization_authorization_service__WEBPACK_IMPORTED_MODULE_2__["AuthorizationService"] },
        { type: _ngrx_store__WEBPACK_IMPORTED_MODULE_4__["Store"] },
        { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"] }
    ]; };
    AuthenticationService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_src_app_services_authorization_authorization_service__WEBPACK_IMPORTED_MODULE_2__["AuthorizationService"],
            _ngrx_store__WEBPACK_IMPORTED_MODULE_4__["Store"],
            _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"]])
    ], AuthenticationService);
    return AuthenticationService;
}(_api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"]));



/***/ }),

/***/ "./src/app/services/authorization/authorization.service.ts":
/*!*****************************************************************!*\
  !*** ./src/app/services/authorization/authorization.service.ts ***!
  \*****************************************************************/
/*! exports provided: AuthorizationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthorizationService", function() { return AuthorizationService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api.service */ "./src/app/services/api.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _auth0_angular_jwt__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @auth0/angular-jwt */ "./node_modules/@auth0/angular-jwt/index.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var helper = new _auth0_angular_jwt__WEBPACK_IMPORTED_MODULE_3__["JwtHelperService"]();
var AuthorizationService = /** @class */ (function (_super) {
    __extends(AuthorizationService, _super);
    function AuthorizationService() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        // Access and refresh tokens keys in local storage
        _this.accessTokenKey = 'access_token';
        _this.refreshTokenKey = 'refresh_token';
        // Errors
        _this.unauthorized$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        _this.forbidden$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        return _this;
    }
    /**
     * Get access token from local storage
     */
    AuthorizationService.prototype.getAccessToken = function () {
        return localStorage.getItem(this.accessTokenKey);
    };
    AuthorizationService.prototype.getCurrentUserId = function () {
        if (this.isAuthenticated()) {
            var token = this.getAccessToken();
            var decoded = helper.decodeToken(token);
            return decoded.user_id;
        }
        return false;
    };
    /**
     * Set access token to local storage
     */
    AuthorizationService.prototype.setAccessToken = function (token) {
        localStorage.setItem(this.accessTokenKey, token);
    };
    AuthorizationService.prototype.isTokenExpired = function () {
        return helper.isTokenExpired(this.getAccessToken());
    };
    /**
     * Destroy access token from local storage
     */
    AuthorizationService.prototype.destroyAccessToken = function () {
        localStorage.removeItem(this.accessTokenKey);
    };
    /**
     * Set refresh token to local storage
     */
    AuthorizationService.prototype.setRefreshToken = function (token) {
        localStorage.setItem(this.refreshTokenKey, token);
    };
    AuthorizationService.prototype.getRefreshToken = function () {
        return localStorage.getItem(this.refreshTokenKey);
    };
    /**
     * Destroy refresh token from local storage
     */
    AuthorizationService.prototype.destroyRefreshToken = function () {
        localStorage.removeItem(this.refreshTokenKey);
    };
    /**
     * Is user authenticated
     */
    AuthorizationService.prototype.isAuthenticated = function () {
        return Boolean(this.getAccessToken());
    };
    /**
     * Error 401 from interceptor
     *
     * @param event
     */
    AuthorizationService.prototype.onUnauthorizedError = function (event) {
        this.unauthorized$.next(event);
    };
    /**
     * Error 403 from interceptor
     * @param event
     */
    AuthorizationService.prototype.onForbiddenError = function (event) {
        this.forbidden$.next(event);
    };
    AuthorizationService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        })
    ], AuthorizationService);
    return AuthorizationService;
}(_api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"]));



/***/ }),

/***/ "./src/app/services/cards/cards.service.ts":
/*!*************************************************!*\
  !*** ./src/app/services/cards/cards.service.ts ***!
  \*************************************************/
/*! exports provided: CardsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardsService", function() { return CardsService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api.service */ "./src/app/services/api.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var CardsService = /** @class */ (function (_super) {
    __extends(CardsService, _super);
    function CardsService() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    CardsService.prototype.setStripeToken = function (payload) {
        var token = payload.token, accountMark = payload.accountMark;
        return this.http.post(this.BASE_URL + "/users/cards/", { token: token, is_default: accountMark });
    };
    CardsService.prototype.subscribeWithCard = function (payload) {
        var card_id = payload.card_id;
        return this.http.post(this.BASE_URL + "/users/cards/", { card_id: card_id });
    };
    CardsService.prototype.removeCard = function (cardId) {
        return this.http.delete(this.BASE_URL + "/users/cards/" + cardId + "/");
    };
    CardsService.prototype.makeDefaultCard = function (cardId) {
        return this.http.patch(this.BASE_URL + "/users/cards/" + cardId + "/", {});
    };
    CardsService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        })
    ], CardsService);
    return CardsService;
}(_api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"]));



/***/ }),

/***/ "./src/app/services/errors/errors.service.ts":
/*!***************************************************!*\
  !*** ./src/app/services/errors/errors.service.ts ***!
  \***************************************************/
/*! exports provided: ErrorsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ErrorsService", function() { return ErrorsService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var ErrorsService = /** @class */ (function () {
    function ErrorsService() {
        this.excludedErrorKeys = [
            'code'
        ];
        this.specialErrorMessages = {
            token: "This url seems to be expired. Please try and reset your password again by going to the login page."
        };
        // Errors
        this.serverError$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
    }
    /**
     * Error 500 from interceptor
     *
     * @param event
     */
    ErrorsService.prototype.onServerError = function (event) {
        this.serverError$.next(event);
    };
    ErrorsService.prototype.processError = function (event) {
        if (event.error) {
            if (typeof event.error === 'string') {
                return event.error;
            }
            else {
                var errorsString = this.getErrorObj(event.error);
                return errorsString;
            }
        }
        return 'Something went wrong';
    };
    ErrorsService.prototype.getErrorObj = function (errorObj) {
        var _this = this;
        var errorsArray = [];
        var errorKeys = Object.keys(errorObj);
        errorKeys.map(function (errorKey) {
            if (!_this.excludedErrorKeys.includes(errorKey)) {
                if (_this.specialErrorMessages[errorKey]) {
                    errorsArray.push(_this.specialErrorMessages[errorKey]);
                }
                else {
                    var error = errorObj[errorKey];
                    if (typeof error === 'string') {
                        errorsArray.push(error);
                    }
                    else if (Array.isArray(error)) {
                        error.map(function (subError) {
                            errorsArray.push(subError);
                        });
                    }
                    else if (error instanceof Object) {
                        errorsArray.push(_this.getErrorObj(error));
                    }
                }
            }
        });
        var errorsString = errorsArray.join('<br>');
        return errorsString;
    };
    ErrorsService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        })
    ], ErrorsService);
    return ErrorsService;
}());



/***/ }),

/***/ "./src/app/services/forgotten-password/forgotten-password.service.ts":
/*!***************************************************************************!*\
  !*** ./src/app/services/forgotten-password/forgotten-password.service.ts ***!
  \***************************************************************************/
/*! exports provided: ForgottenPasswordService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ForgottenPasswordService", function() { return ForgottenPasswordService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api.service */ "./src/app/services/api.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var ForgottenPasswordService = /** @class */ (function (_super) {
    __extends(ForgottenPasswordService, _super);
    function ForgottenPasswordService() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    /**
     * Attempt to remind password
     *
     * METHOD: POST
     * URL:
     */
    ForgottenPasswordService.prototype.attempt = function (data) {
        return this.http.post(this.BASE_URL + '/rest-auth/password/reset/', data);
    };
    /**
     * Reset Password
     *
     * METHOD: POST
     */
    ForgottenPasswordService.prototype.reset = function (data) {
        return this.http.post(this.BASE_URL + '/rest-auth/password/reset/confirm/', data);
    };
    ForgottenPasswordService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        })
    ], ForgottenPasswordService);
    return ForgottenPasswordService;
}(_api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"]));



/***/ }),

/***/ "./src/app/services/index.ts":
/*!***********************************!*\
  !*** ./src/app/services/index.ts ***!
  \***********************************/
/*! exports provided: AuthenticationService, AuthorizationService, SignUpService, ForgottenPasswordService, UserService, ErrorsService, SpinnerOverlayService, OnboardingService, TeacherService, AudioRecordingService, StripeService, VideoService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _authentication_authentication_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./authentication/authentication.service */ "./src/app/services/authentication/authentication.service.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AuthenticationService", function() { return _authentication_authentication_service__WEBPACK_IMPORTED_MODULE_0__["AuthenticationService"]; });

/* harmony import */ var _authorization_authorization_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./authorization/authorization.service */ "./src/app/services/authorization/authorization.service.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AuthorizationService", function() { return _authorization_authorization_service__WEBPACK_IMPORTED_MODULE_1__["AuthorizationService"]; });

/* harmony import */ var _sign_up_sign_up_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sign-up/sign-up.service */ "./src/app/services/sign-up/sign-up.service.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SignUpService", function() { return _sign_up_sign_up_service__WEBPACK_IMPORTED_MODULE_2__["SignUpService"]; });

/* harmony import */ var _forgotten_password_forgotten_password_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./forgotten-password/forgotten-password.service */ "./src/app/services/forgotten-password/forgotten-password.service.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ForgottenPasswordService", function() { return _forgotten_password_forgotten_password_service__WEBPACK_IMPORTED_MODULE_3__["ForgottenPasswordService"]; });

/* harmony import */ var _user_user_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./user/user.service */ "./src/app/services/user/user.service.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UserService", function() { return _user_user_service__WEBPACK_IMPORTED_MODULE_4__["UserService"]; });

/* harmony import */ var _errors_errors_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./errors/errors.service */ "./src/app/services/errors/errors.service.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ErrorsService", function() { return _errors_errors_service__WEBPACK_IMPORTED_MODULE_5__["ErrorsService"]; });

/* harmony import */ var _spinner_overlay_spinner_overlay_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./spinner-overlay/spinner-overlay.service */ "./src/app/services/spinner-overlay/spinner-overlay.service.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SpinnerOverlayService", function() { return _spinner_overlay_spinner_overlay_service__WEBPACK_IMPORTED_MODULE_6__["SpinnerOverlayService"]; });

/* harmony import */ var _onboarding_onboarding_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./onboarding/onboarding.service */ "./src/app/services/onboarding/onboarding.service.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "OnboardingService", function() { return _onboarding_onboarding_service__WEBPACK_IMPORTED_MODULE_7__["OnboardingService"]; });

/* harmony import */ var _teacher_teacher_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./teacher/teacher.service */ "./src/app/services/teacher/teacher.service.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TeacherService", function() { return _teacher_teacher_service__WEBPACK_IMPORTED_MODULE_8__["TeacherService"]; });

/* harmony import */ var _audio_audio_recording_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./audio/audio-recording.service */ "./src/app/services/audio/audio-recording.service.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AudioRecordingService", function() { return _audio_audio_recording_service__WEBPACK_IMPORTED_MODULE_9__["AudioRecordingService"]; });

/* harmony import */ var _stripe_stripe_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./stripe/stripe.service */ "./src/app/services/stripe/stripe.service.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "StripeService", function() { return _stripe_stripe_service__WEBPACK_IMPORTED_MODULE_10__["StripeService"]; });

/* harmony import */ var _video_video_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./video/video.service */ "./src/app/services/video/video.service.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "VideoService", function() { return _video_video_service__WEBPACK_IMPORTED_MODULE_11__["VideoService"]; });















/***/ }),

/***/ "./src/app/services/local-db/dexie.service.ts":
/*!****************************************************!*\
  !*** ./src/app/services/local-db/dexie.service.ts ***!
  \****************************************************/
/*! exports provided: DexieService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DexieService", function() { return DexieService; });
/* harmony import */ var dexie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dexie */ "./node_modules/dexie/dist/dexie.es.js");
/* harmony import */ var _utils_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.service */ "./src/app/services/utils.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};


var DexieService = /** @class */ (function (_super) {
    __extends(DexieService, _super);
    function DexieService() {
        var _this = _super.call(this, 'journeyinto') || this;
        _this.version(1).stores({
            jirecordings: '++id, status, recordingId, time',
            jirecordingstatus: '++id, recordingId&'
        });
        // this.version(2).stores({
        //   jirecordings: '++id, status, recordingId, time',
        //   jirecordingstatus: 'recordingId&, status'
        // });
        _this.open().then(function (db) {
            // Database opened successfully
            _this.log('DEXIE database open!', db);
        }).catch(function (err) {
            // Error occurred
            _this.log('database NOT open! error !!!', err);
        });
        return _this;
    }
    DexieService.prototype.persist = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.log('PERSIST FUNC', navigator.storage);
                        return [4 /*yield*/, navigator.storage];
                    case 1: return [2 /*return*/, (_a.sent()) && navigator.storage.persist &&
                            navigator.storage.persist()];
                }
            });
        });
    };
    DexieService.prototype.isStoragePersisted = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, navigator.storage];
                    case 1: return [2 /*return*/, (_a.sent()) && navigator.storage.persisted &&
                            navigator.storage.persisted()];
                }
            });
        });
    };
    DexieService.prototype.showEstimatedQuota = function () {
        return __awaiter(this, void 0, void 0, function () {
            var estimation;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(navigator.storage && navigator.storage.estimate)) return [3 /*break*/, 2];
                        return [4 /*yield*/, navigator.storage.estimate()];
                    case 1:
                        estimation = _a.sent();
                        this.log("Quota: " + estimation.quota);
                        this.log("Usage: " + estimation.usage);
                        return [3 /*break*/, 3];
                    case 2:
                        console.error('StorageManager not found');
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    DexieService.prototype.tryPersistWithoutPromtingUser = function () {
        return __awaiter(this, void 0, void 0, function () {
            var persisted, permission;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.log('NAVIGATOR? ', navigator);
                        if (!navigator.storage || !navigator.storage.persisted) {
                            return [2 /*return*/, 'never'];
                        }
                        return [4 /*yield*/, navigator.storage.persisted()];
                    case 1:
                        persisted = _a.sent();
                        if (persisted) {
                            return [2 /*return*/, 'persisted'];
                        }
                        if (!navigator.permissions || !navigator.permissions.query) {
                            return [2 /*return*/, 'prompt']; // It MAY be successful to prompt. Don't know.
                        }
                        return [4 /*yield*/, navigator.permissions.query({
                                name: 'persistent-storage'
                            })];
                    case 2:
                        permission = _a.sent();
                        if (!(permission.status === 'granted')) return [3 /*break*/, 4];
                        return [4 /*yield*/, navigator.storage.persist()];
                    case 3:
                        persisted = _a.sent();
                        if (persisted) {
                            return [2 /*return*/, 'persisted'];
                        }
                        else {
                            throw new Error('Failed to persist');
                        }
                        _a.label = 4;
                    case 4:
                        if (permission.status === 'prompt') {
                            return [2 /*return*/, 'prompt'];
                        }
                        return [2 /*return*/, 'never'];
                }
            });
        });
    };
    DexieService.prototype.log = function (text) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        var utilsService = new _utils_service__WEBPACK_IMPORTED_MODULE_1__["UtilsService"]();
        utilsService.log.apply(utilsService, __spread([text, this.constructor.name], args));
    };
    return DexieService;
}(dexie__WEBPACK_IMPORTED_MODULE_0__["default"]));



/***/ }),

/***/ "./src/app/services/notification/notification.service.ts":
/*!***************************************************************!*\
  !*** ./src/app/services/notification/notification.service.ts ***!
  \***************************************************************/
/*! exports provided: NotificationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotificationService", function() { return NotificationService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api.service */ "./src/app/services/api.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var NotificationService = /** @class */ (function (_super) {
    __extends(NotificationService, _super);
    function NotificationService() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    /**
     * Get teachers list
     *
     * METHOD: GET
     * URL:
     */
    NotificationService.prototype.list = function () {
        return this.http.get(this.BASE_URL + '/notifications/');
    };
    NotificationService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        })
    ], NotificationService);
    return NotificationService;
}(_api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"]));



/***/ }),

/***/ "./src/app/services/onboarding/onboarding.service.ts":
/*!***********************************************************!*\
  !*** ./src/app/services/onboarding/onboarding.service.ts ***!
  \***********************************************************/
/*! exports provided: OnboardingService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OnboardingService", function() { return OnboardingService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api.service */ "./src/app/services/api.service.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



var OnboardingService = /** @class */ (function (_super) {
    __extends(OnboardingService, _super);
    function OnboardingService() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    /**
     * Store student step one
     *
     * METHOD: POST
     * URL: /onboarding/student/step-one
     */
    OnboardingService.prototype.studentStepOne = function (payload) {
        var slug = payload.teacherSlug;
        return this.http.post(this.BASE_URL + "/users/creator/" + slug + "/connect/", {});
    };
    /**
     * Store teacher step one
     *
     * METHOD: POST
     * URL: /onboarding/teacher/step-one
     */
    OnboardingService.prototype.teacherStepOne = function (payload) {
        var headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]();
        headers.append('Content-Type', 'multipart/form-data');
        var httpOptions = { headers: headers };
        return this.http.post(this.BASE_URL + '/users/creator/', payload, httpOptions);
    };
    /**
     * Store teacher step two
     *
     * METHOD: POST
     * URL: /onboarding/teacher/step-two
     */
    OnboardingService.prototype.teacherStepTwo = function (payload) {
        return this.http.post(this.BASE_URL + '/users/creator/', payload);
    };
    OnboardingService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        })
    ], OnboardingService);
    return OnboardingService;
}(_api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"]));



/***/ }),

/***/ "./src/app/services/poses/poses.service.ts":
/*!*************************************************!*\
  !*** ./src/app/services/poses/poses.service.ts ***!
  \*************************************************/
/*! exports provided: PosesService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PosesService", function() { return PosesService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api.service */ "./src/app/services/api.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var PosesService = /** @class */ (function (_super) {
    __extends(PosesService, _super);
    function PosesService() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    PosesService.prototype.list = function () {
        return this.http.get(this.BASE_URL + '/poses/');
    };
    PosesService.prototype.getBySlug = function (slug) {
        return this.http.get(this.BASE_URL + "/poses/" + slug);
    };
    PosesService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        })
    ], PosesService);
    return PosesService;
}(_api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"]));



/***/ }),

/***/ "./src/app/services/recording/recording.service.ts":
/*!*********************************************************!*\
  !*** ./src/app/services/recording/recording.service.ts ***!
  \*********************************************************/
/*! exports provided: RecordingService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RecordingService", function() { return RecordingService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api.service */ "./src/app/services/api.service.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



var RecordingService = /** @class */ (function (_super) {
    __extends(RecordingService, _super);
    function RecordingService() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    RecordingService.prototype.getRecordingBySlug = function (body) {
        var headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]();
        headers.append("Content-Type", "text/plain");
        return this.http.get(this.BASE_URL + ("/recordings/view/" + body.creatorslug + "/" + body.slug + "/"), { headers: headers });
    };
    /* Get recordings for logged in teacher */
    RecordingService.prototype.list = function () {
        var headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]();
        headers.append("Content-Type", "text/plain");
        return this.http.get(this.BASE_URL + "/recordings/list/", {
            headers: headers,
        });
    };
    RecordingService.prototype.getRecordingsForCurrentUser = function () {
        var headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]();
        headers.append("Content-Type", "text/plain");
        return this.http.get(this.BASE_URL + "/users/library/", {
            headers: headers,
        });
    };
    RecordingService.prototype.updateRecording = function (id, body) {
        var formData = new FormData();
        for (var field in body) {
            if (body[field]) {
                formData.append(field, body[field]);
            }
        }
        return this.http.patch(this.BASE_URL + "/recordings/record/" + id + "/", formData);
    };
    RecordingService.prototype.updateRecordingPoses = function (id, body) {
        var headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]();
        headers.append("Content-Type", 'multipart/form-data');
        return this.http.patch(this.BASE_URL + "/recordings/record/" + id + "/", body, {
            headers: headers
        });
    };
    RecordingService.prototype.deleteRecording = function (id) {
        return this.http.delete(this.BASE_URL + "/recordings/record/" + id + "/");
    };
    RecordingService.prototype.changeRecordingStatus = function (payload) {
        var formData = new FormData();
        formData.append("status", payload.status.charAt(0).toUpperCase() + payload.status.slice(1));
        return this.http.patch(this.BASE_URL + "/recordings/record/" + payload.id + "/", formData);
    };
    RecordingService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: "root",
        })
    ], RecordingService);
    return RecordingService;
}(_api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"]));



/***/ }),

/***/ "./src/app/services/sign-up/sign-up.service.ts":
/*!*****************************************************!*\
  !*** ./src/app/services/sign-up/sign-up.service.ts ***!
  \*****************************************************/
/*! exports provided: SignUpService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SignUpService", function() { return SignUpService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api.service */ "./src/app/services/api.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var SignUpService = /** @class */ (function (_super) {
    __extends(SignUpService, _super);
    function SignUpService() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    /**
     * Attempt to sign up
     *
     * METHOD: POST
     * URL: /rest-auth/registration/
     */
    SignUpService.prototype.attempt = function (data) {
        var email = data.email, first_name = data.first_name, last_name = data.last_name, marketing = data.marketing, telephone = data.telephone, view_status = data.view_status, password = data.password;
        var body = {
            email: email,
            first_name: first_name,
            last_name: last_name,
            marketing: marketing,
            password1: password,
            password2: password,
            telephone: telephone,
            view_status: view_status
        };
        return this.http.post(this.BASE_URL + '/rest-auth/registration/', body);
    };
    SignUpService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        })
    ], SignUpService);
    return SignUpService;
}(_api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"]));



/***/ }),

/***/ "./src/app/services/spinner-overlay/spinner-overlay.service.ts":
/*!*********************************************************************!*\
  !*** ./src/app/services/spinner-overlay/spinner-overlay.service.ts ***!
  \*********************************************************************/
/*! exports provided: SpinnerOverlayService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SpinnerOverlayService", function() { return SpinnerOverlayService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/cdk/overlay */ "./node_modules/@angular/cdk/esm5/overlay.es5.js");
/* harmony import */ var _angular_cdk_portal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/cdk/portal */ "./node_modules/@angular/cdk/esm5/portal.es5.js");
/* harmony import */ var _src_app_components_spinner_overlay_spinner_overlay_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @src/app/components/spinner-overlay/spinner-overlay.component */ "./src/app/components/spinner-overlay/spinner-overlay.component.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _utils_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils.service */ "./src/app/services/utils.service.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};






var SpinnerOverlayService = /** @class */ (function () {
    function SpinnerOverlayService(overlay, utils) {
        var _this = this;
        this.overlay = overlay;
        this.utils = utils;
        this.isShowing = new rxjs__WEBPACK_IMPORTED_MODULE_4__["BehaviorSubject"](false);
        // Reference to an overlay that has been created with the service.
        this.overlayRef = null;
        // Initial configuration used when creating an overlay
        this.defaultConfig = {
            hasBackdrop: true,
            panelClass: 'spinner-overlay-panel'
        };
        this.isShowing.subscribe(function (isShowing) {
            _this.log('Overlay status change: ', isShowing);
        });
    }
    /**
     * Show spinner overlay
     */
    SpinnerOverlayService.prototype.show = function (config) {
        if (config === void 0) { config = {}; }
        if (!this.isShowing.value) {
            // Returns an OverlayRef which is a PortalHost
            if (this.overlayRef && this.overlayRef.hasAttached()) {
                return;
            }
            // Returns an OverlayRef which is a PortalHost
            this.overlayRef = this.createOverlay(__assign({}, this.defaultConfig, config));
            // Create ComponentPortal that can be attached to a PortalHost
            var spinnerOverlayPortal = new _angular_cdk_portal__WEBPACK_IMPORTED_MODULE_2__["ComponentPortal"](_src_app_components_spinner_overlay_spinner_overlay_component__WEBPACK_IMPORTED_MODULE_3__["SpinnerOverlayComponent"]);
            // Attach ComponentPortal to PortalHost
            this.overlayRef.attach(spinnerOverlayPortal);
            this.isShowing.next(true);
        }
    };
    /**
     * Hide spinner overlay
     */
    SpinnerOverlayService.prototype.hide = function () {
        if (!!this.overlayRef && this.isShowing.value) {
            this.overlayRef.dispose();
            this.isShowing.next(false);
        }
    };
    /**
     * Create overlay
     *
     * @param config
     */
    SpinnerOverlayService.prototype.createOverlay = function (config) {
        var overlayConfig = this.getOverlayConfig(config);
        return this.overlay.create(overlayConfig);
    };
    /**
     * Get overlay config
     *
     * @param config
     */
    SpinnerOverlayService.prototype.getOverlayConfig = function (config) {
        return new _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_1__["OverlayConfig"]({
            hasBackdrop: config.hasBackdrop,
            backdropClass: config.backdropClass,
            panelClass: config.panelClass,
            scrollStrategy: this.overlay.scrollStrategies.block(),
            positionStrategy: this.overlay
                .position()
                .global()
                .centerHorizontally()
                .centerVertically()
        });
    };
    SpinnerOverlayService.prototype.log = function (text) {
        var _a;
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        (_a = this.utils).log.apply(_a, __spread([text, this.constructor.name], args));
    };
    SpinnerOverlayService.ctorParameters = function () { return [
        { type: _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_1__["Overlay"] },
        { type: _utils_service__WEBPACK_IMPORTED_MODULE_5__["UtilsService"] }
    ]; };
    SpinnerOverlayService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_1__["Overlay"],
            _utils_service__WEBPACK_IMPORTED_MODULE_5__["UtilsService"]])
    ], SpinnerOverlayService);
    return SpinnerOverlayService;
}());



/***/ }),

/***/ "./src/app/services/stripe/stripe.service.ts":
/*!***************************************************!*\
  !*** ./src/app/services/stripe/stripe.service.ts ***!
  \***************************************************/
/*! exports provided: StripeService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StripeService", function() { return StripeService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api.service */ "./src/app/services/api.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var StripeService = /** @class */ (function (_super) {
    __extends(StripeService, _super);
    function StripeService() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    StripeService.prototype.getDashboardLink = function () {
        return this.http.get(this.BASE_URL + '/users/creator/stripe-dashboard/');
    };
    StripeService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        })
    ], StripeService);
    return StripeService;
}(_api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"]));



/***/ }),

/***/ "./src/app/services/student/student.service.ts":
/*!*****************************************************!*\
  !*** ./src/app/services/student/student.service.ts ***!
  \*****************************************************/
/*! exports provided: StudentService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StudentService", function() { return StudentService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api.service */ "./src/app/services/api.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var StudentService = /** @class */ (function (_super) {
    __extends(StudentService, _super);
    function StudentService() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    StudentService.prototype.list = function () {
        return this.http.get(this.BASE_URL + '/students/');
    };
    // public getById(id): Observable<any> {
    //   return this.http.get(this.BASE_URL + '/students/1/');
    // }
    // public updateById(id: number, body: any): Observable<any> {
    //   return this.http.post(`${this.BASE_URL}/students/1/update/`, body);
    // }
    StudentService.prototype.setStripeToken = function (payload) {
        var token = payload.token, accountMark = payload.accountMark;
        return this.http.post(this.BASE_URL + "/users/cards/", { token: token, is_default: accountMark });
    };
    StudentService.prototype.setConnection = function (payload) {
        var slug = payload.slug;
        return this.http.post(this.BASE_URL + "/users/creator/" + slug + "/connect/", {});
    };
    StudentService.prototype.disconnect = function (payload) {
        var slug = payload.slug;
        return this.http.delete(this.BASE_URL + "/users/creator/" + slug + "/connect/");
    };
    StudentService.prototype.setSubscription = function (payload) {
        var token = payload.token, teacher_slug = payload.teacher_slug;
        var body = {};
        if (token) {
            body = { stripe_token: token };
        }
        return this.http.post(this.BASE_URL + "/subscription/" + teacher_slug + "/", body);
    };
    StudentService.prototype.setSubscriptionWithCard = function (payload) {
        var card_id = payload.card_id, teacher_slug = payload.teacher_slug;
        return this.http.post(this.BASE_URL + "/subscription/" + teacher_slug + "/", { card_id: card_id });
    };
    StudentService.prototype.unsubscribe = function (payload) {
        var slug = payload.slug;
        return this.http.delete(this.BASE_URL + "/subscription/" + slug + "/");
    };
    StudentService.prototype.purchase = function (payload) {
        var teacher_slug = payload.teacher_slug, recording_id = payload.recording_id, stripe_token = payload.stripe_token;
        var body = {};
        if (recording_id) {
            body = { recording_id: recording_id };
        }
        return this.http.post(this.BASE_URL + "/subscription/purchase/" + teacher_slug + "/", body);
    };
    StudentService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        })
    ], StudentService);
    return StudentService;
}(_api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"]));



/***/ }),

/***/ "./src/app/services/teacher/teacher.service.ts":
/*!*****************************************************!*\
  !*** ./src/app/services/teacher/teacher.service.ts ***!
  \*****************************************************/
/*! exports provided: TeacherService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TeacherService", function() { return TeacherService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api.service */ "./src/app/services/api.service.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _src_app_store_modules_teachers_teachers_actions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @src/app/store/modules/teachers/teachers.actions */ "./src/app/store/modules/teachers/teachers.actions.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var TeacherService = /** @class */ (function (_super) {
    __extends(TeacherService, _super);
    function TeacherService() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    /**
     * Get teachers list
     *
     * METHOD: GET
     * URL:
     */
    TeacherService.prototype.list = function () {
        return this.http.get(this.BASE_URL + '/users/creators/');
    };
    TeacherService.prototype.getBySlug = function (slug) {
        return this.http.get(this.BASE_URL + "/users/creator/" + slug + "/");
    };
    TeacherService.prototype.getCurrentTeacher = function () {
        return this.http.get(this.BASE_URL + "/users/creator/");
    };
    TeacherService.prototype.update = function (payload) {
        var headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]();
        headers.append('Content-Type', 'multipart/form-data');
        var httpOptions = { headers: headers };
        return this.http.patch(this.BASE_URL + "/users/creator/", payload, httpOptions);
    };
    TeacherService.prototype.addClass = function (payload) {
        var _this = this;
        return this.http
            .request("POST", this.BASE_URL + "/recordings/record/", {
            body: payload,
            observe: "events",
            reportProgress: true,
            responseType: "json"
        })
            .subscribe(function (ev) {
            var loaded = ev.loaded, total = ev.total;
            if (loaded) {
                _this.store.dispatch(new _src_app_store_modules_teachers_teachers_actions__WEBPACK_IMPORTED_MODULE_3__["AddClassRequestProgressAction"](Math.round((100 * loaded) / total)));
            }
            else if (ev instanceof _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpResponse"]) {
                _this.store.dispatch(new _src_app_store_modules_teachers_teachers_actions__WEBPACK_IMPORTED_MODULE_3__["AddClassSuccessAction"]('success'));
            }
            else if (ev instanceof _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpErrorResponse"]) {
                _this.store.dispatch(new _src_app_store_modules_teachers_teachers_actions__WEBPACK_IMPORTED_MODULE_3__["AddClassFailureAction"](ev));
            }
        });
    };
    TeacherService.prototype.getStudentsListByTeacher = function () {
        return this.http.get(this.BASE_URL + "/users/students/");
    };
    TeacherService.prototype.addViedeoToClass = function (_a) {
        var payload = _a.payload;
        var formData = new FormData();
        formData.append("file", payload.file);
        var headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]();
        headers.append('Content-Type', 'multipart/form-data');
        var httpOptions = { headers: headers };
        return this.http.put(this.BASE_URL + "/recordings/chunked-upload/" + payload.id + "/", formData, httpOptions);
    };
    TeacherService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        })
    ], TeacherService);
    return TeacherService;
}(_api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"]));



/***/ }),

/***/ "./src/app/services/user/user.service.ts":
/*!***********************************************!*\
  !*** ./src/app/services/user/user.service.ts ***!
  \***********************************************/
/*! exports provided: UserService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserService", function() { return UserService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../api.service */ "./src/app/services/api.service.ts");
/* harmony import */ var _src_app_store_modules_user_user_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @src/app/store/modules/user/user.types */ "./src/app/store/modules/user/user.types.ts");
/* harmony import */ var _src_app_route_names__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @src/app/route-names */ "./src/app/route-names.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






var UserService = /** @class */ (function (_super) {
    __extends(UserService, _super);
    function UserService() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.user = null;
        _this.onlyStudentRoutes = ['student'];
        _this.onlyTeacherRoutes = ['teacher'];
        return _this;
    }
    UserService.prototype.getViewStatus = function () {
        return this.user && this.user.view_status;
    };
    /**
     * Get current user by jwt token header
     *
     * METHOD: GET
     * URL:
     */
    UserService.prototype.current = function () {
        var _this = this;
        // console.log('***** "API" GETTING CURRENT USER *****');
        return this.http.get(this.BASE_URL + '/users/profile/')
            .pipe(
        // tap(user => console.log('current user API response: ', user)),
        Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["tap"])(function (user) { return _this.user = user ? user : null; }));
    };
    UserService.prototype.checkToken = function () {
        return this.http.post(this.BASE_URL + '/rest-auth/verify/', {
            token: localStorage.getItem('access_token')
        });
    };
    /**
     * Store current user locally to make offline possible
     *
     * METHOD: GET
     * URL:
     */
    UserService.prototype.storeUser = function (user) {
        // TODO
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])({ /*Silence*/});
    };
    /**
     * Switch user view status - student / creator
     *
     * METHOD: POST
     * URL:
     */
    UserService.prototype.switchUserViewStatus = function (user) {
        var formData = new FormData();
        formData.append('view_status', user.view_status);
        return this.http.patch(this.BASE_URL + '/users/profile/', formData);
    };
    // /**
    //  * Update user profile by id
    //  *
    //  * METHOD: PUT
    //  * URL:
    //  */
    // public updateById(userId: number, payload: any): Observable<any> {
    //   return this.http.post(`${this.BASE_URL}/users`, payload);
    // }
    /**
     * Get user cards from stripe
     */
    UserService.prototype.getUserCards = function () {
        return this.http.get(this.BASE_URL + "/users/cards/");
    };
    /**
     * Update user data
     */
    UserService.prototype.updateCurrentUser = function (body) {
        var _this = this;
        return this.http.patch(this.BASE_URL + "/users/profile/", body)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["tap"])(function (user) { return _this.user = user ? user : _this.user; }));
    };
    /**
     * Check that the 'creator' user has completed the first step of the creator's profile
     * If the creator.user is not set, then return false
     */
    UserService.prototype.isCreatorOnboardingStepOneComplete = function (user) {
        var isComplete = !(user && user.view_status === _src_app_store_modules_user_user_types__WEBPACK_IMPORTED_MODULE_3__["ViewStatuses"].TEACHER && !user.creator);
        return isComplete;
    };
    /**
     * Check that the 'creator' user has completed their creator profile
     * If the creator.stripe_link is set, then return false
     */
    UserService.prototype.isCreatorOnboardingStepTwoComplete = function (user) {
        var isComplete = !!(user && user.view_status === _src_app_store_modules_user_user_types__WEBPACK_IMPORTED_MODULE_3__["ViewStatuses"].TEACHER && user.creator.stripe_user_id);
        return isComplete;
    };
    /**
     * Check that the 'student' user has completed their student profile
     * If the user has no creators, direct back to onboarding step 1
     */
    UserService.prototype.isStudentOnboardingComplete = function (user) {
        return user && user.view_status === _src_app_store_modules_user_user_types__WEBPACK_IMPORTED_MODULE_3__["ViewStatuses"].STUDENT && user.creators && user.creators.length > 0;
    };
    UserService.prototype.isStudent = function (user) {
        return user.view_status === _src_app_store_modules_user_user_types__WEBPACK_IMPORTED_MODULE_3__["ViewStatuses"].STUDENT;
    };
    UserService.prototype.isTeacher = function (user) {
        return user.view_status === _src_app_store_modules_user_user_types__WEBPACK_IMPORTED_MODULE_3__["ViewStatuses"].TEACHER;
    };
    UserService.prototype.doUserOnboardingChecks = function (user, url) {
        if (this.isTeacher(user)) {
            var teacherOnboardingStepOneUrl = _src_app_route_names__WEBPACK_IMPORTED_MODULE_4__["TeacherStepOne"].join('/').slice(1);
            if (!this.isCreatorOnboardingStepOneComplete(user)) {
                if (url !== teacherOnboardingStepOneUrl) {
                    return {
                        canActivate: false,
                        goTo: _src_app_route_names__WEBPACK_IMPORTED_MODULE_4__["TeacherStepOne"]
                    };
                }
            }
        }
        else if (this.isStudent(user)) {
            var studentOnboardingArray = ['/', _src_app_route_names__WEBPACK_IMPORTED_MODULE_4__["RouteNames"].onboarding, _src_app_route_names__WEBPACK_IMPORTED_MODULE_4__["RouteNames"].student];
            var studentOnboardingUrl = studentOnboardingArray.join('/').slice(1);
            // if the student has not complete the profile, redirect him there
            if (url !== studentOnboardingUrl
                && !this.isStudentOnboardingComplete(user)) {
                return {
                    canActivate: false,
                    goTo: studentOnboardingArray
                };
            }
        }
        return {
            canActivate: true
        };
    };
    UserService.prototype.doUserStatusChecks = function (user) {
        var url = window.location.pathname;
        var urlArr = url.split('/').filter(Boolean);
        if (urlArr[0]) {
            if (this.isStudent(user) && this.onlyTeacherRoutes.includes(urlArr[0])) {
                return {
                    canActivate: false,
                    goTo: ['/']
                };
            }
            if (this.isTeacher(user) && this.onlyStudentRoutes.includes(urlArr[0])) {
                return {
                    canActivate: false,
                    goTo: ['/']
                };
            }
        }
        return {
            canActivate: true
        };
    };
    UserService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        })
    ], UserService);
    return UserService;
}(_api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"]));



/***/ }),

/***/ "./src/app/services/utils.service.ts":
/*!*******************************************!*\
  !*** ./src/app/services/utils.service.ts ***!
  \*******************************************/
/*! exports provided: UtilsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UtilsService", function() { return UtilsService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};

var UtilsService = /** @class */ (function () {
    function UtilsService() {
        this.logColors = {
            AppModule: { bg: '#DEFFB8', color: '#FF0FB8' },
            AudioRecordingEffects: { bg: '#FDE3A7', color: '#333' },
            AudioRecordingService: { bg: '#FFAC9C', color: '#333' },
            ClassRecordingComponent: { bg: '#83A24B', color: '#ffffff' },
            DexieService: { bg: '#39D5FF', color: '#333' },
            HeaderDefaultComponent: { bg: '#ACFF70', color: '#0C1370' },
            LayoutDefaultComponent: { bg: '#0C1370', color: '#ffffff' },
            MenuComponent: { bg: '#17A27D', color: '#ffffff' },
            ProfileComponent: { bg: '#C6ED69', color: '#16A13B' },
            PublicTeacherProfileComponent: { bg: '#E0FFFF', color: '#6495ed' },
            RecordComponent: { bg: '#333', color: '#8EFFC1' },
            RecordingsComponent: { bg: '#9F86C0', color: '#6CFFD8' },
            RecordEditAudioComponent: { bg: '#FFD4F5', color: '#0C1370' },
            RecordEditRecordingComponent: { bg: '#DA3C78', color: '#ffffff' },
            RecordViewComponent: { bg: '#3D4B23', color: '#ffffff' },
            SpinnerOverlayService: { bg: '#FFA737', color: '#ffffff' },
            TeacherProfileComponent: { bg: '#8A4FB8', color: '#ffffff' },
            TeachersProfileComponent: { bg: '#6CFFD8', color: '#B34827' },
            TeacherProfileFormComponent: { bg: '#14C4A7', color: '#ffffff' },
            UserEffects: { bg: '#FFAA00', color: '#333' }
        };
        this.activeLogs = [
        // 'AppModule',
        // 'UserEffects',
        // 'MenuComponent',
        // 'HeaderDefaultComponent',
        // 'TeacherProfileComponent', // private teacher profile view
        // 'TeachersProfileComponent', // public teachers profile view
        // 'TeacherProfileFormComponent',
        // 'PublicTeacherProfileComponent',
        // 'ProfileComponent',
        // 'AudioRecordingEffects',
        // 'AudioRecordingService',
        // 'DexieService',
        // 'RecordComponent',
        // 'RecordingsComponent',
        // 'RecordEditRecordingComponent',
        // 'RecordEditAudioComponent',
        // 'ClassRecordingComponent',
        // 'RecordViewComponent'
        // 'SpinnerOverlayService',
        ];
        /**
         * marking for Subscribe student before sign up
         */
        this._studentSubscribed = false;
    }
    UtilsService.prototype.copyTextToClipboard = function (text) {
        var element = document.createElement('textarea');
        element.style.position = 'fixed';
        element.style.left = '0';
        element.style.top = '0';
        element.style.right = '0';
        element.style.bottom = '0';
        element.style.opacity = '0';
        element.value = text;
        document.body.appendChild(element);
        element.focus();
        element.select();
        document.execCommand('copy');
        document.body.removeChild(element);
    };
    UtilsService.prototype.getUuid = function () {
        return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function (c) {
            return (c ^ (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))).toString(16);
        });
    };
    /*
      CONSOLE LOG WITH COLORS!!
    */
    UtilsService.prototype.log = function (text, className) {
        var args = [];
        for (var _i = 2; _i < arguments.length; _i++) {
            args[_i - 2] = arguments[_i];
        }
        this.doLog(text, className, args);
    };
    UtilsService.prototype.logall = function (text, className) {
        var args = [];
        for (var _i = 2; _i < arguments.length; _i++) {
            args[_i - 2] = arguments[_i];
        }
        this.doLog(text, className, args, 'all');
    };
    UtilsService.prototype.doLog = function (text, className, args, type) {
        if (type === void 0) { type = 'one'; }
        if (this.activeLogs.includes(className)
        // true
        ) {
            var css = '';
            if (this.logColors[className]) {
                css = "background-color: " + this.logColors[className].bg + "; color: " + this.logColors[className].color;
            }
            if (args.length > 0) {
                if (type === 'all') {
                    console.log.apply(console, __spread(["%c " + className + " => " + text, css], args));
                }
                else {
                    console.log("%c " + className + " => " + text, css, args);
                }
            }
            else {
                console.log("%c " + className + " " + text, css);
            }
        }
    };
    UtilsService.prototype.isIos = function () {
        var win = window;
        return (/iPad|iPhone|iPod/.test(navigator.platform) ||
            (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1)) &&
            !win.MSStream;
    };
    Object.defineProperty(UtilsService.prototype, "suscriptionOnTeacher", {
        get: function () {
            return this._studentSubscribed;
        },
        set: function (value) {
            this._studentSubscribed = value;
        },
        enumerable: true,
        configurable: true
    });
    UtilsService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({ providedIn: 'root' })
    ], UtilsService);
    return UtilsService;
}());



/***/ }),

/***/ "./src/app/services/video/video.service.ts":
/*!*************************************************!*\
  !*** ./src/app/services/video/video.service.ts ***!
  \*************************************************/
/*! exports provided: VideoService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VideoService", function() { return VideoService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var VideoService = /** @class */ (function () {
    function VideoService() {
    }
    VideoService.prototype.checkVimeoVideoURL = function (url) {
        var regex = /^(http:\/\/|https:\/\/)(player.vimeo\.com)\/([\w\/]+)([\?].*)?$/igm;
        return regex.test(url);
    };
    VideoService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({ providedIn: 'root' })
    ], VideoService);
    return VideoService;
}());



/***/ }),

/***/ "./src/app/store/app.effects.ts":
/*!**************************************!*\
  !*** ./src/app/store/app.effects.ts ***!
  \**************************************/
/*! exports provided: AuthenticationEffects, SignUpEffects, ForgottenPasswordEffects, OnboardingEffects, TeachersEffects, NotificationEffects, UserEffects, PosesEffects, RecordingEffects, AudioRecordingEffects, StudentsEffects, CardsEffects, StripeEffects */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _modules_authentication_authentication_effects__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/authentication/authentication.effects */ "./src/app/store/modules/authentication/authentication.effects.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AuthenticationEffects", function() { return _modules_authentication_authentication_effects__WEBPACK_IMPORTED_MODULE_0__["AuthenticationEffects"]; });

/* harmony import */ var _modules_sign_up_sign_up_effects__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/sign-up/sign-up.effects */ "./src/app/store/modules/sign-up/sign-up.effects.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SignUpEffects", function() { return _modules_sign_up_sign_up_effects__WEBPACK_IMPORTED_MODULE_1__["SignUpEffects"]; });

/* harmony import */ var _modules_forgotten_password_forgotten_password_effects__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/forgotten-password/forgotten-password.effects */ "./src/app/store/modules/forgotten-password/forgotten-password.effects.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ForgottenPasswordEffects", function() { return _modules_forgotten_password_forgotten_password_effects__WEBPACK_IMPORTED_MODULE_2__["ForgottenPasswordEffects"]; });

/* harmony import */ var _modules_onboarding_onboarding_effects__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modules/onboarding/onboarding.effects */ "./src/app/store/modules/onboarding/onboarding.effects.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "OnboardingEffects", function() { return _modules_onboarding_onboarding_effects__WEBPACK_IMPORTED_MODULE_3__["OnboardingEffects"]; });

/* harmony import */ var _modules_teachers_teachers_effects__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modules/teachers/teachers.effects */ "./src/app/store/modules/teachers/teachers.effects.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TeachersEffects", function() { return _modules_teachers_teachers_effects__WEBPACK_IMPORTED_MODULE_4__["TeachersEffects"]; });

/* harmony import */ var _modules_notification_notification_effects__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./modules/notification/notification.effects */ "./src/app/store/modules/notification/notification.effects.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "NotificationEffects", function() { return _modules_notification_notification_effects__WEBPACK_IMPORTED_MODULE_5__["NotificationEffects"]; });

/* harmony import */ var _modules_user_user_effects__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./modules/user/user.effects */ "./src/app/store/modules/user/user.effects.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UserEffects", function() { return _modules_user_user_effects__WEBPACK_IMPORTED_MODULE_6__["UserEffects"]; });

/* harmony import */ var _modules_poses_poses_effects__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./modules/poses/poses.effects */ "./src/app/store/modules/poses/poses.effects.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PosesEffects", function() { return _modules_poses_poses_effects__WEBPACK_IMPORTED_MODULE_7__["PosesEffects"]; });

/* harmony import */ var _modules_recording_recording_effects__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./modules/recording/recording.effects */ "./src/app/store/modules/recording/recording.effects.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RecordingEffects", function() { return _modules_recording_recording_effects__WEBPACK_IMPORTED_MODULE_8__["RecordingEffects"]; });

/* harmony import */ var _modules_audio_recording_audio_recording_effects__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./modules/audio-recording/audio-recording.effects */ "./src/app/store/modules/audio-recording/audio-recording.effects.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AudioRecordingEffects", function() { return _modules_audio_recording_audio_recording_effects__WEBPACK_IMPORTED_MODULE_9__["AudioRecordingEffects"]; });

/* harmony import */ var _modules_students_students_effects__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./modules/students/students.effects */ "./src/app/store/modules/students/students.effects.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "StudentsEffects", function() { return _modules_students_students_effects__WEBPACK_IMPORTED_MODULE_10__["StudentsEffects"]; });

/* harmony import */ var _modules_cards_cards_effects__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./modules/cards/cards.effects */ "./src/app/store/modules/cards/cards.effects.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CardsEffects", function() { return _modules_cards_cards_effects__WEBPACK_IMPORTED_MODULE_11__["CardsEffects"]; });

/* harmony import */ var _modules_stripe_stripe_effects__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./modules/stripe/stripe.effects */ "./src/app/store/modules/stripe/stripe.effects.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "StripeEffects", function() { return _modules_stripe_stripe_effects__WEBPACK_IMPORTED_MODULE_12__["StripeEffects"]; });
















/***/ }),

/***/ "./src/app/store/app.reducers.ts":
/*!***************************************!*\
  !*** ./src/app/store/app.reducers.ts ***!
  \***************************************/
/*! exports provided: metaReducers, appReducers, REDUCER_TOKEN */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "metaReducers", function() { return metaReducers; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "appReducers", function() { return appReducers; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "REDUCER_TOKEN", function() { return REDUCER_TOKEN; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngrx_router_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngrx/router-store */ "./node_modules/@ngrx/router-store/fesm5/router-store.js");
/* harmony import */ var _modules_authentication_authentication_reducers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/authentication/authentication.reducers */ "./src/app/store/modules/authentication/authentication.reducers.ts");
/* harmony import */ var _modules_user_user_reducers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modules/user/user.reducers */ "./src/app/store/modules/user/user.reducers.ts");
/* harmony import */ var _modules_poses_poses_reducers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modules/poses/poses.reducers */ "./src/app/store/modules/poses/poses.reducers.ts");
/* harmony import */ var _modules_sign_up_sign_up_reducers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./modules/sign-up/sign-up.reducers */ "./src/app/store/modules/sign-up/sign-up.reducers.ts");
/* harmony import */ var _modules_forgotten_password_forgotten_password_reducers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./modules/forgotten-password/forgotten-password.reducers */ "./src/app/store/modules/forgotten-password/forgotten-password.reducers.ts");
/* harmony import */ var _modules_onboarding_onboarding_reducers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./modules/onboarding/onboarding.reducers */ "./src/app/store/modules/onboarding/onboarding.reducers.ts");
/* harmony import */ var _src_environments_environment__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @src/environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _src_app_store_modules_teachers_teachers_reducers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @src/app/store/modules/teachers/teachers.reducers */ "./src/app/store/modules/teachers/teachers.reducers.ts");
/* harmony import */ var _src_app_store_modules_students_students_reducers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @src/app/store/modules/students/students.reducers */ "./src/app/store/modules/students/students.reducers.ts");
/* harmony import */ var _src_app_store_modules_notification_notification_reducers__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @src/app/store/modules/notification/notification.reducers */ "./src/app/store/modules/notification/notification.reducers.ts");
/* harmony import */ var _modules_recording_recording_reducers__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./modules/recording/recording.reducers */ "./src/app/store/modules/recording/recording.reducers.ts");
/* harmony import */ var _modules_audio_recording_audio_recording_reducers__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./modules/audio-recording/audio-recording.reducers */ "./src/app/store/modules/audio-recording/audio-recording.reducers.ts");
/* harmony import */ var _modules_offline_detection_offline_detection_reducers__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./modules/offline-detection/offline-detection.reducers */ "./src/app/store/modules/offline-detection/offline-detection.reducers.ts");
/* harmony import */ var _src_app_store_modules_cards_cards_reducers__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @src/app/store/modules/cards/cards.reducers */ "./src/app/store/modules/cards/cards.reducers.ts");
/* harmony import */ var _modules_stripe_stripe_reducers__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./modules/stripe/stripe.reducers */ "./src/app/store/modules/stripe/stripe.reducers.ts");
/* harmony import */ var _modules_shared_shared_reducers__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./modules/shared/shared.reducers */ "./src/app/store/modules/shared/shared.reducers.ts");
/* harmony import */ var _modules_spinner_spinner_reducers__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./modules/spinner/spinner.reducers */ "./src/app/store/modules/spinner/spinner.reducers.ts");



















// Meta reducers
// Dev env includes storeFreeze to prevent state from being mutated
var metaReducers = _src_environments_environment__WEBPACK_IMPORTED_MODULE_8__["environment"].production
    ? []
    : [];
// Application reducers
var appReducers = {
    router: _ngrx_router_store__WEBPACK_IMPORTED_MODULE_1__["routerReducer"],
    authentication: _modules_authentication_authentication_reducers__WEBPACK_IMPORTED_MODULE_2__["authenticationReducers"],
    signUp: _modules_sign_up_sign_up_reducers__WEBPACK_IMPORTED_MODULE_5__["signUpReducers"],
    forgottenPassword: _modules_forgotten_password_forgotten_password_reducers__WEBPACK_IMPORTED_MODULE_6__["forgottenPasswordReducers"],
    users: _modules_user_user_reducers__WEBPACK_IMPORTED_MODULE_3__["userReducers"],
    onboarding: _modules_onboarding_onboarding_reducers__WEBPACK_IMPORTED_MODULE_7__["onboardingReducers"],
    teachers: _src_app_store_modules_teachers_teachers_reducers__WEBPACK_IMPORTED_MODULE_9__["teachersReducers"],
    students: _src_app_store_modules_students_students_reducers__WEBPACK_IMPORTED_MODULE_10__["studentsReducers"],
    cards: _src_app_store_modules_cards_cards_reducers__WEBPACK_IMPORTED_MODULE_15__["cardsReducers"],
    notifications: _src_app_store_modules_notification_notification_reducers__WEBPACK_IMPORTED_MODULE_11__["notificationReducers"],
    poses: _modules_poses_poses_reducers__WEBPACK_IMPORTED_MODULE_4__["posesReducers"],
    recordings: _modules_recording_recording_reducers__WEBPACK_IMPORTED_MODULE_12__["recordingReducers"],
    recording: _modules_audio_recording_audio_recording_reducers__WEBPACK_IMPORTED_MODULE_13__["audioRecordingReducers"],
    shared: _modules_shared_shared_reducers__WEBPACK_IMPORTED_MODULE_17__["sharedReducers"],
    spinner: _modules_spinner_spinner_reducers__WEBPACK_IMPORTED_MODULE_18__["spinnerReducers"],
    network: _modules_offline_detection_offline_detection_reducers__WEBPACK_IMPORTED_MODULE_14__["networkReducer"],
    stripe: _modules_stripe_stripe_reducers__WEBPACK_IMPORTED_MODULE_16__["stripeReducers"],
};
var REDUCER_TOKEN = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]("root reducer");


/***/ }),

/***/ "./src/app/store/helpers/adapters.ts":
/*!*******************************************!*\
  !*** ./src/app/store/helpers/adapters.ts ***!
  \*******************************************/
/*! exports provided: getAll, getIds, getStatus, getEntity, getEntities, getErrors, getFormData, getActiveId, getActive, getOneById */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAll", function() { return getAll; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getIds", function() { return getIds; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getStatus", function() { return getStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getEntity", function() { return getEntity; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getEntities", function() { return getEntities; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getErrors", function() { return getErrors; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFormData", function() { return getFormData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getActiveId", function() { return getActiveId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getActive", function() { return getActive; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getOneById", function() { return getOneById; });
var getAll = function (state) {
    var entities = state.entities, ids = state.ids;
    if (ids && ids.length) {
        return ids.map(function (id) { return entities[id]; });
    }
    return null;
};
var getIds = function (state) { return state.ids; };
var getStatus = function (state) { return state.status; };
var getEntity = function (state) {
    return state.entity;
};
var getEntities = function (state) { return state.entities; };
var getErrors = function (state) {
    if (state.errors) {
        window.scrollTo(0, 0);
    }
    return state.errors;
};
var getFormData = function (state) {
    return state.dataState && state.dataState.formData;
};
var getActiveId = function (state) { return state.activeId; };
/**
 * Get active entity
 *
 * @param state
 */
var getActive = function (state) {
    var entities = state.entities, activeId = state.activeId;
    return entities[activeId];
};
var getOneById = function (state) { return function (id) {
    var entities = state.entities;
    return entities[id];
}; };


/***/ }),

/***/ "./src/app/store/helpers/reducer.ts":
/*!******************************************!*\
  !*** ./src/app/store/helpers/reducer.ts ***!
  \******************************************/
/*! exports provided: updateEntityById */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateEntityById", function() { return updateEntityById; });
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var updateEntityById = function (state, id, applyChanges) {
    var _a;
    var entity = state[id];
    if (entity) {
        return __assign({}, state, (_a = {}, _a[id] = applyChanges(__assign({}, entity)), _a));
    }
    return state;
};


/***/ }),

/***/ "./src/app/store/modules/audio-recording/audio-recording.actions.ts":
/*!**************************************************************************!*\
  !*** ./src/app/store/modules/audio-recording/audio-recording.actions.ts ***!
  \**************************************************************************/
/*! exports provided: AudioRecordingsActionTypes, StartRecordingRequestAction, StartRecordingFailureAction, UploadRecordingRequestAction, UploadRecordingSuccessAction, UploadRecordingFailureAction, UploadRecordingBlobRequestAction, UploadRecordingBlobSuccessAction, UploadRecordingBlobFailureAction, FinishRecordingRequestAction, FinishRecordingSuccessAction, FinishRecordingFailureAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AudioRecordingsActionTypes", function() { return AudioRecordingsActionTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StartRecordingRequestAction", function() { return StartRecordingRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StartRecordingFailureAction", function() { return StartRecordingFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UploadRecordingRequestAction", function() { return UploadRecordingRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UploadRecordingSuccessAction", function() { return UploadRecordingSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UploadRecordingFailureAction", function() { return UploadRecordingFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UploadRecordingBlobRequestAction", function() { return UploadRecordingBlobRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UploadRecordingBlobSuccessAction", function() { return UploadRecordingBlobSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UploadRecordingBlobFailureAction", function() { return UploadRecordingBlobFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FinishRecordingRequestAction", function() { return FinishRecordingRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FinishRecordingSuccessAction", function() { return FinishRecordingSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FinishRecordingFailureAction", function() { return FinishRecordingFailureAction; });
var AudioRecordingsActionTypes;
(function (AudioRecordingsActionTypes) {
    /***************************************/
    /**** START Actually make a recording ****/
    /***************************************/
    //START means we create a unique id container
    AudioRecordingsActionTypes["START_RECORDING_REQUEST"] = "[start recording] request";
    AudioRecordingsActionTypes["START_RECORDING_FAILURE"] = "[start recording] failure";
    //IF ONLINE, we need to upload the current recording to the server, which means set the unique id and get back the server id
    AudioRecordingsActionTypes["UPLOAD_RECORDING_REQUEST"] = "[upload recording] request";
    AudioRecordingsActionTypes["UPLOAD_RECORDING_SUCCESS"] = "[upload recording] success";
    AudioRecordingsActionTypes["UPLOAD_RECORDING_FAILURE"] = "[upload recording] failure";
    //Now we need actions to actually upload our blobs
    AudioRecordingsActionTypes["UPLOAD_RECORDING_BLOB_REQUEST"] = "[upload recording blob] request";
    AudioRecordingsActionTypes["UPLOAD_RECORDING_BLOB_SUCCESS"] = "[upload recording blob] success";
    AudioRecordingsActionTypes["UPLOAD_RECORDING_BLOB_FAILURE"] = "[upload recording blob] failure";
    //Finish recording if online
    AudioRecordingsActionTypes["FINISH_RECORDING_REQUEST"] = "[finish recording] request";
    AudioRecordingsActionTypes["FINISH_RECORDING_SUCCESS"] = "[finish recording] success";
    AudioRecordingsActionTypes["FINISH_RECORDING_FAILURE"] = "[finish recording] failure";
    /***************************************/
    /**** END Actually make a recording ****/
    /***************************************/
})(AudioRecordingsActionTypes || (AudioRecordingsActionTypes = {}));
//START means we create a unique id container
var StartRecordingRequestAction = /** @class */ (function () {
    function StartRecordingRequestAction(payload) {
        this.payload = payload;
        this.type = AudioRecordingsActionTypes.START_RECORDING_REQUEST;
        // console.log('StartRecordingRequestAction',payload)
    }
    StartRecordingRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return StartRecordingRequestAction;
}());

var StartRecordingFailureAction = /** @class */ (function () {
    function StartRecordingFailureAction(payload) {
        this.payload = payload;
        this.type = AudioRecordingsActionTypes.START_RECORDING_FAILURE;
    }
    StartRecordingFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return StartRecordingFailureAction;
}());

//IF ONLINE, we need to upload the current recording to the server
var UploadRecordingRequestAction = /** @class */ (function () {
    function UploadRecordingRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = AudioRecordingsActionTypes.UPLOAD_RECORDING_REQUEST;
        // console.log('in UploadRecordingRequestAction')
    }
    UploadRecordingRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return UploadRecordingRequestAction;
}());

var UploadRecordingSuccessAction = /** @class */ (function () {
    function UploadRecordingSuccessAction(payload) {
        this.payload = payload;
        this.type = AudioRecordingsActionTypes.UPLOAD_RECORDING_SUCCESS;
    }
    UploadRecordingSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return UploadRecordingSuccessAction;
}());

var UploadRecordingFailureAction = /** @class */ (function () {
    function UploadRecordingFailureAction(payload) {
        this.payload = payload;
        this.type = AudioRecordingsActionTypes.UPLOAD_RECORDING_FAILURE;
    }
    UploadRecordingFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return UploadRecordingFailureAction;
}());

//Now we need actions to actually upload our blobs
var UploadRecordingBlobRequestAction = /** @class */ (function () {
    function UploadRecordingBlobRequestAction(payload) {
        // console.log('HEEREEE          UploadRecordingBlobRequestAction');
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = AudioRecordingsActionTypes.UPLOAD_RECORDING_BLOB_REQUEST;
    }
    UploadRecordingBlobRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return UploadRecordingBlobRequestAction;
}());

var UploadRecordingBlobSuccessAction = /** @class */ (function () {
    function UploadRecordingBlobSuccessAction(payload) {
        this.payload = payload;
        this.type = AudioRecordingsActionTypes.UPLOAD_RECORDING_BLOB_SUCCESS;
    }
    UploadRecordingBlobSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return UploadRecordingBlobSuccessAction;
}());

var UploadRecordingBlobFailureAction = /** @class */ (function () {
    function UploadRecordingBlobFailureAction(payload) {
        this.payload = payload;
        this.type = AudioRecordingsActionTypes.UPLOAD_RECORDING_BLOB_FAILURE;
    }
    UploadRecordingBlobFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return UploadRecordingBlobFailureAction;
}());

//Finish recording if online
var FinishRecordingRequestAction = /** @class */ (function () {
    function FinishRecordingRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = AudioRecordingsActionTypes.FINISH_RECORDING_REQUEST;
    }
    FinishRecordingRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return FinishRecordingRequestAction;
}());

var FinishRecordingSuccessAction = /** @class */ (function () {
    function FinishRecordingSuccessAction(payload) {
        this.payload = payload;
        this.type = AudioRecordingsActionTypes.FINISH_RECORDING_SUCCESS;
    }
    FinishRecordingSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return FinishRecordingSuccessAction;
}());

var FinishRecordingFailureAction = /** @class */ (function () {
    function FinishRecordingFailureAction(payload) {
        this.payload = payload;
        this.type = AudioRecordingsActionTypes.FINISH_RECORDING_FAILURE;
    }
    FinishRecordingFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return FinishRecordingFailureAction;
}());



/***/ }),

/***/ "./src/app/store/modules/audio-recording/audio-recording.effects.ts":
/*!**************************************************************************!*\
  !*** ./src/app/store/modules/audio-recording/audio-recording.effects.ts ***!
  \**************************************************************************/
/*! exports provided: AudioRecordingEffects */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AudioRecordingEffects", function() { return AudioRecordingEffects; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngrx_effects__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngrx/effects */ "./node_modules/@ngrx/effects/fesm5/effects.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _src_app_services_recording_recording_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @src/app/services/recording/recording.service */ "./src/app/services/recording/recording.service.ts");
/* harmony import */ var _src_app_services_audio_audio_recording_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @src/app/services/audio/audio-recording.service */ "./src/app/services/audio/audio-recording.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _audio_recording_actions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./audio-recording.actions */ "./src/app/store/modules/audio-recording/audio-recording.actions.ts");
/* harmony import */ var _audio_recording_selectors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./audio-recording.selectors */ "./src/app/store/modules/audio-recording/audio-recording.selectors.ts");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _src_app_services_utils_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @src/app/services/utils.service */ "./src/app/services/utils.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};











var AudioRecordingEffects = /** @class */ (function () {
    function AudioRecordingEffects(actions$, router, recordingService, audioRecordingService, store, utils) {
        var _this = this;
        this.actions$ = actions$;
        this.router = router;
        this.recordingService = recordingService;
        this.audioRecordingService = audioRecordingService;
        this.store = store;
        this.utils = utils;
        this.recording$ = this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_9__["select"])(_audio_recording_selectors__WEBPACK_IMPORTED_MODULE_8__["selectAudioRecordingState"]));
        // Start recording
        this.startedRecordingRequest = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_audio_recording_actions__WEBPACK_IMPORTED_MODULE_7__["AudioRecordingsActionTypes"].START_RECORDING_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["mergeMap"])(function (_a) {
            var payload = _a.payload;
            _this.log('started recording request', payload);
            return _this.audioRecordingService.startRecording(payload)
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (response) { return new _audio_recording_actions__WEBPACK_IMPORTED_MODULE_7__["UploadRecordingRequestAction"](response); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(function (error) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])(new _audio_recording_actions__WEBPACK_IMPORTED_MODULE_7__["StartRecordingFailureAction"](error)); }));
        }));
        this.startedRecordingFailure = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_audio_recording_actions__WEBPACK_IMPORTED_MODULE_7__["AudioRecordingsActionTypes"].START_RECORDING_FAILURE));
        // Upload (in other words, create the recording on the server) recording
        this.uploadRecordingRequest = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_audio_recording_actions__WEBPACK_IMPORTED_MODULE_7__["AudioRecordingsActionTypes"].UPLOAD_RECORDING_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["withLatestFrom"])(this.recording$), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["mergeMap"])(function (payload) {
            _this.log('upload recording request result', payload);
            // this.log('now lets try to create the recording on the server', payload)
            return _this.audioRecordingService.uploadRecording(payload[1]).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (response) {
                _this.log('upload suscces', response);
                return new _audio_recording_actions__WEBPACK_IMPORTED_MODULE_7__["UploadRecordingSuccessAction"](response);
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(function (error) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])(new _audio_recording_actions__WEBPACK_IMPORTED_MODULE_7__["UploadRecordingFailureAction"](error)); }));
        }));
        this.uploadRecordingSuccess = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_audio_recording_actions__WEBPACK_IMPORTED_MODULE_7__["AudioRecordingsActionTypes"].UPLOAD_RECORDING_SUCCESS), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["tap"])(function () {
            _this.log('tap on uploadrecordingsuccess');
        }));
        this.uploadRecordingFailure = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_audio_recording_actions__WEBPACK_IMPORTED_MODULE_7__["AudioRecordingsActionTypes"].UPLOAD_RECORDING_FAILURE), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["tap"])(function () { _this.log('tap on uploadRecordingFailure'); }));
        // Upload recording blobs
        this.uploadRecordingBlobRequest = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_audio_recording_actions__WEBPACK_IMPORTED_MODULE_7__["AudioRecordingsActionTypes"].UPLOAD_RECORDING_BLOB_REQUEST), 
        // mergemap allows multiple dispatches at the same time
        Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["mergeMap"])(function (response) {
            _this.log('uploadRecordingBlobRequest now lets try to upload blobs the recording on the server', response);
            return _this.audioRecordingService.uploadBlob(response.payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (response) {
                _this.log('UPLOAD BLOB ** RESPONSE **', response);
                if (response) {
                    _this.log('finish blob upload');
                    _this.audioRecordingService.finishBlobUpload(response);
                }
                else {
                    _this.log('DONOT finish blob upload...', response);
                }
                return new _audio_recording_actions__WEBPACK_IMPORTED_MODULE_7__["UploadRecordingBlobSuccessAction"](response);
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(function (error) {
                _this.log('catch blob upload error', error);
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])(new _audio_recording_actions__WEBPACK_IMPORTED_MODULE_7__["UploadRecordingBlobFailureAction"](error));
            }));
        }));
        this.uploadRecordingBlobSuccess = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_audio_recording_actions__WEBPACK_IMPORTED_MODULE_7__["AudioRecordingsActionTypes"].UPLOAD_RECORDING_BLOB_SUCCESS), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["tap"])(function (payload) {
            _this.log('tap on uploadRecordingBlobSuccess', payload);
            return payload.payload;
        }));
        this.uploadRecordingBlobFailure = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_audio_recording_actions__WEBPACK_IMPORTED_MODULE_7__["AudioRecordingsActionTypes"].UPLOAD_RECORDING_BLOB_FAILURE), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["mergeMap"])(function (response) {
            _this.log('uploadRecordingBlobFailure', response);
            // if the message is a number, reset blob uploads
            // TODO: add some explanatory comments
            if (!isNaN(response.payload.message)) {
                _this.log(response.payload.message);
                return _this.audioRecordingService.resetBlobUploads(response.payload.message);
            }
            else if (response.payload.status == 406) {
                // we can't upload for this id any longer! delete the blob
                return _this.audioRecordingService.finishBlobUpload(response.payload.message);
            }
            return _this.audioRecordingService.resetBlobUploads(null);
        }));
        // finish the recording
        this.pollingUntil$ = new rxjs__WEBPACK_IMPORTED_MODULE_6__["Subject"]();
        this.finishRecordingRequest = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_audio_recording_actions__WEBPACK_IMPORTED_MODULE_7__["AudioRecordingsActionTypes"].FINISH_RECORDING_REQUEST), 
        // this is an inte rval that is being called ever 3 secondsduring recording to check if we need to finish things
        Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["switchMap"])(function (pollAction) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["interval"])(3000).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["takeUntil"])(Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["timer"])(60000)), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["takeUntil"])(_this.pollingUntil$), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["mapTo"])(pollAction), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["switchMap"])(function (action) {
            _this.log('777777777777777777 first', action.payload);
            return _this.audioRecordingService.blobsLeft(action.payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["switchMap"])(function (doFinish) {
                _this.log('777777777777777777 second', doFinish);
                if (doFinish) {
                    // stop interval
                    _this.pollingUntil$.next(true);
                    _this.log('77777777 stop interval anda tually finid', doFinish);
                    // upload finish commend to server
                    return _this.audioRecordingService.finishRecording(action.payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (response) {
                        _this.log('77777777777 done with uploading?', response);
                        _this.audioRecordingService.deleteDbRecording(response.recording.unique_id);
                        return new _audio_recording_actions__WEBPACK_IMPORTED_MODULE_7__["FinishRecordingSuccessAction"](response);
                    }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(function (error) {
                        _this.log('catch finish recording error', error);
                        return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])(new _audio_recording_actions__WEBPACK_IMPORTED_MODULE_7__["FinishRecordingFailureAction"](error));
                    }));
                }
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])();
            }));
        })); }));
        this.finishRecordingSuccess = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_audio_recording_actions__WEBPACK_IMPORTED_MODULE_7__["AudioRecordingsActionTypes"].FINISH_RECORDING_SUCCESS));
        this.finishRecordingFailure = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_audio_recording_actions__WEBPACK_IMPORTED_MODULE_7__["AudioRecordingsActionTypes"].FINISH_RECORDING_FAILURE));
    }
    AudioRecordingEffects.prototype.log = function (text) {
        var _a;
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        (_a = this.utils).log.apply(_a, __spread([text, this.constructor.name], args));
    };
    AudioRecordingEffects.ctorParameters = function () { return [
        { type: _ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Actions"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] },
        { type: _src_app_services_recording_recording_service__WEBPACK_IMPORTED_MODULE_3__["RecordingService"] },
        { type: _src_app_services_audio_audio_recording_service__WEBPACK_IMPORTED_MODULE_4__["AudioRecordingService"] },
        { type: _ngrx_store__WEBPACK_IMPORTED_MODULE_9__["Store"] },
        { type: _src_app_services_utils_service__WEBPACK_IMPORTED_MODULE_10__["UtilsService"] }
    ]; };
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])(),
        __metadata("design:type", Object)
    ], AudioRecordingEffects.prototype, "startedRecordingRequest", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_6__["Observable"])
    ], AudioRecordingEffects.prototype, "startedRecordingFailure", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])(),
        __metadata("design:type", Object)
    ], AudioRecordingEffects.prototype, "uploadRecordingRequest", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_6__["Observable"])
    ], AudioRecordingEffects.prototype, "uploadRecordingSuccess", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_6__["Observable"])
    ], AudioRecordingEffects.prototype, "uploadRecordingFailure", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])(),
        __metadata("design:type", Object)
    ], AudioRecordingEffects.prototype, "uploadRecordingBlobRequest", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_6__["Observable"])
    ], AudioRecordingEffects.prototype, "uploadRecordingBlobSuccess", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_6__["Observable"])
    ], AudioRecordingEffects.prototype, "uploadRecordingBlobFailure", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])(),
        __metadata("design:type", Object)
    ], AudioRecordingEffects.prototype, "finishRecordingRequest", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_6__["Observable"])
    ], AudioRecordingEffects.prototype, "finishRecordingSuccess", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_6__["Observable"])
    ], AudioRecordingEffects.prototype, "finishRecordingFailure", void 0);
    AudioRecordingEffects = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Actions"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _src_app_services_recording_recording_service__WEBPACK_IMPORTED_MODULE_3__["RecordingService"],
            _src_app_services_audio_audio_recording_service__WEBPACK_IMPORTED_MODULE_4__["AudioRecordingService"],
            _ngrx_store__WEBPACK_IMPORTED_MODULE_9__["Store"],
            _src_app_services_utils_service__WEBPACK_IMPORTED_MODULE_10__["UtilsService"]])
    ], AudioRecordingEffects);
    return AudioRecordingEffects;
}());



/***/ }),

/***/ "./src/app/store/modules/audio-recording/audio-recording.reducers.ts":
/*!***************************************************************************!*\
  !*** ./src/app/store/modules/audio-recording/audio-recording.reducers.ts ***!
  \***************************************************************************/
/*! exports provided: audioRecordingReducers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "audioRecordingReducers", function() { return audioRecordingReducers; });
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _audio_recording_actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./audio-recording.actions */ "./src/app/store/modules/audio-recording/audio-recording.actions.ts");
/* harmony import */ var _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @src/app/services/api.service.interface */ "./src/app/services/api.service.interface.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};



var initialState_status = null;
var status = function (state, _a) {
    if (state === void 0) { state = initialState_status; }
    var type = _a.type;
    switch (type) {
        case _audio_recording_actions__WEBPACK_IMPORTED_MODULE_1__["AudioRecordingsActionTypes"].START_RECORDING_REQUEST:
        case _audio_recording_actions__WEBPACK_IMPORTED_MODULE_1__["AudioRecordingsActionTypes"].UPLOAD_RECORDING_REQUEST:
        case _audio_recording_actions__WEBPACK_IMPORTED_MODULE_1__["AudioRecordingsActionTypes"].FINISH_RECORDING_REQUEST:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__["RequestStatus"].pending;
        case _audio_recording_actions__WEBPACK_IMPORTED_MODULE_1__["AudioRecordingsActionTypes"].UPLOAD_RECORDING_SUCCESS:
        case _audio_recording_actions__WEBPACK_IMPORTED_MODULE_1__["AudioRecordingsActionTypes"].FINISH_RECORDING_SUCCESS:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__["RequestStatus"].success;
        case _audio_recording_actions__WEBPACK_IMPORTED_MODULE_1__["AudioRecordingsActionTypes"].START_RECORDING_FAILURE:
        case _audio_recording_actions__WEBPACK_IMPORTED_MODULE_1__["AudioRecordingsActionTypes"].UPLOAD_RECORDING_FAILURE:
        case _audio_recording_actions__WEBPACK_IMPORTED_MODULE_1__["AudioRecordingsActionTypes"].FINISH_RECORDING_FAILURE:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__["RequestStatus"].failure;
        default:
            return state;
    }
};
var initialState_uploaded = null;
var uploaded = function (state, _a) {
    // console.log('UNIQUE ID reducer TYPE?',type, payload, state)
    if (state === void 0) { state = initialState_uploaded; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _audio_recording_actions__WEBPACK_IMPORTED_MODULE_1__["AudioRecordingsActionTypes"].UPLOAD_RECORDING_SUCCESS:
            // console.log({payload});
            return payload;
        default:
            return state;
    }
};
var initialState_uniqueId = null;
var uniqueId = function (state, _a) {
    // console.log('UNIQUE ID reducer TYPE?',type, payload, state)
    if (state === void 0) { state = initialState_uniqueId; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _audio_recording_actions__WEBPACK_IMPORTED_MODULE_1__["AudioRecordingsActionTypes"].START_RECORDING_REQUEST:
            return payload;
        default:
            return state;
    }
};
var initialState_blobs = {};
var blobs = function (state, _a) {
    if (state === void 0) { state = initialState_blobs; }
    var type = _a.type, payload = _a.payload;
    // TODO return current blob status
    var blobs = __assign({}, state);
    switch (type) {
        case _audio_recording_actions__WEBPACK_IMPORTED_MODULE_1__["AudioRecordingsActionTypes"].UPLOAD_RECORDING_BLOB_REQUEST:
            // console.log('BLOB reducer TYPE? 1',type, payload, state)
            blobs[payload.id] = payload;
            // console.log('BLOB reducer TYPE? 2',type, payload, state)
            return blobs;
        case _audio_recording_actions__WEBPACK_IMPORTED_MODULE_1__["AudioRecordingsActionTypes"].UPLOAD_RECORDING_BLOB_SUCCESS:
            // console.log({blobs, payload});
            delete blobs[payload.id];
            return blobs;
        case _audio_recording_actions__WEBPACK_IMPORTED_MODULE_1__["AudioRecordingsActionTypes"].UPLOAD_RECORDING_BLOB_FAILURE:
            return state;
        default:
            return state;
    }
};
var initialState_errors = null;
var errors = function (state, _a) {
    if (state === void 0) { state = initialState_errors; }
    var type = _a.type, payload = _a.payload;
    // console.log('REDEUCER errors ',type, payload, state)
    switch (type) {
        case _audio_recording_actions__WEBPACK_IMPORTED_MODULE_1__["AudioRecordingsActionTypes"].FINISH_RECORDING_FAILURE:
            return payload;
        default:
            return state;
    }
};
// structure of the recording
var audioRecordingReducers = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["combineReducers"])({
    status: status,
    uploaded: uploaded,
    errors: errors,
    uniqueId: uniqueId,
    blobs: blobs
});


/***/ }),

/***/ "./src/app/store/modules/audio-recording/audio-recording.selectors.ts":
/*!****************************************************************************!*\
  !*** ./src/app/store/modules/audio-recording/audio-recording.selectors.ts ***!
  \****************************************************************************/
/*! exports provided: selectAudioRecordingState, selectAudioRecording, selectAudioRecordingStatus, selectAudioRecordingErrors */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectAudioRecordingState", function() { return selectAudioRecordingState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectAudioRecording", function() { return selectAudioRecording; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectAudioRecordingStatus", function() { return selectAudioRecordingStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectAudioRecordingErrors", function() { return selectAudioRecordingErrors; });
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _helpers_adapters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../helpers/adapters */ "./src/app/store/helpers/adapters.ts");


var selectAudioRecordingState = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createFeatureSelector"])('recording');
var selectAudioRecording = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectAudioRecordingState, function (state) { return state.uploaded; });
var selectAudioRecordingStatus = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectAudioRecordingState, _helpers_adapters__WEBPACK_IMPORTED_MODULE_1__["getStatus"]);
var selectAudioRecordingErrors = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectAudioRecordingState, _helpers_adapters__WEBPACK_IMPORTED_MODULE_1__["getErrors"]);


/***/ }),

/***/ "./src/app/store/modules/authentication/authentication.actions.ts":
/*!************************************************************************!*\
  !*** ./src/app/store/modules/authentication/authentication.actions.ts ***!
  \************************************************************************/
/*! exports provided: AuthenticationActionTypes, AuthenticationBasicRequestAction, AuthenticationBasicSuccessAction, AuthenticationBasicFailureAction, LogoutRequestAction, LogoutSuccessAction, LogoutFailureAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthenticationActionTypes", function() { return AuthenticationActionTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthenticationBasicRequestAction", function() { return AuthenticationBasicRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthenticationBasicSuccessAction", function() { return AuthenticationBasicSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthenticationBasicFailureAction", function() { return AuthenticationBasicFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LogoutRequestAction", function() { return LogoutRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LogoutSuccessAction", function() { return LogoutSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LogoutFailureAction", function() { return LogoutFailureAction; });
var AuthenticationActionTypes;
(function (AuthenticationActionTypes) {
    AuthenticationActionTypes["AUTHENTICATION_BASIC_REQUEST"] = "[authentication basic] request";
    AuthenticationActionTypes["AUTHENTICATION_BASIC_SUCCESS"] = "[authentication basic] success";
    AuthenticationActionTypes["AUTHENTICATION_BASIC_FAILURE"] = "[authentication basic] failure";
    AuthenticationActionTypes["LOGOUT_REQUEST"] = "[logout] request";
    AuthenticationActionTypes["LOGOUT_SUCCESS"] = "[logout] success";
    AuthenticationActionTypes["LOGOUT_FAILURE"] = "[logout] failure";
})(AuthenticationActionTypes || (AuthenticationActionTypes = {}));
// Basic authentication (email/password)
var AuthenticationBasicRequestAction = /** @class */ (function () {
    function AuthenticationBasicRequestAction(payload) {
        this.payload = payload;
        this.type = AuthenticationActionTypes.AUTHENTICATION_BASIC_REQUEST;
    }
    AuthenticationBasicRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return AuthenticationBasicRequestAction;
}());

var AuthenticationBasicSuccessAction = /** @class */ (function () {
    function AuthenticationBasicSuccessAction(payload) {
        this.payload = payload;
        this.type = AuthenticationActionTypes.AUTHENTICATION_BASIC_SUCCESS;
    }
    AuthenticationBasicSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return AuthenticationBasicSuccessAction;
}());

var AuthenticationBasicFailureAction = /** @class */ (function () {
    function AuthenticationBasicFailureAction(payload) {
        this.payload = payload;
        this.type = AuthenticationActionTypes.AUTHENTICATION_BASIC_FAILURE;
    }
    AuthenticationBasicFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return AuthenticationBasicFailureAction;
}());

// Logout
var LogoutRequestAction = /** @class */ (function () {
    function LogoutRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = AuthenticationActionTypes.LOGOUT_REQUEST;
    }
    LogoutRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return LogoutRequestAction;
}());

var LogoutSuccessAction = /** @class */ (function () {
    function LogoutSuccessAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = AuthenticationActionTypes.LOGOUT_SUCCESS;
    }
    LogoutSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return LogoutSuccessAction;
}());

var LogoutFailureAction = /** @class */ (function () {
    function LogoutFailureAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = AuthenticationActionTypes.LOGOUT_FAILURE;
    }
    LogoutFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return LogoutFailureAction;
}());



/***/ }),

/***/ "./src/app/store/modules/authentication/authentication.effects.ts":
/*!************************************************************************!*\
  !*** ./src/app/store/modules/authentication/authentication.effects.ts ***!
  \************************************************************************/
/*! exports provided: AuthenticationEffects */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthenticationEffects", function() { return AuthenticationEffects; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ngrx_effects__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngrx/effects */ "./node_modules/@ngrx/effects/fesm5/effects.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _authentication_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./authentication.actions */ "./src/app/store/modules/authentication/authentication.actions.ts");
/* harmony import */ var _src_app_services_authentication_authentication_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @src/app/services/authentication/authentication.service */ "./src/app/services/authentication/authentication.service.ts");
/* harmony import */ var _src_app_services_authorization_authorization_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @src/app/services/authorization/authorization.service */ "./src/app/services/authorization/authorization.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var AuthenticationEffects = /** @class */ (function () {
    function AuthenticationEffects(actions$, router, authenticationService, authorizationService) {
        var _this = this;
        this.actions$ = actions$;
        this.router = router;
        this.authenticationService = authenticationService;
        this.authorizationService = authorizationService;
        this.basic = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_authentication_actions__WEBPACK_IMPORTED_MODULE_5__["AuthenticationActionTypes"].AUTHENTICATION_BASIC_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["exhaustMap"])(function (_a) {
            var payload = _a.payload;
            return _this.authenticationService.attemptBasic(payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (response) {
                var access = response.access, refresh = response.refresh;
                _this.authorizationService.setAccessToken(access);
                _this.authorizationService.setRefreshToken(refresh);
                _this.router.navigate(['/']);
                return new _authentication_actions__WEBPACK_IMPORTED_MODULE_5__["AuthenticationBasicSuccessAction"](response);
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(function (response) {
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(new _authentication_actions__WEBPACK_IMPORTED_MODULE_5__["AuthenticationBasicFailureAction"](response));
            }));
        }));
        this.logout = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_authentication_actions__WEBPACK_IMPORTED_MODULE_5__["AuthenticationActionTypes"].LOGOUT_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (payload) { return new _authentication_actions__WEBPACK_IMPORTED_MODULE_5__["LogoutSuccessAction"](payload); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(function (payload) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(new _authentication_actions__WEBPACK_IMPORTED_MODULE_5__["LogoutFailureAction"](payload)); }));
        this.logoutSuccess = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_authentication_actions__WEBPACK_IMPORTED_MODULE_5__["AuthenticationActionTypes"].LOGOUT_SUCCESS), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function () {
            // Remove access and refresh tokens from local storage
            _this.authorizationService.destroyAccessToken();
            _this.authorizationService.destroyRefreshToken();
            // Navigate to main page
            _this.router.navigate(['/']);
        }));
    }
    AuthenticationEffects.ctorParameters = function () { return [
        { type: _ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Actions"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] },
        { type: _src_app_services_authentication_authentication_service__WEBPACK_IMPORTED_MODULE_6__["AuthenticationService"] },
        { type: _src_app_services_authorization_authorization_service__WEBPACK_IMPORTED_MODULE_7__["AuthorizationService"] }
    ]; };
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])(),
        __metadata("design:type", Object)
    ], AuthenticationEffects.prototype, "basic", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])(),
        __metadata("design:type", Object)
    ], AuthenticationEffects.prototype, "logout", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_3__["Observable"])
    ], AuthenticationEffects.prototype, "logoutSuccess", void 0);
    AuthenticationEffects = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Actions"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _src_app_services_authentication_authentication_service__WEBPACK_IMPORTED_MODULE_6__["AuthenticationService"],
            _src_app_services_authorization_authorization_service__WEBPACK_IMPORTED_MODULE_7__["AuthorizationService"]])
    ], AuthenticationEffects);
    return AuthenticationEffects;
}());



/***/ }),

/***/ "./src/app/store/modules/authentication/authentication.reducers.ts":
/*!*************************************************************************!*\
  !*** ./src/app/store/modules/authentication/authentication.reducers.ts ***!
  \*************************************************************************/
/*! exports provided: authenticationReducers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "authenticationReducers", function() { return authenticationReducers; });
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _authentication_actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./authentication.actions */ "./src/app/store/modules/authentication/authentication.actions.ts");
/* harmony import */ var _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @src/app/services/api.service.interface */ "./src/app/services/api.service.interface.ts");
/* harmony import */ var _src_app_store_modules_user_user_actions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @src/app/store/modules/user/user.actions */ "./src/app/store/modules/user/user.actions.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};




var initialState_status = null;
var status = function (state, _a) {
    if (state === void 0) { state = initialState_status; }
    var type = _a.type;
    switch (type) {
        case _authentication_actions__WEBPACK_IMPORTED_MODULE_1__["AuthenticationActionTypes"].AUTHENTICATION_BASIC_REQUEST:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__["RequestStatus"].pending;
        case _authentication_actions__WEBPACK_IMPORTED_MODULE_1__["AuthenticationActionTypes"].AUTHENTICATION_BASIC_SUCCESS:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__["RequestStatus"].success;
        case _authentication_actions__WEBPACK_IMPORTED_MODULE_1__["AuthenticationActionTypes"].AUTHENTICATION_BASIC_FAILURE:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__["RequestStatus"].failure;
        default:
            return state;
    }
};
var initialState_entity = {
    user_id: null
};
var entity = function (state, _a) {
    if (state === void 0) { state = initialState_entity; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _authentication_actions__WEBPACK_IMPORTED_MODULE_1__["AuthenticationActionTypes"].AUTHENTICATION_BASIC_REQUEST:
            return state;
        case _authentication_actions__WEBPACK_IMPORTED_MODULE_1__["AuthenticationActionTypes"].AUTHENTICATION_BASIC_SUCCESS:
            return __assign({}, state);
        case _src_app_store_modules_user_user_actions__WEBPACK_IMPORTED_MODULE_3__["UserActionTypes"].GET_CURRENT_USER_SUCCESS:
            return __assign({}, state, { user_id: payload.result });
        case _authentication_actions__WEBPACK_IMPORTED_MODULE_1__["AuthenticationActionTypes"].AUTHENTICATION_BASIC_FAILURE:
            return state;
        case _authentication_actions__WEBPACK_IMPORTED_MODULE_1__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
            return initialState_entity;
        default:
            return state;
    }
};
var initialState_errors = null;
var errors = function (state, _a) {
    if (state === void 0) { state = initialState_errors; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _authentication_actions__WEBPACK_IMPORTED_MODULE_1__["AuthenticationActionTypes"].AUTHENTICATION_BASIC_REQUEST:
            return initialState_errors;
        case _authentication_actions__WEBPACK_IMPORTED_MODULE_1__["AuthenticationActionTypes"].AUTHENTICATION_BASIC_SUCCESS:
            return initialState_errors;
        case _authentication_actions__WEBPACK_IMPORTED_MODULE_1__["AuthenticationActionTypes"].AUTHENTICATION_BASIC_FAILURE:
            return payload.message;
        default:
            return state;
    }
};
var authenticationReducers = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["combineReducers"])({
    status: status,
    entity: entity,
    errors: errors
});


/***/ }),

/***/ "./src/app/store/modules/cards/cards.actions.ts":
/*!******************************************************!*\
  !*** ./src/app/store/modules/cards/cards.actions.ts ***!
  \******************************************************/
/*! exports provided: CardsActionTypes, GetUserCardsRequestAction, GetUserCardsSuccessAction, GetUserCardsFailureAction, RemoveUserCardRequestAction, RemoveUserCardSuccessAction, RemoveUserCardFailureAction, SendStripeTokenRequestAction, SendStripeTokenSuccessAction, SendStripeTokenFailureAction, MakeUserCardDefaultRequestAction, MakeUserCardDefaultSuccessAction, MakeUserCardDefaultFailureAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardsActionTypes", function() { return CardsActionTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetUserCardsRequestAction", function() { return GetUserCardsRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetUserCardsSuccessAction", function() { return GetUserCardsSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetUserCardsFailureAction", function() { return GetUserCardsFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RemoveUserCardRequestAction", function() { return RemoveUserCardRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RemoveUserCardSuccessAction", function() { return RemoveUserCardSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RemoveUserCardFailureAction", function() { return RemoveUserCardFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SendStripeTokenRequestAction", function() { return SendStripeTokenRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SendStripeTokenSuccessAction", function() { return SendStripeTokenSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SendStripeTokenFailureAction", function() { return SendStripeTokenFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MakeUserCardDefaultRequestAction", function() { return MakeUserCardDefaultRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MakeUserCardDefaultSuccessAction", function() { return MakeUserCardDefaultSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MakeUserCardDefaultFailureAction", function() { return MakeUserCardDefaultFailureAction; });
var CardsActionTypes;
(function (CardsActionTypes) {
    CardsActionTypes["GET_USERS_CARDS_REQUEST"] = "[get user cards] request";
    CardsActionTypes["GET_USERS_CARDS_SUCCESS"] = "[get user cards] success";
    CardsActionTypes["GET_USERS_CARDS_FAILURE"] = "[get user cards] failure";
    CardsActionTypes["REMOVE_CARD_REQUEST"] = "[remove credit card] request";
    CardsActionTypes["REMOVE_CARD_SUCCESS"] = "[remove credit card] success";
    CardsActionTypes["REMOVE_CARD_FAILURE"] = "[remove credit card] failure";
    CardsActionTypes["SEND_STRIPE_TOKEN_REQUEST"] = "[send stripe token] request";
    CardsActionTypes["SEND_STRIPE_TOKEN_SUCCESS"] = "[send stripe token] success";
    CardsActionTypes["SEND_STRIPE_TOKEN_FAILURE"] = "[send stripe token] failure";
    CardsActionTypes["MAKE_USER_CARD_DEFAULT_REQUEST"] = "[make user card default] request";
    CardsActionTypes["MAKE_USER_CARD_DEFAULT_SUCCESS"] = "[make user card default] success";
    CardsActionTypes["MAKE_USER_CARD_DEFAULT_FAILURE"] = "[make user card default] failure";
})(CardsActionTypes || (CardsActionTypes = {}));
// Get credit cards list
var GetUserCardsRequestAction = /** @class */ (function () {
    function GetUserCardsRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = CardsActionTypes.GET_USERS_CARDS_REQUEST;
    }
    GetUserCardsRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetUserCardsRequestAction;
}());

var GetUserCardsSuccessAction = /** @class */ (function () {
    function GetUserCardsSuccessAction(payload) {
        this.payload = payload;
        this.type = CardsActionTypes.GET_USERS_CARDS_SUCCESS;
    }
    GetUserCardsSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetUserCardsSuccessAction;
}());

var GetUserCardsFailureAction = /** @class */ (function () {
    function GetUserCardsFailureAction(payload) {
        this.payload = payload;
        this.type = CardsActionTypes.GET_USERS_CARDS_FAILURE;
    }
    GetUserCardsFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetUserCardsFailureAction;
}());

// Remove credit card
var RemoveUserCardRequestAction = /** @class */ (function () {
    function RemoveUserCardRequestAction(payload) {
        this.payload = payload;
        this.type = CardsActionTypes.REMOVE_CARD_REQUEST;
    }
    RemoveUserCardRequestAction.ctorParameters = function () { return [
        { type: String }
    ]; };
    return RemoveUserCardRequestAction;
}());

var RemoveUserCardSuccessAction = /** @class */ (function () {
    function RemoveUserCardSuccessAction(payload) {
        this.payload = payload;
        this.type = CardsActionTypes.REMOVE_CARD_SUCCESS;
    }
    RemoveUserCardSuccessAction.ctorParameters = function () { return [
        { type: String }
    ]; };
    return RemoveUserCardSuccessAction;
}());

var RemoveUserCardFailureAction = /** @class */ (function () {
    function RemoveUserCardFailureAction(payload) {
        this.payload = payload;
        this.type = CardsActionTypes.REMOVE_CARD_FAILURE;
    }
    RemoveUserCardFailureAction.ctorParameters = function () { return [
        { type: String }
    ]; };
    return RemoveUserCardFailureAction;
}());

// Send stripe token to the server
var SendStripeTokenRequestAction = /** @class */ (function () {
    function SendStripeTokenRequestAction(payload) {
        this.payload = payload;
        this.type = CardsActionTypes.SEND_STRIPE_TOKEN_REQUEST;
    }
    SendStripeTokenRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return SendStripeTokenRequestAction;
}());

var SendStripeTokenSuccessAction = /** @class */ (function () {
    function SendStripeTokenSuccessAction(payload) {
        this.payload = payload;
        this.type = CardsActionTypes.SEND_STRIPE_TOKEN_SUCCESS;
    }
    SendStripeTokenSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return SendStripeTokenSuccessAction;
}());

var SendStripeTokenFailureAction = /** @class */ (function () {
    function SendStripeTokenFailureAction(payload) {
        this.payload = payload;
        this.type = CardsActionTypes.SEND_STRIPE_TOKEN_FAILURE;
    }
    SendStripeTokenFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return SendStripeTokenFailureAction;
}());

// Make default
var MakeUserCardDefaultRequestAction = /** @class */ (function () {
    function MakeUserCardDefaultRequestAction(payload) {
        this.payload = payload;
        this.type = CardsActionTypes.MAKE_USER_CARD_DEFAULT_REQUEST;
    }
    MakeUserCardDefaultRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return MakeUserCardDefaultRequestAction;
}());

var MakeUserCardDefaultSuccessAction = /** @class */ (function () {
    function MakeUserCardDefaultSuccessAction(payload) {
        this.payload = payload;
        this.type = CardsActionTypes.MAKE_USER_CARD_DEFAULT_SUCCESS;
    }
    MakeUserCardDefaultSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return MakeUserCardDefaultSuccessAction;
}());

var MakeUserCardDefaultFailureAction = /** @class */ (function () {
    function MakeUserCardDefaultFailureAction(payload) {
        this.payload = payload;
        this.type = CardsActionTypes.MAKE_USER_CARD_DEFAULT_FAILURE;
    }
    MakeUserCardDefaultFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return MakeUserCardDefaultFailureAction;
}());



/***/ }),

/***/ "./src/app/store/modules/cards/cards.effects.ts":
/*!******************************************************!*\
  !*** ./src/app/store/modules/cards/cards.effects.ts ***!
  \******************************************************/
/*! exports provided: CardsEffects */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardsEffects", function() { return CardsEffects; });
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _ngrx_effects__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngrx/effects */ "./node_modules/@ngrx/effects/fesm5/effects.js");
/* harmony import */ var rxjs_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/index */ "./node_modules/rxjs/index.js");
/* harmony import */ var rxjs_index__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(rxjs_index__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _src_app_services_user_user_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @src/app/services/user/user.service */ "./src/app/services/user/user.service.ts");
/* harmony import */ var _src_app_services_cards_cards_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @src/app/services/cards/cards.service */ "./src/app/services/cards/cards.service.ts");
/* harmony import */ var _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @src/app/store/modules/cards/cards.actions */ "./src/app/store/modules/cards/cards.actions.ts");
/* harmony import */ var normalizr__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! normalizr */ "./node_modules/normalizr/dist/normalizr.es.js");
/* harmony import */ var _src_app_store_modules_cards_cards_schema__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @src/app/store/modules/cards/cards.schema */ "./src/app/store/modules/cards/cards.schema.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// Get user cards









var CardsEffects = /** @class */ (function () {
    function CardsEffects(actions$, userService, cardsService) {
        var _this = this;
        this.actions$ = actions$;
        this.userService = userService;
        this.cardsService = cardsService;
        this.getUserCards = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_6__["CardsActionTypes"].GET_USERS_CARDS_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["exhaustMap"])(function () {
            return _this.userService.getUserCards().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["map"])(function (response) {
                return new _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_6__["GetUserCardsSuccessAction"]({ response: response });
                // return new GetUserCardsSuccessAction(normalize(response, [cardsSchema]))
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["catchError"])(function (error) { return Object(rxjs_index__WEBPACK_IMPORTED_MODULE_2__["of"])(new _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_6__["GetUserCardsFailureAction"](error)); }));
        }));
        this.sendStripeToken = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_6__["CardsActionTypes"].SEND_STRIPE_TOKEN_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["exhaustMap"])(function (_a) {
            var payload = _a.payload;
            return _this.cardsService.setStripeToken(payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["map"])(function (response) {
                return new _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_6__["SendStripeTokenSuccessAction"]({ response: response });
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["catchError"])(function (error) { return Object(rxjs_index__WEBPACK_IMPORTED_MODULE_2__["of"])(new _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_6__["SendStripeTokenFailureAction"](error)); }));
        }));
        this.removeCard = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_6__["CardsActionTypes"].REMOVE_CARD_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["exhaustMap"])(function (_a) {
            var payload = _a.payload;
            return _this.cardsService.removeCard(payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["map"])(function (response) { return new _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_6__["RemoveUserCardSuccessAction"](response.id); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["catchError"])(function (error) { return Object(rxjs_index__WEBPACK_IMPORTED_MODULE_2__["of"])(new _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_6__["RemoveUserCardFailureAction"](error)); }));
        }));
        this.makeDefaultCard = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_6__["CardsActionTypes"].MAKE_USER_CARD_DEFAULT_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["exhaustMap"])(function (_a) {
            var payload = _a.payload;
            return _this.cardsService.makeDefaultCard(payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["map"])(function (response) { return new _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_6__["MakeUserCardDefaultSuccessAction"](Object(normalizr__WEBPACK_IMPORTED_MODULE_7__["normalize"])(response, [_src_app_store_modules_cards_cards_schema__WEBPACK_IMPORTED_MODULE_8__["cardsSchema"]])); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["catchError"])(function (error) { return Object(rxjs_index__WEBPACK_IMPORTED_MODULE_2__["of"])(new _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_6__["MakeUserCardDefaultFailureAction"](error)); }));
        }));
    }
    CardsEffects.ctorParameters = function () { return [
        { type: _ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Actions"] },
        { type: _src_app_services_user_user_service__WEBPACK_IMPORTED_MODULE_4__["UserService"] },
        { type: _src_app_services_cards_cards_service__WEBPACK_IMPORTED_MODULE_5__["CardsService"] }
    ]; };
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])(),
        __metadata("design:type", Object)
    ], CardsEffects.prototype, "getUserCards", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])(),
        __metadata("design:type", Object)
    ], CardsEffects.prototype, "sendStripeToken", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])(),
        __metadata("design:type", Object)
    ], CardsEffects.prototype, "removeCard", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])(),
        __metadata("design:type", Object)
    ], CardsEffects.prototype, "makeDefaultCard", void 0);
    CardsEffects = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
        __metadata("design:paramtypes", [_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Actions"], _src_app_services_user_user_service__WEBPACK_IMPORTED_MODULE_4__["UserService"], _src_app_services_cards_cards_service__WEBPACK_IMPORTED_MODULE_5__["CardsService"]])
    ], CardsEffects);
    return CardsEffects;
}());



/***/ }),

/***/ "./src/app/store/modules/cards/cards.reducers.ts":
/*!*******************************************************!*\
  !*** ./src/app/store/modules/cards/cards.reducers.ts ***!
  \*******************************************************/
/*! exports provided: cardsReducers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cardsReducers", function() { return cardsReducers; });
/* harmony import */ var _src_app_store_modules_authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @src/app/store/modules/authentication/authentication.actions */ "./src/app/store/modules/authentication/authentication.actions.ts");
/* harmony import */ var _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @src/app/store/modules/cards/cards.actions */ "./src/app/store/modules/cards/cards.actions.ts");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @src/app/services/api.service.interface */ "./src/app/services/api.service.interface.ts");




var initialState_cards = {
    cards: [],
};
var cards = function (state, _a) {
    if (state === void 0) { state = initialState_cards; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].GET_USERS_CARDS_SUCCESS:
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].SEND_STRIPE_TOKEN_SUCCESS:
            return payload.response;
        case _src_app_store_modules_authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_0__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
            return initialState_cards;
        default:
            return state;
    }
};
var initialState_status = null;
var status = function (state, _a) {
    if (state === void 0) { state = initialState_status; }
    var type = _a.type;
    switch (type) {
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].GET_USERS_CARDS_REQUEST:
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].REMOVE_CARD_REQUEST:
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].SEND_STRIPE_TOKEN_REQUEST:
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].MAKE_USER_CARD_DEFAULT_REQUEST:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_3__["RequestStatus"].pending;
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].GET_USERS_CARDS_SUCCESS:
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].REMOVE_CARD_SUCCESS:
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].SEND_STRIPE_TOKEN_SUCCESS:
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].MAKE_USER_CARD_DEFAULT_SUCCESS:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_3__["RequestStatus"].success;
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].GET_USERS_CARDS_FAILURE:
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].REMOVE_CARD_FAILURE:
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].SEND_STRIPE_TOKEN_FAILURE:
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].MAKE_USER_CARD_DEFAULT_FAILURE:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_3__["RequestStatus"].failure;
        case _src_app_store_modules_authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_0__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
            return initialState_status;
        default:
            return state;
    }
};
var initialState_status_action = null;
var statusActions = function (state, _a) {
    if (state === void 0) { state = initialState_status_action; }
    var type = _a.type;
    switch (type) {
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].MAKE_USER_CARD_DEFAULT_SUCCESS:
            return {
                action: _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].MAKE_USER_CARD_DEFAULT_SUCCESS,
                status: _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_3__["RequestStatus"].success
            };
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].SEND_STRIPE_TOKEN_SUCCESS:
            return {
                action: _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].SEND_STRIPE_TOKEN_SUCCESS,
                status: _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_3__["RequestStatus"].success
            };
        default:
            return state;
    }
};
var initialState_entities = {};
var entities = function (state, _a) {
    if (state === void 0) { state = initialState_entities; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].GET_USERS_CARDS_SUCCESS:
            return payload.response;
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].SEND_STRIPE_TOKEN_SUCCESS:
            return payload.response;
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].MAKE_USER_CARD_DEFAULT_SUCCESS:
            return payload.entities.cards;
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].REMOVE_CARD_SUCCESS:
            var result = Object.assign({}, state);
            delete result[payload];
            return result;
        case _src_app_store_modules_authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_0__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
            return initialState_entities;
        default:
            return state;
    }
};
var initialState_ids = [];
var ids = function (state, _a) {
    if (state === void 0) { state = initialState_ids; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].GET_USERS_CARDS_SUCCESS:
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].SEND_STRIPE_TOKEN_SUCCESS:
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].MAKE_USER_CARD_DEFAULT_SUCCESS:
            return payload.result;
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].REMOVE_CARD_SUCCESS:
            return state.filter(function (item) { return item !== payload; });
        case _src_app_store_modules_authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_0__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
            return null;
        default:
            return state;
    }
};
var initialState_errors = null;
var errors = function (state, _a) {
    if (state === void 0) { state = initialState_errors; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].GET_USERS_CARDS_REQUEST:
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].REMOVE_CARD_REQUEST:
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].SEND_STRIPE_TOKEN_REQUEST:
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].MAKE_USER_CARD_DEFAULT_REQUEST:
            return initialState_errors;
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].GET_USERS_CARDS_SUCCESS:
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].REMOVE_CARD_SUCCESS:
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].SEND_STRIPE_TOKEN_SUCCESS:
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].MAKE_USER_CARD_DEFAULT_SUCCESS:
            return initialState_errors;
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].GET_USERS_CARDS_FAILURE:
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].REMOVE_CARD_FAILURE:
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].SEND_STRIPE_TOKEN_FAILURE:
        case _src_app_store_modules_cards_cards_actions__WEBPACK_IMPORTED_MODULE_1__["CardsActionTypes"].MAKE_USER_CARD_DEFAULT_FAILURE:
            return payload.message;
        default:
            return state;
    }
};
var cardsReducers = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_2__["combineReducers"])({
    status: status,
    statusActions: statusActions,
    entities: entities,
    ids: ids,
    // activeId,
    errors: errors,
    cards: cards
});


/***/ }),

/***/ "./src/app/store/modules/cards/cards.schema.ts":
/*!*****************************************************!*\
  !*** ./src/app/store/modules/cards/cards.schema.ts ***!
  \*****************************************************/
/*! exports provided: cardsSchema */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cardsSchema", function() { return cardsSchema; });
/* harmony import */ var normalizr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! normalizr */ "./node_modules/normalizr/dist/normalizr.es.js");

var cardsSchema = new normalizr__WEBPACK_IMPORTED_MODULE_0__["schema"].Entity('cards');


/***/ }),

/***/ "./src/app/store/modules/cards/cards.selectors.ts":
/*!********************************************************!*\
  !*** ./src/app/store/modules/cards/cards.selectors.ts ***!
  \********************************************************/
/*! exports provided: selectCardsState, selectCards, selectCardsEntities, selectCardsStatus, selectCardsErrors, selectCardStatusActions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectCardsState", function() { return selectCardsState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectCards", function() { return selectCards; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectCardsEntities", function() { return selectCardsEntities; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectCardsStatus", function() { return selectCardsStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectCardsErrors", function() { return selectCardsErrors; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectCardStatusActions", function() { return selectCardStatusActions; });
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _helpers_adapters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../helpers/adapters */ "./src/app/store/helpers/adapters.ts");


var selectCardsState = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createFeatureSelector"])('cards');
// export const selectCards = createSelector(
//   selectCardsState,
//   getAll
// );
var selectCards = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectCardsState, function (state) { return state.cards; });
var selectCardsEntities = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectCardsState, function (state) { return state.entities; });
var selectCardsStatus = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectCardsState, _helpers_adapters__WEBPACK_IMPORTED_MODULE_1__["getStatus"]);
var selectCardsErrors = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectCardsState, _helpers_adapters__WEBPACK_IMPORTED_MODULE_1__["getErrors"]);
var selectCardStatusActions = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectCardsState, function (state) {
    return state.statusActions;
});


/***/ }),

/***/ "./src/app/store/modules/forgotten-password/forgotten-password.actions.ts":
/*!********************************************************************************!*\
  !*** ./src/app/store/modules/forgotten-password/forgotten-password.actions.ts ***!
  \********************************************************************************/
/*! exports provided: ForgottenPasswordActionTypes, ForgottenPasswordResetRequestAction, ForgottenPasswordResetSuccessAction, ForgottenPasswordResetFailureAction, ResetPasswordRequestAction, ResetPasswordSuccessAction, ResetPasswordFailureAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ForgottenPasswordActionTypes", function() { return ForgottenPasswordActionTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ForgottenPasswordResetRequestAction", function() { return ForgottenPasswordResetRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ForgottenPasswordResetSuccessAction", function() { return ForgottenPasswordResetSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ForgottenPasswordResetFailureAction", function() { return ForgottenPasswordResetFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResetPasswordRequestAction", function() { return ResetPasswordRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResetPasswordSuccessAction", function() { return ResetPasswordSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResetPasswordFailureAction", function() { return ResetPasswordFailureAction; });
var ForgottenPasswordActionTypes;
(function (ForgottenPasswordActionTypes) {
    ForgottenPasswordActionTypes["FORGOTTEN_PASSWORD_RESET_REQUEST"] = "[forgotten password reset] request";
    ForgottenPasswordActionTypes["FORGOTTEN_PASSWORD_RESET_SUCCESS"] = "[forgotten password reset] success";
    ForgottenPasswordActionTypes["FORGOTTEN_PASSWORD_RESET_FAILURE"] = "[forgotten password reset] failure";
    ForgottenPasswordActionTypes["RESET_PASSWORD_REQUEST"] = "[reset password] request";
    ForgottenPasswordActionTypes["RESET_PASSWORD_SUCCESS"] = "[reset password] success";
    ForgottenPasswordActionTypes["RESET_PASSWORD_FAILURE"] = "[reset password] failure";
})(ForgottenPasswordActionTypes || (ForgottenPasswordActionTypes = {}));
// SEND EMAIL TO RESET PASSWORD
var ForgottenPasswordResetRequestAction = /** @class */ (function () {
    function ForgottenPasswordResetRequestAction(payload) {
        this.payload = payload;
        this.type = ForgottenPasswordActionTypes.FORGOTTEN_PASSWORD_RESET_REQUEST;
    }
    ForgottenPasswordResetRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return ForgottenPasswordResetRequestAction;
}());

var ForgottenPasswordResetSuccessAction = /** @class */ (function () {
    function ForgottenPasswordResetSuccessAction(payload) {
        this.payload = payload;
        this.type = ForgottenPasswordActionTypes.FORGOTTEN_PASSWORD_RESET_SUCCESS;
    }
    ForgottenPasswordResetSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return ForgottenPasswordResetSuccessAction;
}());

var ForgottenPasswordResetFailureAction = /** @class */ (function () {
    function ForgottenPasswordResetFailureAction(payload) {
        this.payload = payload;
        this.type = ForgottenPasswordActionTypes.FORGOTTEN_PASSWORD_RESET_FAILURE;
    }
    ForgottenPasswordResetFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return ForgottenPasswordResetFailureAction;
}());

// ACTUALLY RESET PASSWORD
var ResetPasswordRequestAction = /** @class */ (function () {
    function ResetPasswordRequestAction(payload) {
        this.payload = payload;
        this.type = ForgottenPasswordActionTypes.RESET_PASSWORD_REQUEST;
    }
    ResetPasswordRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return ResetPasswordRequestAction;
}());

var ResetPasswordSuccessAction = /** @class */ (function () {
    function ResetPasswordSuccessAction(payload) {
        this.payload = payload;
        this.type = ForgottenPasswordActionTypes.RESET_PASSWORD_SUCCESS;
    }
    ResetPasswordSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return ResetPasswordSuccessAction;
}());

var ResetPasswordFailureAction = /** @class */ (function () {
    function ResetPasswordFailureAction(payload) {
        this.payload = payload;
        this.type = ForgottenPasswordActionTypes.RESET_PASSWORD_FAILURE;
    }
    ResetPasswordFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return ResetPasswordFailureAction;
}());



/***/ }),

/***/ "./src/app/store/modules/forgotten-password/forgotten-password.effects.ts":
/*!********************************************************************************!*\
  !*** ./src/app/store/modules/forgotten-password/forgotten-password.effects.ts ***!
  \********************************************************************************/
/*! exports provided: ForgottenPasswordEffects */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ForgottenPasswordEffects", function() { return ForgottenPasswordEffects; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ngrx_effects__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngrx/effects */ "./node_modules/@ngrx/effects/fesm5/effects.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _forgotten_password_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./forgotten-password.actions */ "./src/app/store/modules/forgotten-password/forgotten-password.actions.ts");
/* harmony import */ var _src_app_services_forgotten_password_forgotten_password_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @src/app/services/forgotten-password/forgotten-password.service */ "./src/app/services/forgotten-password/forgotten-password.service.ts");
/* harmony import */ var _src_app_route_names__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @src/app/route-names */ "./src/app/route-names.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var ForgottenPasswordEffects = /** @class */ (function () {
    function ForgottenPasswordEffects(actions$, router, forgottenPasswordService) {
        var _this = this;
        this.actions$ = actions$;
        this.router = router;
        this.forgottenPasswordService = forgottenPasswordService;
        this.reset = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_forgotten_password_actions__WEBPACK_IMPORTED_MODULE_5__["ForgottenPasswordActionTypes"].FORGOTTEN_PASSWORD_RESET_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["exhaustMap"])(function (_a) {
            var payload = _a.payload;
            return _this.forgottenPasswordService.attempt(payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (response) { return new _forgotten_password_actions__WEBPACK_IMPORTED_MODULE_5__["ForgottenPasswordResetSuccessAction"](response); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(function (response) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(new _forgotten_password_actions__WEBPACK_IMPORTED_MODULE_5__["ForgottenPasswordResetFailureAction"](response)); }));
        }));
        this.resetSuccess = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_forgotten_password_actions__WEBPACK_IMPORTED_MODULE_5__["ForgottenPasswordActionTypes"].FORGOTTEN_PASSWORD_RESET_SUCCESS), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (_a) {
            var payload = _a.payload;
        }));
        this.resetFailure = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_forgotten_password_actions__WEBPACK_IMPORTED_MODULE_5__["ForgottenPasswordActionTypes"].FORGOTTEN_PASSWORD_RESET_FAILURE));
        // RESET PASSWORD effects
        this.resetPasswordRequest = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_forgotten_password_actions__WEBPACK_IMPORTED_MODULE_5__["ForgottenPasswordActionTypes"].RESET_PASSWORD_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["exhaustMap"])(function (_a) {
            var payload = _a.payload;
            return _this.forgottenPasswordService.reset(payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (response) {
                _this.router.navigate(['/', _src_app_route_names__WEBPACK_IMPORTED_MODULE_7__["RouteNames"].login], {
                    state: {
                        message: 'You\'ve reset your password! Now, login with your new credentials.'
                    }
                });
                return new _forgotten_password_actions__WEBPACK_IMPORTED_MODULE_5__["ResetPasswordSuccessAction"](response);
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(function (error) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(new _forgotten_password_actions__WEBPACK_IMPORTED_MODULE_5__["ResetPasswordFailureAction"](error)); }));
        }));
        this.resetPasswordSuccess = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_forgotten_password_actions__WEBPACK_IMPORTED_MODULE_5__["ForgottenPasswordActionTypes"].RESET_PASSWORD_SUCCESS));
        this.resetPasswordFailure = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_forgotten_password_actions__WEBPACK_IMPORTED_MODULE_5__["ForgottenPasswordActionTypes"].RESET_PASSWORD_FAILURE));
    }
    ForgottenPasswordEffects.ctorParameters = function () { return [
        { type: _ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Actions"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] },
        { type: _src_app_services_forgotten_password_forgotten_password_service__WEBPACK_IMPORTED_MODULE_6__["ForgottenPasswordService"] }
    ]; };
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])(),
        __metadata("design:type", Object)
    ], ForgottenPasswordEffects.prototype, "reset", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_4__["Observable"])
    ], ForgottenPasswordEffects.prototype, "resetSuccess", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_4__["Observable"])
    ], ForgottenPasswordEffects.prototype, "resetFailure", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])(),
        __metadata("design:type", Object)
    ], ForgottenPasswordEffects.prototype, "resetPasswordRequest", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_4__["Observable"])
    ], ForgottenPasswordEffects.prototype, "resetPasswordSuccess", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_4__["Observable"])
    ], ForgottenPasswordEffects.prototype, "resetPasswordFailure", void 0);
    ForgottenPasswordEffects = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Actions"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _src_app_services_forgotten_password_forgotten_password_service__WEBPACK_IMPORTED_MODULE_6__["ForgottenPasswordService"]])
    ], ForgottenPasswordEffects);
    return ForgottenPasswordEffects;
}());



/***/ }),

/***/ "./src/app/store/modules/forgotten-password/forgotten-password.reducers.ts":
/*!*********************************************************************************!*\
  !*** ./src/app/store/modules/forgotten-password/forgotten-password.reducers.ts ***!
  \*********************************************************************************/
/*! exports provided: forgottenPasswordReducers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "forgottenPasswordReducers", function() { return forgottenPasswordReducers; });
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _forgotten_password_actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./forgotten-password.actions */ "./src/app/store/modules/forgotten-password/forgotten-password.actions.ts");
/* harmony import */ var _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @src/app/services/api.service.interface */ "./src/app/services/api.service.interface.ts");



var initialState_status = null;
var status = function (state, _a) {
    if (state === void 0) { state = initialState_status; }
    var type = _a.type;
    switch (type) {
        case _forgotten_password_actions__WEBPACK_IMPORTED_MODULE_1__["ForgottenPasswordActionTypes"].FORGOTTEN_PASSWORD_RESET_REQUEST:
        case _forgotten_password_actions__WEBPACK_IMPORTED_MODULE_1__["ForgottenPasswordActionTypes"].RESET_PASSWORD_REQUEST:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__["RequestStatus"].pending;
        case _forgotten_password_actions__WEBPACK_IMPORTED_MODULE_1__["ForgottenPasswordActionTypes"].FORGOTTEN_PASSWORD_RESET_SUCCESS:
        case _forgotten_password_actions__WEBPACK_IMPORTED_MODULE_1__["ForgottenPasswordActionTypes"].RESET_PASSWORD_SUCCESS:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__["RequestStatus"].success;
        case _forgotten_password_actions__WEBPACK_IMPORTED_MODULE_1__["ForgottenPasswordActionTypes"].FORGOTTEN_PASSWORD_RESET_FAILURE:
        case _forgotten_password_actions__WEBPACK_IMPORTED_MODULE_1__["ForgottenPasswordActionTypes"].RESET_PASSWORD_FAILURE:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__["RequestStatus"].failure;
        default:
            return state;
    }
};
var initialState_message = null;
var message = function (state, _a) {
    if (state === void 0) { state = initialState_message; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _forgotten_password_actions__WEBPACK_IMPORTED_MODULE_1__["ForgottenPasswordActionTypes"].FORGOTTEN_PASSWORD_RESET_SUCCESS:
        case _forgotten_password_actions__WEBPACK_IMPORTED_MODULE_1__["ForgottenPasswordActionTypes"].RESET_PASSWORD_SUCCESS:
            return payload.detail;
        default:
            return state;
    }
};
var initialState_errors = null;
var errors = function (state, _a) {
    if (state === void 0) { state = initialState_errors; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _forgotten_password_actions__WEBPACK_IMPORTED_MODULE_1__["ForgottenPasswordActionTypes"].FORGOTTEN_PASSWORD_RESET_REQUEST:
        case _forgotten_password_actions__WEBPACK_IMPORTED_MODULE_1__["ForgottenPasswordActionTypes"].RESET_PASSWORD_REQUEST:
            return initialState_errors;
        case _forgotten_password_actions__WEBPACK_IMPORTED_MODULE_1__["ForgottenPasswordActionTypes"].FORGOTTEN_PASSWORD_RESET_SUCCESS:
        case _forgotten_password_actions__WEBPACK_IMPORTED_MODULE_1__["ForgottenPasswordActionTypes"].RESET_PASSWORD_SUCCESS:
            return initialState_errors;
        case _forgotten_password_actions__WEBPACK_IMPORTED_MODULE_1__["ForgottenPasswordActionTypes"].FORGOTTEN_PASSWORD_RESET_FAILURE:
        case _forgotten_password_actions__WEBPACK_IMPORTED_MODULE_1__["ForgottenPasswordActionTypes"].RESET_PASSWORD_FAILURE:
            return payload.error;
        default:
            return state;
    }
};
var forgottenPasswordReducers = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["combineReducers"])({
    status: status,
    errors: errors,
    message: message
});


/***/ }),

/***/ "./src/app/store/modules/notification/notification.actions.ts":
/*!********************************************************************!*\
  !*** ./src/app/store/modules/notification/notification.actions.ts ***!
  \********************************************************************/
/*! exports provided: NotificationActionTypes, GetNotificationListRequestAction, GetNotificationListSuccessAction, GetNotificationListFailureAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotificationActionTypes", function() { return NotificationActionTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetNotificationListRequestAction", function() { return GetNotificationListRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetNotificationListSuccessAction", function() { return GetNotificationListSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetNotificationListFailureAction", function() { return GetNotificationListFailureAction; });
var NotificationActionTypes;
(function (NotificationActionTypes) {
    NotificationActionTypes["GET_NOTIFICATION_LIST_REQUEST"] = "[get notification list] request";
    NotificationActionTypes["GET_NOTIFICATION_LIST_SUCCESS"] = "[get notification list] success";
    NotificationActionTypes["GET_NOTIFICATION_LIST_FAILURE"] = "[get notification list] failure";
})(NotificationActionTypes || (NotificationActionTypes = {}));
// Get teachers list
var GetNotificationListRequestAction = /** @class */ (function () {
    function GetNotificationListRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = NotificationActionTypes.GET_NOTIFICATION_LIST_REQUEST;
    }
    GetNotificationListRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetNotificationListRequestAction;
}());

var GetNotificationListSuccessAction = /** @class */ (function () {
    function GetNotificationListSuccessAction(payload) {
        this.payload = payload;
        this.type = NotificationActionTypes.GET_NOTIFICATION_LIST_SUCCESS;
    }
    GetNotificationListSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetNotificationListSuccessAction;
}());

var GetNotificationListFailureAction = /** @class */ (function () {
    function GetNotificationListFailureAction(payload) {
        this.payload = payload;
        this.type = NotificationActionTypes.GET_NOTIFICATION_LIST_FAILURE;
    }
    GetNotificationListFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetNotificationListFailureAction;
}());



/***/ }),

/***/ "./src/app/store/modules/notification/notification.effects.ts":
/*!********************************************************************!*\
  !*** ./src/app/store/modules/notification/notification.effects.ts ***!
  \********************************************************************/
/*! exports provided: NotificationEffects */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotificationEffects", function() { return NotificationEffects; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ngrx_effects__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngrx/effects */ "./node_modules/@ngrx/effects/fesm5/effects.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var normalizr__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! normalizr */ "./node_modules/normalizr/dist/normalizr.es.js");
/* harmony import */ var _src_app_services_notification_notification_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @src/app/services/notification/notification.service */ "./src/app/services/notification/notification.service.ts");
/* harmony import */ var _src_app_store_modules_notification_notification_actions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @src/app/store/modules/notification/notification.actions */ "./src/app/store/modules/notification/notification.actions.ts");
/* harmony import */ var _src_app_store_modules_notification_notification_schema__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @src/app/store/modules/notification/notification.schema */ "./src/app/store/modules/notification/notification.schema.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var NotificationEffects = /** @class */ (function () {
    function NotificationEffects(actions$, router, notificationService) {
        var _this = this;
        this.actions$ = actions$;
        this.router = router;
        this.notificationService = notificationService;
        this.getNotificationList = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_src_app_store_modules_notification_notification_actions__WEBPACK_IMPORTED_MODULE_7__["NotificationActionTypes"].GET_NOTIFICATION_LIST_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["exhaustMap"])(function () {
            return _this.notificationService.list().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (response) { return new _src_app_store_modules_notification_notification_actions__WEBPACK_IMPORTED_MODULE_7__["GetNotificationListSuccessAction"](Object(normalizr__WEBPACK_IMPORTED_MODULE_5__["normalize"])(response, [_src_app_store_modules_notification_notification_schema__WEBPACK_IMPORTED_MODULE_8__["notificationSchema"]])); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(function (error) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(new _src_app_store_modules_notification_notification_actions__WEBPACK_IMPORTED_MODULE_7__["GetNotificationListFailureAction"](error)); }));
        }));
    }
    NotificationEffects.ctorParameters = function () { return [
        { type: _ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Actions"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] },
        { type: _src_app_services_notification_notification_service__WEBPACK_IMPORTED_MODULE_6__["NotificationService"] }
    ]; };
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])(),
        __metadata("design:type", Object)
    ], NotificationEffects.prototype, "getNotificationList", void 0);
    NotificationEffects = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Actions"], _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"], _src_app_services_notification_notification_service__WEBPACK_IMPORTED_MODULE_6__["NotificationService"]])
    ], NotificationEffects);
    return NotificationEffects;
}());



/***/ }),

/***/ "./src/app/store/modules/notification/notification.reducers.ts":
/*!*********************************************************************!*\
  !*** ./src/app/store/modules/notification/notification.reducers.ts ***!
  \*********************************************************************/
/*! exports provided: notificationReducers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "notificationReducers", function() { return notificationReducers; });
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @src/app/services/api.service.interface */ "./src/app/services/api.service.interface.ts");
/* harmony import */ var _src_app_store_modules_notification_notification_actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @src/app/store/modules/notification/notification.actions */ "./src/app/store/modules/notification/notification.actions.ts");
/* harmony import */ var _src_app_store_modules_user_user_actions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @src/app/store/modules/user/user.actions */ "./src/app/store/modules/user/user.actions.ts");
/* harmony import */ var _src_app_store_modules_authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @src/app/store/modules/authentication/authentication.actions */ "./src/app/store/modules/authentication/authentication.actions.ts");





var initialState_status = null;
var status = function (state, _a) {
    if (state === void 0) { state = initialState_status; }
    var type = _a.type;
    switch (type) {
        case _src_app_store_modules_notification_notification_actions__WEBPACK_IMPORTED_MODULE_2__["NotificationActionTypes"].GET_NOTIFICATION_LIST_REQUEST:
        case _src_app_store_modules_user_user_actions__WEBPACK_IMPORTED_MODULE_3__["UserActionTypes"].GET_CURRENT_USER_REQUEST:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_1__["RequestStatus"].pending;
        case _src_app_store_modules_notification_notification_actions__WEBPACK_IMPORTED_MODULE_2__["NotificationActionTypes"].GET_NOTIFICATION_LIST_SUCCESS:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_1__["RequestStatus"].success;
        case _src_app_store_modules_notification_notification_actions__WEBPACK_IMPORTED_MODULE_2__["NotificationActionTypes"].GET_NOTIFICATION_LIST_FAILURE:
        case _src_app_store_modules_user_user_actions__WEBPACK_IMPORTED_MODULE_3__["UserActionTypes"].GET_CURRENT_USER_FAILURE:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_1__["RequestStatus"].failure;
        default:
            return state;
    }
};
var initialState_entities = {};
var entities = function (state, _a) {
    if (state === void 0) { state = initialState_entities; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _src_app_store_modules_notification_notification_actions__WEBPACK_IMPORTED_MODULE_2__["NotificationActionTypes"].GET_NOTIFICATION_LIST_REQUEST:
            return initialState_entities;
        case _src_app_store_modules_notification_notification_actions__WEBPACK_IMPORTED_MODULE_2__["NotificationActionTypes"].GET_NOTIFICATION_LIST_SUCCESS:
            return payload.entities.notifications;
        case _src_app_store_modules_notification_notification_actions__WEBPACK_IMPORTED_MODULE_2__["NotificationActionTypes"].GET_NOTIFICATION_LIST_FAILURE:
            return initialState_entities;
        case _src_app_store_modules_authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_4__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
            return null;
        default:
            return state;
    }
};
var initialState_ids = [];
var ids = function (state, _a) {
    if (state === void 0) { state = initialState_ids; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _src_app_store_modules_notification_notification_actions__WEBPACK_IMPORTED_MODULE_2__["NotificationActionTypes"].GET_NOTIFICATION_LIST_REQUEST:
            return initialState_ids;
        case _src_app_store_modules_notification_notification_actions__WEBPACK_IMPORTED_MODULE_2__["NotificationActionTypes"].GET_NOTIFICATION_LIST_SUCCESS:
            return payload.result;
        case _src_app_store_modules_notification_notification_actions__WEBPACK_IMPORTED_MODULE_2__["NotificationActionTypes"].GET_NOTIFICATION_LIST_FAILURE:
            return initialState_ids;
        case _src_app_store_modules_authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_4__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
            return null;
        default:
            return state;
    }
};
var initialState_errors = null;
var errors = function (state, _a) {
    if (state === void 0) { state = initialState_errors; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _src_app_store_modules_notification_notification_actions__WEBPACK_IMPORTED_MODULE_2__["NotificationActionTypes"].GET_NOTIFICATION_LIST_REQUEST:
            return initialState_errors;
        case _src_app_store_modules_notification_notification_actions__WEBPACK_IMPORTED_MODULE_2__["NotificationActionTypes"].GET_NOTIFICATION_LIST_SUCCESS:
            return initialState_errors;
        case _src_app_store_modules_notification_notification_actions__WEBPACK_IMPORTED_MODULE_2__["NotificationActionTypes"].GET_NOTIFICATION_LIST_FAILURE:
            return payload.message;
        default:
            return state;
    }
};
var notificationReducers = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["combineReducers"])({
    status: status,
    entities: entities,
    ids: ids,
    errors: errors
});


/***/ }),

/***/ "./src/app/store/modules/notification/notification.schema.ts":
/*!*******************************************************************!*\
  !*** ./src/app/store/modules/notification/notification.schema.ts ***!
  \*******************************************************************/
/*! exports provided: notificationSchema */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "notificationSchema", function() { return notificationSchema; });
/* harmony import */ var normalizr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! normalizr */ "./node_modules/normalizr/dist/normalizr.es.js");

// Define a teachers schema
var notificationSchema = new normalizr__WEBPACK_IMPORTED_MODULE_0__["schema"].Entity('notifications');


/***/ }),

/***/ "./src/app/store/modules/notification/notification.selectors.ts":
/*!**********************************************************************!*\
  !*** ./src/app/store/modules/notification/notification.selectors.ts ***!
  \**********************************************************************/
/*! exports provided: selectNotificationState, selectNotificationIds, selectNotificationEntities, selectNotificationStatus, selectNotificationErrors, selectNotifications */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectNotificationState", function() { return selectNotificationState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectNotificationIds", function() { return selectNotificationIds; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectNotificationEntities", function() { return selectNotificationEntities; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectNotificationStatus", function() { return selectNotificationStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectNotificationErrors", function() { return selectNotificationErrors; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectNotifications", function() { return selectNotifications; });
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _helpers_adapters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../helpers/adapters */ "./src/app/store/helpers/adapters.ts");
/* harmony import */ var normalizr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! normalizr */ "./node_modules/normalizr/dist/normalizr.es.js");
/* harmony import */ var _src_app_store_modules_notification_notification_schema__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @src/app/store/modules/notification/notification.schema */ "./src/app/store/modules/notification/notification.schema.ts");




var selectNotificationState = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createFeatureSelector"])('notifications');
var selectNotificationIds = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectNotificationState, function (state) { return state.ids; });
var selectNotificationEntities = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectNotificationState, function (state) { return state.entities; });
var selectNotificationStatus = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectNotificationState, _helpers_adapters__WEBPACK_IMPORTED_MODULE_1__["getStatus"]);
var selectNotificationErrors = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectNotificationState, _helpers_adapters__WEBPACK_IMPORTED_MODULE_1__["getErrors"]);
// notification list
var selectNotifications = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])([selectNotificationIds, selectNotificationEntities], function (ids, entities) { return Object(normalizr__WEBPACK_IMPORTED_MODULE_2__["denormalize"])(ids, [_src_app_store_modules_notification_notification_schema__WEBPACK_IMPORTED_MODULE_3__["notificationSchema"]], { notifications: entities }); });


/***/ }),

/***/ "./src/app/store/modules/offline-detection/offline-detection.actions.ts":
/*!******************************************************************************!*\
  !*** ./src/app/store/modules/offline-detection/offline-detection.actions.ts ***!
  \******************************************************************************/
/*! exports provided: NetworkActionTypes, StartOnlineOfflineCheckAction, SetIsOnlineAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NetworkActionTypes", function() { return NetworkActionTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StartOnlineOfflineCheckAction", function() { return StartOnlineOfflineCheckAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SetIsOnlineAction", function() { return SetIsOnlineAction; });
var NetworkActionTypes;
(function (NetworkActionTypes) {
    NetworkActionTypes["START_ONLINE_OFFLINE_CHECK"] = "[Network] StartOnlineOfflineCheck";
    NetworkActionTypes["SET_IS_ONLINE"] = "[Network] SetIsOnline";
})(NetworkActionTypes || (NetworkActionTypes = {}));
var StartOnlineOfflineCheckAction = /** @class */ (function () {
    function StartOnlineOfflineCheckAction() {
        this.type = NetworkActionTypes.START_ONLINE_OFFLINE_CHECK;
    }
    return StartOnlineOfflineCheckAction;
}());

var SetIsOnlineAction = /** @class */ (function () {
    function SetIsOnlineAction(payload) {
        this.payload = payload;
        this.type = NetworkActionTypes.SET_IS_ONLINE;
    }
    SetIsOnlineAction.ctorParameters = function () { return [
        { type: Boolean }
    ]; };
    return SetIsOnlineAction;
}());



/***/ }),

/***/ "./src/app/store/modules/offline-detection/offline-detection.reducers.ts":
/*!*******************************************************************************!*\
  !*** ./src/app/store/modules/offline-detection/offline-detection.reducers.ts ***!
  \*******************************************************************************/
/*! exports provided: initialState, networkReducer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initialState", function() { return initialState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "networkReducer", function() { return networkReducer; });
/* harmony import */ var _offline_detection_actions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./offline-detection.actions */ "./src/app/store/modules/offline-detection/offline-detection.actions.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};

var initialState = {
    isOnline: navigator.onLine
};
function networkReducer(state, action) {
    if (state === void 0) { state = initialState; }
    switch (action.type) {
        case _offline_detection_actions__WEBPACK_IMPORTED_MODULE_0__["NetworkActionTypes"].SET_IS_ONLINE:
            return handleIsOnline(state, action);
        default:
            return state;
    }
}
function handleIsOnline(state, action) {
    return __assign({}, state, { isOnline: action.payload });
}


/***/ }),

/***/ "./src/app/store/modules/offline-detection/offline-detection.selectors.ts":
/*!********************************************************************************!*\
  !*** ./src/app/store/modules/offline-detection/offline-detection.selectors.ts ***!
  \********************************************************************************/
/*! exports provided: getNetworkState, getIsOnline */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getNetworkState", function() { return getNetworkState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getIsOnline", function() { return getIsOnline; });
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");

var getNetworkState = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createFeatureSelector"])('network');
var getIsOnline = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(getNetworkState, function (state) { return state.isOnline; });


/***/ }),

/***/ "./src/app/store/modules/onboarding/onboarding.actions.ts":
/*!****************************************************************!*\
  !*** ./src/app/store/modules/onboarding/onboarding.actions.ts ***!
  \****************************************************************/
/*! exports provided: OnboardingActionTypes, OnboardingStudentStepOneRequestAction, OnboardingStudentStepOneSuccessAction, OnboardingStudentStepOneFailureAction, OnboardingTeacherStepOneRequestAction, OnboardingTeacherStepOneStoreFormAction, OnboardingTeacherStepOneClearFormAction, OnboardingTeacherStepOneSuccessAction, OnboardingTeacherStepOneFailureAction, OnboardingTeacherStepTwoRequestAction, OnboardingTeacherStepTwoSuccessAction, OnboardingTeacherStepTwoFailureAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OnboardingActionTypes", function() { return OnboardingActionTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OnboardingStudentStepOneRequestAction", function() { return OnboardingStudentStepOneRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OnboardingStudentStepOneSuccessAction", function() { return OnboardingStudentStepOneSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OnboardingStudentStepOneFailureAction", function() { return OnboardingStudentStepOneFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OnboardingTeacherStepOneRequestAction", function() { return OnboardingTeacherStepOneRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OnboardingTeacherStepOneStoreFormAction", function() { return OnboardingTeacherStepOneStoreFormAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OnboardingTeacherStepOneClearFormAction", function() { return OnboardingTeacherStepOneClearFormAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OnboardingTeacherStepOneSuccessAction", function() { return OnboardingTeacherStepOneSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OnboardingTeacherStepOneFailureAction", function() { return OnboardingTeacherStepOneFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OnboardingTeacherStepTwoRequestAction", function() { return OnboardingTeacherStepTwoRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OnboardingTeacherStepTwoSuccessAction", function() { return OnboardingTeacherStepTwoSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OnboardingTeacherStepTwoFailureAction", function() { return OnboardingTeacherStepTwoFailureAction; });
var OnboardingActionTypes;
(function (OnboardingActionTypes) {
    OnboardingActionTypes["ONBOARDING_STUDENT_STEP_ONE_REQUEST"] = "[onboarding student step one] request";
    OnboardingActionTypes["ONBOARDING_STUDENT_STEP_ONE_SUCCESS"] = "[onboarding student step one] success";
    OnboardingActionTypes["ONBOARDING_STUDENT_STEP_ONE_FAILURE"] = "[onboarding student step one] failure";
    OnboardingActionTypes["ONBOARDING_TEACHER_STEP_ONE_REQUEST"] = "[onboarding teacher step one] request";
    OnboardingActionTypes["ONBOARDING_TEACHER_STEP_ONE_SUCCESS"] = "[onboarding teacher step one] success";
    OnboardingActionTypes["ONBOARDING_TEACHER_STEP_ONE_FAILURE"] = "[onboarding teacher step one] failure";
    OnboardingActionTypes["ONBOARDING_TEACHER_STEP_TWO_REQUEST"] = "[onboarding teacher step two] request";
    OnboardingActionTypes["ONBOARDING_TEACHER_STEP_TWO_SUCCESS"] = "[onboarding teacher step two] success";
    OnboardingActionTypes["ONBOARDING_TEACHER_STEP_TWO_FAILURE"] = "[onboarding teacher step two] failure";
    OnboardingActionTypes["ONBOARDING_TEACHER_STEP_ONE_STORE_FORM_DATA"] = "[onboarding teacher step one] store form data";
    OnboardingActionTypes["ONBOARDING_TEACHER_STEP_ONE_CLEAR_FORM"] = "[onboarding teacher step one] clear form";
})(OnboardingActionTypes || (OnboardingActionTypes = {}));
// Student: step one
var OnboardingStudentStepOneRequestAction = /** @class */ (function () {
    function OnboardingStudentStepOneRequestAction(payload) {
        this.payload = payload;
        this.type = OnboardingActionTypes.ONBOARDING_STUDENT_STEP_ONE_REQUEST;
    }
    OnboardingStudentStepOneRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return OnboardingStudentStepOneRequestAction;
}());

var OnboardingStudentStepOneSuccessAction = /** @class */ (function () {
    function OnboardingStudentStepOneSuccessAction(payload) {
        this.payload = payload;
        this.type = OnboardingActionTypes.ONBOARDING_STUDENT_STEP_ONE_SUCCESS;
    }
    OnboardingStudentStepOneSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return OnboardingStudentStepOneSuccessAction;
}());

var OnboardingStudentStepOneFailureAction = /** @class */ (function () {
    function OnboardingStudentStepOneFailureAction(payload) {
        this.payload = payload;
        this.type = OnboardingActionTypes.ONBOARDING_STUDENT_STEP_ONE_FAILURE;
    }
    OnboardingStudentStepOneFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return OnboardingStudentStepOneFailureAction;
}());

// Teacher: step one
var OnboardingTeacherStepOneRequestAction = /** @class */ (function () {
    function OnboardingTeacherStepOneRequestAction(payload) {
        this.payload = payload;
        this.type = OnboardingActionTypes.ONBOARDING_TEACHER_STEP_ONE_REQUEST;
    }
    OnboardingTeacherStepOneRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return OnboardingTeacherStepOneRequestAction;
}());

var OnboardingTeacherStepOneStoreFormAction = /** @class */ (function () {
    function OnboardingTeacherStepOneStoreFormAction(payload) {
        this.payload = payload;
        this.type = OnboardingActionTypes.ONBOARDING_TEACHER_STEP_ONE_STORE_FORM_DATA;
    }
    OnboardingTeacherStepOneStoreFormAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return OnboardingTeacherStepOneStoreFormAction;
}());

var OnboardingTeacherStepOneClearFormAction = /** @class */ (function () {
    function OnboardingTeacherStepOneClearFormAction() {
        this.type = OnboardingActionTypes.ONBOARDING_TEACHER_STEP_ONE_CLEAR_FORM;
    }
    return OnboardingTeacherStepOneClearFormAction;
}());

var OnboardingTeacherStepOneSuccessAction = /** @class */ (function () {
    function OnboardingTeacherStepOneSuccessAction(payload) {
        this.payload = payload;
        this.type = OnboardingActionTypes.ONBOARDING_TEACHER_STEP_ONE_SUCCESS;
    }
    OnboardingTeacherStepOneSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return OnboardingTeacherStepOneSuccessAction;
}());

var OnboardingTeacherStepOneFailureAction = /** @class */ (function () {
    function OnboardingTeacherStepOneFailureAction(payload) {
        this.payload = payload;
        this.type = OnboardingActionTypes.ONBOARDING_TEACHER_STEP_ONE_FAILURE;
    }
    OnboardingTeacherStepOneFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return OnboardingTeacherStepOneFailureAction;
}());

// Teacher: step two
var OnboardingTeacherStepTwoRequestAction = /** @class */ (function () {
    function OnboardingTeacherStepTwoRequestAction(payload) {
        this.payload = payload;
        this.type = OnboardingActionTypes.ONBOARDING_TEACHER_STEP_TWO_REQUEST;
    }
    OnboardingTeacherStepTwoRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return OnboardingTeacherStepTwoRequestAction;
}());

var OnboardingTeacherStepTwoSuccessAction = /** @class */ (function () {
    function OnboardingTeacherStepTwoSuccessAction(payload) {
        this.payload = payload;
        this.type = OnboardingActionTypes.ONBOARDING_TEACHER_STEP_TWO_SUCCESS;
    }
    OnboardingTeacherStepTwoSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return OnboardingTeacherStepTwoSuccessAction;
}());

var OnboardingTeacherStepTwoFailureAction = /** @class */ (function () {
    function OnboardingTeacherStepTwoFailureAction(payload) {
        this.payload = payload;
        this.type = OnboardingActionTypes.ONBOARDING_TEACHER_STEP_TWO_FAILURE;
    }
    OnboardingTeacherStepTwoFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return OnboardingTeacherStepTwoFailureAction;
}());



/***/ }),

/***/ "./src/app/store/modules/onboarding/onboarding.effects.ts":
/*!****************************************************************!*\
  !*** ./src/app/store/modules/onboarding/onboarding.effects.ts ***!
  \****************************************************************/
/*! exports provided: OnboardingEffects */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OnboardingEffects", function() { return OnboardingEffects; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ngrx_effects__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngrx/effects */ "./node_modules/@ngrx/effects/fesm5/effects.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _onboarding_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./onboarding.actions */ "./src/app/store/modules/onboarding/onboarding.actions.ts");
/* harmony import */ var _services_onboarding_onboarding_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/onboarding/onboarding.service */ "./src/app/services/onboarding/onboarding.service.ts");
/* harmony import */ var _src_app_services__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @src/app/services */ "./src/app/services/index.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var OnboardingEffects = /** @class */ (function () {
    function OnboardingEffects(actions$, router, onboardingService, teacherService) {
        var _this = this;
        this.actions$ = actions$;
        this.router = router;
        this.onboardingService = onboardingService;
        this.teacherService = teacherService;
        // Student onboarding, store step one
        this.studentStepOne = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_onboarding_actions__WEBPACK_IMPORTED_MODULE_5__["OnboardingActionTypes"].ONBOARDING_STUDENT_STEP_ONE_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["exhaustMap"])(function (_a) {
            var payload = _a.payload;
            return _this.onboardingService.studentStepOne(payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (response) {
                return new _onboarding_actions__WEBPACK_IMPORTED_MODULE_5__["OnboardingStudentStepOneSuccessAction"](response);
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(function (error) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(new _onboarding_actions__WEBPACK_IMPORTED_MODULE_5__["OnboardingStudentStepOneFailureAction"](error)); }));
        }));
        this.studentStepOneSuccess = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_onboarding_actions__WEBPACK_IMPORTED_MODULE_5__["OnboardingActionTypes"].ONBOARDING_STUDENT_STEP_ONE_SUCCESS));
        this.studentStepOneFailure = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_onboarding_actions__WEBPACK_IMPORTED_MODULE_5__["OnboardingActionTypes"].ONBOARDING_STUDENT_STEP_ONE_FAILURE));
        // Teacher onboarding, store step one
        this.teacherStepOne = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_onboarding_actions__WEBPACK_IMPORTED_MODULE_5__["OnboardingActionTypes"].ONBOARDING_TEACHER_STEP_ONE_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["exhaustMap"])(function (_a) {
            var payload = _a.payload;
            return _this.onboardingService.teacherStepOne(payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (response) {
                return new _onboarding_actions__WEBPACK_IMPORTED_MODULE_5__["OnboardingTeacherStepOneSuccessAction"](response);
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(function (error) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(new _onboarding_actions__WEBPACK_IMPORTED_MODULE_5__["OnboardingTeacherStepOneFailureAction"](error)); }));
        }));
        this.teacherStepOneSuccess = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_onboarding_actions__WEBPACK_IMPORTED_MODULE_5__["OnboardingActionTypes"].ONBOARDING_TEACHER_STEP_ONE_SUCCESS), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (_a) {
            var payload = _a.payload;
            // // Navigate to the stripe URL
            // if (payload && payload.stripe_link) {
            //   console.log('go to step two');
            //   // window.location.href = payload.stripe_link;
            //   this.router.navigate(TeacherStepTwo);
            // }
        }));
        this.teacherStepOneFailure = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_onboarding_actions__WEBPACK_IMPORTED_MODULE_5__["OnboardingActionTypes"].ONBOARDING_TEACHER_STEP_ONE_FAILURE));
        // Teacher onboarding, store step two
        this.teacherStepTwo = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_onboarding_actions__WEBPACK_IMPORTED_MODULE_5__["OnboardingActionTypes"].ONBOARDING_TEACHER_STEP_TWO_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["exhaustMap"])(function (_a) {
            var payload = _a.payload;
            return _this.onboardingService.teacherStepTwo(payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (response) { return new _onboarding_actions__WEBPACK_IMPORTED_MODULE_5__["OnboardingTeacherStepTwoSuccessAction"](response); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(function (error) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(new _onboarding_actions__WEBPACK_IMPORTED_MODULE_5__["OnboardingTeacherStepTwoFailureAction"](error)); }));
        }));
        this.teacherStepTwoSuccess = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_onboarding_actions__WEBPACK_IMPORTED_MODULE_5__["OnboardingActionTypes"].ONBOARDING_TEACHER_STEP_TWO_SUCCESS), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (_a) {
            var payload = _a.payload;
            // console.log('stap two success!', payload);
        }));
        this.teacherStepTwoFailure = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_onboarding_actions__WEBPACK_IMPORTED_MODULE_5__["OnboardingActionTypes"].ONBOARDING_TEACHER_STEP_TWO_FAILURE));
    }
    OnboardingEffects.ctorParameters = function () { return [
        { type: _ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Actions"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] },
        { type: _services_onboarding_onboarding_service__WEBPACK_IMPORTED_MODULE_6__["OnboardingService"] },
        { type: _src_app_services__WEBPACK_IMPORTED_MODULE_7__["TeacherService"] }
    ]; };
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])(),
        __metadata("design:type", Object)
    ], OnboardingEffects.prototype, "studentStepOne", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_4__["Observable"])
    ], OnboardingEffects.prototype, "studentStepOneSuccess", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_4__["Observable"])
    ], OnboardingEffects.prototype, "studentStepOneFailure", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])(),
        __metadata("design:type", Object)
    ], OnboardingEffects.prototype, "teacherStepOne", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_4__["Observable"])
    ], OnboardingEffects.prototype, "teacherStepOneSuccess", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_4__["Observable"])
    ], OnboardingEffects.prototype, "teacherStepOneFailure", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])(),
        __metadata("design:type", Object)
    ], OnboardingEffects.prototype, "teacherStepTwo", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_4__["Observable"])
    ], OnboardingEffects.prototype, "teacherStepTwoSuccess", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_4__["Observable"])
    ], OnboardingEffects.prototype, "teacherStepTwoFailure", void 0);
    OnboardingEffects = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Actions"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _services_onboarding_onboarding_service__WEBPACK_IMPORTED_MODULE_6__["OnboardingService"],
            _src_app_services__WEBPACK_IMPORTED_MODULE_7__["TeacherService"]])
    ], OnboardingEffects);
    return OnboardingEffects;
}());



/***/ }),

/***/ "./src/app/store/modules/onboarding/onboarding.reducers.ts":
/*!*****************************************************************!*\
  !*** ./src/app/store/modules/onboarding/onboarding.reducers.ts ***!
  \*****************************************************************/
/*! exports provided: onboardingReducers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onboardingReducers", function() { return onboardingReducers; });
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _onboarding_actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./onboarding.actions */ "./src/app/store/modules/onboarding/onboarding.actions.ts");
/* harmony import */ var _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @src/app/services/api.service.interface */ "./src/app/services/api.service.interface.ts");
/* harmony import */ var _src_app_store_modules_authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @src/app/store/modules/authentication/authentication.actions */ "./src/app/store/modules/authentication/authentication.actions.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};




var initialState_status = null;
var status = function (state, _a) {
    if (state === void 0) { state = initialState_status; }
    var type = _a.type;
    switch (type) {
        case _onboarding_actions__WEBPACK_IMPORTED_MODULE_1__["OnboardingActionTypes"].ONBOARDING_STUDENT_STEP_ONE_REQUEST:
        case _onboarding_actions__WEBPACK_IMPORTED_MODULE_1__["OnboardingActionTypes"].ONBOARDING_TEACHER_STEP_ONE_REQUEST:
        case _onboarding_actions__WEBPACK_IMPORTED_MODULE_1__["OnboardingActionTypes"].ONBOARDING_TEACHER_STEP_TWO_REQUEST:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__["RequestStatus"].pending;
        case _onboarding_actions__WEBPACK_IMPORTED_MODULE_1__["OnboardingActionTypes"].ONBOARDING_STUDENT_STEP_ONE_SUCCESS:
        case _onboarding_actions__WEBPACK_IMPORTED_MODULE_1__["OnboardingActionTypes"].ONBOARDING_TEACHER_STEP_ONE_SUCCESS:
        case _onboarding_actions__WEBPACK_IMPORTED_MODULE_1__["OnboardingActionTypes"].ONBOARDING_TEACHER_STEP_TWO_SUCCESS:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__["RequestStatus"].success;
        case _onboarding_actions__WEBPACK_IMPORTED_MODULE_1__["OnboardingActionTypes"].ONBOARDING_STUDENT_STEP_ONE_FAILURE:
        case _onboarding_actions__WEBPACK_IMPORTED_MODULE_1__["OnboardingActionTypes"].ONBOARDING_TEACHER_STEP_ONE_FAILURE:
        case _onboarding_actions__WEBPACK_IMPORTED_MODULE_1__["OnboardingActionTypes"].ONBOARDING_TEACHER_STEP_TWO_FAILURE:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__["RequestStatus"].failure;
        case _src_app_store_modules_authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_3__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
            return initialState_status;
        default:
            return state;
    }
};
var initialState_entity = {
    type: null,
    step: 0,
    isCompleted: false
};
var entity = function (state, _a) {
    if (state === void 0) { state = initialState_entity; }
    var type = _a.type;
    switch (type) {
        case _onboarding_actions__WEBPACK_IMPORTED_MODULE_1__["OnboardingActionTypes"].ONBOARDING_STUDENT_STEP_ONE_REQUEST:
            return state;
        case _onboarding_actions__WEBPACK_IMPORTED_MODULE_1__["OnboardingActionTypes"].ONBOARDING_STUDENT_STEP_ONE_SUCCESS:
            return {
                type: 'student',
                step: 1,
                isCompleted: true
            };
        case _onboarding_actions__WEBPACK_IMPORTED_MODULE_1__["OnboardingActionTypes"].ONBOARDING_TEACHER_STEP_ONE_SUCCESS:
            return {
                type: 'teacher',
                step: 1,
                isCompleted: false
            };
        case _onboarding_actions__WEBPACK_IMPORTED_MODULE_1__["OnboardingActionTypes"].ONBOARDING_TEACHER_STEP_TWO_SUCCESS:
            return {
                type: 'teacher',
                step: 2,
                isCompleted: true
            };
        case _onboarding_actions__WEBPACK_IMPORTED_MODULE_1__["OnboardingActionTypes"].ONBOARDING_STUDENT_STEP_ONE_FAILURE:
            return state;
        case _src_app_store_modules_authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_3__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
            return initialState_entity;
        default:
            return state;
    }
};
var initialState_errors = null;
var errors = function (state, _a) {
    if (state === void 0) { state = initialState_errors; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _onboarding_actions__WEBPACK_IMPORTED_MODULE_1__["OnboardingActionTypes"].ONBOARDING_STUDENT_STEP_ONE_REQUEST:
        case _onboarding_actions__WEBPACK_IMPORTED_MODULE_1__["OnboardingActionTypes"].ONBOARDING_TEACHER_STEP_ONE_REQUEST:
        case _onboarding_actions__WEBPACK_IMPORTED_MODULE_1__["OnboardingActionTypes"].ONBOARDING_TEACHER_STEP_TWO_REQUEST:
        case _onboarding_actions__WEBPACK_IMPORTED_MODULE_1__["OnboardingActionTypes"].ONBOARDING_STUDENT_STEP_ONE_SUCCESS:
        case _onboarding_actions__WEBPACK_IMPORTED_MODULE_1__["OnboardingActionTypes"].ONBOARDING_TEACHER_STEP_ONE_SUCCESS:
        case _onboarding_actions__WEBPACK_IMPORTED_MODULE_1__["OnboardingActionTypes"].ONBOARDING_TEACHER_STEP_TWO_SUCCESS:
            return initialState_errors;
        case _onboarding_actions__WEBPACK_IMPORTED_MODULE_1__["OnboardingActionTypes"].ONBOARDING_STUDENT_STEP_ONE_FAILURE:
        case _onboarding_actions__WEBPACK_IMPORTED_MODULE_1__["OnboardingActionTypes"].ONBOARDING_TEACHER_STEP_ONE_FAILURE:
        case _onboarding_actions__WEBPACK_IMPORTED_MODULE_1__["OnboardingActionTypes"].ONBOARDING_TEACHER_STEP_TWO_FAILURE:
            return payload.message;
        case _src_app_store_modules_authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_3__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
            return initialState_errors;
        default:
            return state;
    }
};
var initialState = {
    formData: null
};
var dataState = function (state, _a) {
    if (state === void 0) { state = initialState; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _onboarding_actions__WEBPACK_IMPORTED_MODULE_1__["OnboardingActionTypes"].ONBOARDING_TEACHER_STEP_ONE_STORE_FORM_DATA:
            return __assign({}, state, { formData: payload });
        case _onboarding_actions__WEBPACK_IMPORTED_MODULE_1__["OnboardingActionTypes"].ONBOARDING_TEACHER_STEP_ONE_CLEAR_FORM:
            return __assign({}, state, { formData: null });
        default:
            return state;
    }
};
var onboardingReducers = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["combineReducers"])({
    status: status,
    entity: entity,
    errors: errors,
    dataState: dataState
});


/***/ }),

/***/ "./src/app/store/modules/poses/poses.actions.ts":
/*!******************************************************!*\
  !*** ./src/app/store/modules/poses/poses.actions.ts ***!
  \******************************************************/
/*! exports provided: PosesActionTypes, GetPosesListRequestAction, GetPosesListSuccessAction, GetPosesListFailureAction, GetPosesBySlugRequestAction, GetPosesBySlugSuccessAction, GetPosesBySlugFailureAction, PosesSetActiveAction, UpdatePosesByIdRequestAction, UpdatePosesByIdSuccessAction, UpdatePosesByIdFailureAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PosesActionTypes", function() { return PosesActionTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetPosesListRequestAction", function() { return GetPosesListRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetPosesListSuccessAction", function() { return GetPosesListSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetPosesListFailureAction", function() { return GetPosesListFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetPosesBySlugRequestAction", function() { return GetPosesBySlugRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetPosesBySlugSuccessAction", function() { return GetPosesBySlugSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetPosesBySlugFailureAction", function() { return GetPosesBySlugFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PosesSetActiveAction", function() { return PosesSetActiveAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdatePosesByIdRequestAction", function() { return UpdatePosesByIdRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdatePosesByIdSuccessAction", function() { return UpdatePosesByIdSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdatePosesByIdFailureAction", function() { return UpdatePosesByIdFailureAction; });
var PosesActionTypes;
(function (PosesActionTypes) {
    PosesActionTypes["GET_POSES_LIST_REQUEST"] = "[get poses list] request";
    PosesActionTypes["GET_POSES_LIST_SUCCESS"] = "[get poses list] success";
    PosesActionTypes["GET_POSES_LIST_FAILURE"] = "[get poses list] failure";
    PosesActionTypes["GET_POSES_BY_SLUG_REQUEST"] = "[get poses by slug] request";
    PosesActionTypes["GET_POSES_BY_SLUG_SUCCESS"] = "[get poses by slug] success";
    PosesActionTypes["GET_POSES_BY_SLUG_FAILURE"] = "[get poses by slug] failure";
    PosesActionTypes["UPDATE_POSES_BY_ID_REQUEST"] = "[update poses by id] request";
    PosesActionTypes["UPDATE_POSES_BY_ID_SUCCESS"] = "[update poses by id] success";
    PosesActionTypes["UPDATE_POSES_BY_ID_FAILURE"] = "[update poses by id] failure";
    PosesActionTypes["POSES_SET_ACTIVE"] = "[poses set active] set active";
})(PosesActionTypes || (PosesActionTypes = {}));
// Get poses list
var GetPosesListRequestAction = /** @class */ (function () {
    function GetPosesListRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = PosesActionTypes.GET_POSES_LIST_REQUEST;
    }
    GetPosesListRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetPosesListRequestAction;
}());

var GetPosesListSuccessAction = /** @class */ (function () {
    function GetPosesListSuccessAction(payload) {
        this.payload = payload;
        this.type = PosesActionTypes.GET_POSES_LIST_SUCCESS;
    }
    GetPosesListSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetPosesListSuccessAction;
}());

var GetPosesListFailureAction = /** @class */ (function () {
    function GetPosesListFailureAction(payload) {
        this.payload = payload;
        this.type = PosesActionTypes.GET_POSES_LIST_FAILURE;
    }
    GetPosesListFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetPosesListFailureAction;
}());

// Get poses by id
var GetPosesBySlugRequestAction = /** @class */ (function () {
    function GetPosesBySlugRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = PosesActionTypes.GET_POSES_BY_SLUG_REQUEST;
    }
    GetPosesBySlugRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetPosesBySlugRequestAction;
}());

var GetPosesBySlugSuccessAction = /** @class */ (function () {
    function GetPosesBySlugSuccessAction(payload) {
        this.payload = payload;
        this.type = PosesActionTypes.GET_POSES_BY_SLUG_SUCCESS;
    }
    GetPosesBySlugSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetPosesBySlugSuccessAction;
}());

var GetPosesBySlugFailureAction = /** @class */ (function () {
    function GetPosesBySlugFailureAction(payload) {
        this.payload = payload;
        this.type = PosesActionTypes.GET_POSES_BY_SLUG_FAILURE;
    }
    GetPosesBySlugFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetPosesBySlugFailureAction;
}());

// Set Poses active
var PosesSetActiveAction = /** @class */ (function () {
    function PosesSetActiveAction(payload) {
        this.payload = payload;
        this.type = PosesActionTypes.POSES_SET_ACTIVE;
    }
    PosesSetActiveAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return PosesSetActiveAction;
}());

// Update Poses
var UpdatePosesByIdRequestAction = /** @class */ (function () {
    function UpdatePosesByIdRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = PosesActionTypes.UPDATE_POSES_BY_ID_REQUEST;
    }
    UpdatePosesByIdRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return UpdatePosesByIdRequestAction;
}());

var UpdatePosesByIdSuccessAction = /** @class */ (function () {
    function UpdatePosesByIdSuccessAction(payload) {
        this.payload = payload;
        this.type = PosesActionTypes.UPDATE_POSES_BY_ID_SUCCESS;
    }
    UpdatePosesByIdSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return UpdatePosesByIdSuccessAction;
}());

var UpdatePosesByIdFailureAction = /** @class */ (function () {
    function UpdatePosesByIdFailureAction(payload) {
        this.payload = payload;
        this.type = PosesActionTypes.UPDATE_POSES_BY_ID_FAILURE;
    }
    UpdatePosesByIdFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return UpdatePosesByIdFailureAction;
}());



/***/ }),

/***/ "./src/app/store/modules/poses/poses.effects.ts":
/*!******************************************************!*\
  !*** ./src/app/store/modules/poses/poses.effects.ts ***!
  \******************************************************/
/*! exports provided: PosesEffects */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PosesEffects", function() { return PosesEffects; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ngrx_effects__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngrx/effects */ "./node_modules/@ngrx/effects/fesm5/effects.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var normalizr__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! normalizr */ "./node_modules/normalizr/dist/normalizr.es.js");
/* harmony import */ var _poses_actions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./poses.actions */ "./src/app/store/modules/poses/poses.actions.ts");
/* harmony import */ var _src_app_services_poses_poses_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @src/app/services/poses/poses.service */ "./src/app/services/poses/poses.service.ts");
/* harmony import */ var _poses_schema__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./poses.schema */ "./src/app/store/modules/poses/poses.schema.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var PosesEffects = /** @class */ (function () {
    function PosesEffects(actions$, router, posesService) {
        var _this = this;
        this.actions$ = actions$;
        this.router = router;
        this.posesService = posesService;
        this.getTeachersList = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_poses_actions__WEBPACK_IMPORTED_MODULE_6__["PosesActionTypes"].GET_POSES_LIST_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["exhaustMap"])(function () {
            return _this.posesService.list().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (response) { return new _poses_actions__WEBPACK_IMPORTED_MODULE_6__["GetPosesListSuccessAction"](Object(normalizr__WEBPACK_IMPORTED_MODULE_5__["normalize"])(response, [_poses_schema__WEBPACK_IMPORTED_MODULE_8__["posesSchema"]])); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(function (error) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(new _poses_actions__WEBPACK_IMPORTED_MODULE_6__["GetPosesListFailureAction"](error)); }));
        }));
        // get pose by slug
        this.getPosesBySlug = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_poses_actions__WEBPACK_IMPORTED_MODULE_6__["PosesActionTypes"].GET_POSES_BY_SLUG_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["exhaustMap"])(function (_a) {
            var payload = _a.payload;
            return _this.posesService.getBySlug(payload.slug).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (response) { return new _poses_actions__WEBPACK_IMPORTED_MODULE_6__["GetPosesBySlugSuccessAction"](Object(normalizr__WEBPACK_IMPORTED_MODULE_5__["normalize"])(response, _poses_schema__WEBPACK_IMPORTED_MODULE_8__["posesSchema"])); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(function (error) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(new _poses_actions__WEBPACK_IMPORTED_MODULE_6__["GetPosesBySlugFailureAction"](error)); }));
        }));
    }
    PosesEffects.ctorParameters = function () { return [
        { type: _ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Actions"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] },
        { type: _src_app_services_poses_poses_service__WEBPACK_IMPORTED_MODULE_7__["PosesService"] }
    ]; };
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])(),
        __metadata("design:type", Object)
    ], PosesEffects.prototype, "getTeachersList", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])(),
        __metadata("design:type", Object)
    ], PosesEffects.prototype, "getPosesBySlug", void 0);
    PosesEffects = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Actions"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _src_app_services_poses_poses_service__WEBPACK_IMPORTED_MODULE_7__["PosesService"]])
    ], PosesEffects);
    return PosesEffects;
}());



/***/ }),

/***/ "./src/app/store/modules/poses/poses.reducers.ts":
/*!*******************************************************!*\
  !*** ./src/app/store/modules/poses/poses.reducers.ts ***!
  \*******************************************************/
/*! exports provided: posesReducers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "posesReducers", function() { return posesReducers; });
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @src/app/services/api.service.interface */ "./src/app/services/api.service.interface.ts");
/* harmony import */ var _poses_actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./poses.actions */ "./src/app/store/modules/poses/poses.actions.ts");
/* harmony import */ var _src_app_store_modules_authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @src/app/store/modules/authentication/authentication.actions */ "./src/app/store/modules/authentication/authentication.actions.ts");




var initialState_status = null;
var status = function (state, _a) {
    if (state === void 0) { state = initialState_status; }
    var type = _a.type;
    switch (type) {
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].GET_POSES_LIST_REQUEST:
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].GET_POSES_BY_SLUG_REQUEST:
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].UPDATE_POSES_BY_ID_REQUEST:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_1__["RequestStatus"].pending;
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].GET_POSES_LIST_SUCCESS:
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].GET_POSES_BY_SLUG_SUCCESS:
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].UPDATE_POSES_BY_ID_SUCCESS:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_1__["RequestStatus"].success;
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].GET_POSES_LIST_FAILURE:
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].GET_POSES_BY_SLUG_FAILURE:
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].UPDATE_POSES_BY_ID_FAILURE:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_1__["RequestStatus"].failure;
        default:
            return state;
    }
};
var initialState_entities = {};
var entities = function (state, _a) {
    if (state === void 0) { state = initialState_entities; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].GET_POSES_LIST_REQUEST:
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].GET_POSES_BY_SLUG_REQUEST:
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].UPDATE_POSES_BY_ID_REQUEST:
            return initialState_entities;
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].GET_POSES_LIST_SUCCESS:
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].GET_POSES_BY_SLUG_SUCCESS:
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].UPDATE_POSES_BY_ID_SUCCESS:
            return payload.entities.poses;
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].GET_POSES_LIST_FAILURE:
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].GET_POSES_BY_SLUG_FAILURE:
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].UPDATE_POSES_BY_ID_FAILURE:
        case _src_app_store_modules_authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_3__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
            return initialState_entities;
        default:
            return state;
    }
};
var initialState_ids = [];
var ids = function (state, _a) {
    if (state === void 0) { state = initialState_ids; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].GET_POSES_LIST_REQUEST:
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].GET_POSES_BY_SLUG_REQUEST:
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].UPDATE_POSES_BY_ID_REQUEST:
            return initialState_ids;
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].GET_POSES_LIST_SUCCESS:
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].GET_POSES_BY_SLUG_SUCCESS:
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].UPDATE_POSES_BY_ID_SUCCESS:
            return payload.result;
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].GET_POSES_LIST_FAILURE:
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].GET_POSES_BY_SLUG_FAILURE:
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].UPDATE_POSES_BY_ID_FAILURE:
            return initialState_ids;
        case _src_app_store_modules_authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_3__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
            return null;
        default:
            return state;
    }
};
var initialState_errors = null;
var errors = function (state, _a) {
    if (state === void 0) { state = initialState_errors; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].GET_POSES_LIST_REQUEST:
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].GET_POSES_BY_SLUG_REQUEST:
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].UPDATE_POSES_BY_ID_REQUEST:
            return initialState_errors;
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].GET_POSES_LIST_SUCCESS:
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].GET_POSES_BY_SLUG_SUCCESS:
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].UPDATE_POSES_BY_ID_SUCCESS:
            return initialState_errors;
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].GET_POSES_LIST_FAILURE:
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].GET_POSES_BY_SLUG_FAILURE:
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].UPDATE_POSES_BY_ID_FAILURE:
            return payload.message;
        default:
            return state;
    }
};
var initialState_activeId = null;
var activeId = function (state, _a) {
    if (state === void 0) { state = initialState_activeId; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].GET_POSES_BY_SLUG_SUCCESS:
            return payload.result;
        case _src_app_store_modules_authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_3__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
            return null;
        default:
            return state;
    }
};
var posesReducers = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["combineReducers"])({
    status: status,
    entities: entities,
    ids: ids,
    activeId: activeId,
    errors: errors
});


/***/ }),

/***/ "./src/app/store/modules/poses/poses.schema.ts":
/*!*****************************************************!*\
  !*** ./src/app/store/modules/poses/poses.schema.ts ***!
  \*****************************************************/
/*! exports provided: posesSchema */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "posesSchema", function() { return posesSchema; });
/* harmony import */ var normalizr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! normalizr */ "./node_modules/normalizr/dist/normalizr.es.js");

// Define a teachers schema
var posesSchema = new normalizr__WEBPACK_IMPORTED_MODULE_0__["schema"].Entity('poses', {}, { idAttribute: 'slug' });


/***/ }),

/***/ "./src/app/store/modules/recording/recording.actions.ts":
/*!**************************************************************!*\
  !*** ./src/app/store/modules/recording/recording.actions.ts ***!
  \**************************************************************/
/*! exports provided: RecordingsActionTypes, GetRecordingsListRequestAction, GetRecordingsListSuccessAction, GetRecordingsListFailureAction, GetRecordingsForCurrentUserRequestAction, GetRecordingsForCurrentUserSuccessAction, GetRecordingsForCurrentUserFailureAction, GetRecordingBySlugRequestAction, GetRecordingBySlugSuccessAction, GetRecordingBySlugFailureAction, UpdateRecordingRequestAction, UpdateRecordingSuccessAction, UpdateRecordingFailureAction, UpdateRecordingPosesRequestAction, UpdateRecordingPosesSuccessAction, UpdateRecordingPosesFailureAction, DeleteRecordingRequestAction, DeleteRecordingSuccessAction, DeleteRecordingFailureAction, ChangeRecordingStatusRequestAction, ChangeRecordingStatusSuccessAction, ChangeRecordingStatusFailureAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RecordingsActionTypes", function() { return RecordingsActionTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetRecordingsListRequestAction", function() { return GetRecordingsListRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetRecordingsListSuccessAction", function() { return GetRecordingsListSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetRecordingsListFailureAction", function() { return GetRecordingsListFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetRecordingsForCurrentUserRequestAction", function() { return GetRecordingsForCurrentUserRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetRecordingsForCurrentUserSuccessAction", function() { return GetRecordingsForCurrentUserSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetRecordingsForCurrentUserFailureAction", function() { return GetRecordingsForCurrentUserFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetRecordingBySlugRequestAction", function() { return GetRecordingBySlugRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetRecordingBySlugSuccessAction", function() { return GetRecordingBySlugSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetRecordingBySlugFailureAction", function() { return GetRecordingBySlugFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateRecordingRequestAction", function() { return UpdateRecordingRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateRecordingSuccessAction", function() { return UpdateRecordingSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateRecordingFailureAction", function() { return UpdateRecordingFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateRecordingPosesRequestAction", function() { return UpdateRecordingPosesRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateRecordingPosesSuccessAction", function() { return UpdateRecordingPosesSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateRecordingPosesFailureAction", function() { return UpdateRecordingPosesFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeleteRecordingRequestAction", function() { return DeleteRecordingRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeleteRecordingSuccessAction", function() { return DeleteRecordingSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeleteRecordingFailureAction", function() { return DeleteRecordingFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChangeRecordingStatusRequestAction", function() { return ChangeRecordingStatusRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChangeRecordingStatusSuccessAction", function() { return ChangeRecordingStatusSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChangeRecordingStatusFailureAction", function() { return ChangeRecordingStatusFailureAction; });
var RecordingsActionTypes;
(function (RecordingsActionTypes) {
    //recording list and requests (getters for playback or editing)
    RecordingsActionTypes["GET_RECORDINGS_LIST_REQUEST"] = "[get recordings list] request";
    RecordingsActionTypes["GET_RECORDINGS_LIST_SUCCESS"] = "[get recordings list] success";
    RecordingsActionTypes["GET_RECORDINGS_LIST_FAILURE"] = "[get recordings list] failure";
    RecordingsActionTypes["GET_RECORDINGS_FOR_CURRENT_USER_REQUEST"] = "[get recordings for current user] request";
    RecordingsActionTypes["GET_RECORDINGS_FOR_CURRENT_USER_SUCCESS"] = "[get recordings for current user] success";
    RecordingsActionTypes["GET_RECORDINGS_FOR_CURRENT_USER_FAILURE"] = "[get recordings for current user] failure";
    RecordingsActionTypes["GET_RECORDING_BY_SLUG_REQUEST"] = "[get recording by slug] request";
    RecordingsActionTypes["GET_RECORDING_BY_SLUG_SUCCESS"] = "[get recording by slug] success";
    RecordingsActionTypes["GET_RECORDING_BY_SLUG_FAILURE"] = "[get recording by slug] failure";
    //Manage a completly uploaded recording (with status uploaded)
    RecordingsActionTypes["UPDATE_RECORDING_REQUEST"] = "[update recording] request";
    RecordingsActionTypes["UPDATE_RECORDING_SUCCESS"] = "[update recording] success";
    RecordingsActionTypes["UPDATE_RECORDING_FAILURE"] = "[update recording] failure";
    RecordingsActionTypes["UPDATE_RECORDING_WITH_POSES_REQUEST"] = "[update recording poses] request";
    RecordingsActionTypes["UPDATE_RECORDING_WITH_POSES_SUCCESS"] = "[update recording poses] success";
    RecordingsActionTypes["UPDATE_RECORDING_WITH_POSES_FAILURE"] = "[update recording poses] failure";
    RecordingsActionTypes["CHANGE_RECORDING_STATUS_REQUEST"] = "[change recording status] request";
    RecordingsActionTypes["CHANGE_RECORDING_STATUS_SUCCESS"] = "[change recording status] success";
    RecordingsActionTypes["CHANGE_RECORDING_STATUS_FAILURE"] = "[change recording status] failure";
    RecordingsActionTypes["DELETE_RECORDING_REQUEST"] = "[delete recording] request";
    RecordingsActionTypes["DELETE_RECORDING_SUCCESS"] = "[delete recording] success";
    RecordingsActionTypes["DELETE_RECORDING_FAILURE"] = "[delete recording] failure";
})(RecordingsActionTypes || (RecordingsActionTypes = {}));
// Get recordings list
var GetRecordingsListRequestAction = /** @class */ (function () {
    function GetRecordingsListRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = RecordingsActionTypes.GET_RECORDINGS_LIST_REQUEST;
    }
    GetRecordingsListRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetRecordingsListRequestAction;
}());

var GetRecordingsListSuccessAction = /** @class */ (function () {
    function GetRecordingsListSuccessAction(payload) {
        this.payload = payload;
        this.type = RecordingsActionTypes.GET_RECORDINGS_LIST_SUCCESS;
    }
    GetRecordingsListSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetRecordingsListSuccessAction;
}());

var GetRecordingsListFailureAction = /** @class */ (function () {
    function GetRecordingsListFailureAction(payload) {
        this.payload = payload;
        this.type = RecordingsActionTypes.GET_RECORDINGS_LIST_FAILURE;
    }
    GetRecordingsListFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetRecordingsListFailureAction;
}());

// Get recordings for current user list - NOT USED!!!
var GetRecordingsForCurrentUserRequestAction = /** @class */ (function () {
    function GetRecordingsForCurrentUserRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = RecordingsActionTypes.GET_RECORDINGS_FOR_CURRENT_USER_REQUEST;
    }
    GetRecordingsForCurrentUserRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetRecordingsForCurrentUserRequestAction;
}());

var GetRecordingsForCurrentUserSuccessAction = /** @class */ (function () {
    function GetRecordingsForCurrentUserSuccessAction(payload) {
        this.payload = payload;
        this.type = RecordingsActionTypes.GET_RECORDINGS_FOR_CURRENT_USER_SUCCESS;
    }
    GetRecordingsForCurrentUserSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetRecordingsForCurrentUserSuccessAction;
}());

var GetRecordingsForCurrentUserFailureAction = /** @class */ (function () {
    function GetRecordingsForCurrentUserFailureAction(payload) {
        this.payload = payload;
        this.type = RecordingsActionTypes.GET_RECORDINGS_FOR_CURRENT_USER_FAILURE;
    }
    GetRecordingsForCurrentUserFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetRecordingsForCurrentUserFailureAction;
}());

// Get recording by slug
var GetRecordingBySlugRequestAction = /** @class */ (function () {
    function GetRecordingBySlugRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = RecordingsActionTypes.GET_RECORDING_BY_SLUG_REQUEST;
    }
    GetRecordingBySlugRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetRecordingBySlugRequestAction;
}());

var GetRecordingBySlugSuccessAction = /** @class */ (function () {
    function GetRecordingBySlugSuccessAction(payload) {
        this.payload = payload;
        this.type = RecordingsActionTypes.GET_RECORDING_BY_SLUG_SUCCESS;
    }
    GetRecordingBySlugSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetRecordingBySlugSuccessAction;
}());

var GetRecordingBySlugFailureAction = /** @class */ (function () {
    function GetRecordingBySlugFailureAction(payload) {
        this.payload = payload;
        this.type = RecordingsActionTypes.GET_RECORDING_BY_SLUG_FAILURE;
    }
    GetRecordingBySlugFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetRecordingBySlugFailureAction;
}());

// Update recording
var UpdateRecordingRequestAction = /** @class */ (function () {
    function UpdateRecordingRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = RecordingsActionTypes.UPDATE_RECORDING_REQUEST;
    }
    UpdateRecordingRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return UpdateRecordingRequestAction;
}());

var UpdateRecordingSuccessAction = /** @class */ (function () {
    function UpdateRecordingSuccessAction(payload) {
        this.payload = payload;
        this.type = RecordingsActionTypes.UPDATE_RECORDING_SUCCESS;
    }
    UpdateRecordingSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return UpdateRecordingSuccessAction;
}());

var UpdateRecordingFailureAction = /** @class */ (function () {
    function UpdateRecordingFailureAction(payload) {
        this.payload = payload;
        this.type = RecordingsActionTypes.UPDATE_RECORDING_FAILURE;
    }
    UpdateRecordingFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return UpdateRecordingFailureAction;
}());

// Update recording with poses
var UpdateRecordingPosesRequestAction = /** @class */ (function () {
    function UpdateRecordingPosesRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = RecordingsActionTypes.UPDATE_RECORDING_WITH_POSES_REQUEST;
    }
    UpdateRecordingPosesRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return UpdateRecordingPosesRequestAction;
}());

var UpdateRecordingPosesSuccessAction = /** @class */ (function () {
    function UpdateRecordingPosesSuccessAction(payload) {
        this.payload = payload;
        this.type = RecordingsActionTypes.UPDATE_RECORDING_WITH_POSES_SUCCESS;
    }
    UpdateRecordingPosesSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return UpdateRecordingPosesSuccessAction;
}());

var UpdateRecordingPosesFailureAction = /** @class */ (function () {
    function UpdateRecordingPosesFailureAction(payload) {
        this.payload = payload;
        this.type = RecordingsActionTypes.UPDATE_RECORDING_WITH_POSES_FAILURE;
    }
    UpdateRecordingPosesFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return UpdateRecordingPosesFailureAction;
}());

// Delete recording
var DeleteRecordingRequestAction = /** @class */ (function () {
    function DeleteRecordingRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = RecordingsActionTypes.DELETE_RECORDING_REQUEST;
    }
    DeleteRecordingRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return DeleteRecordingRequestAction;
}());

var DeleteRecordingSuccessAction = /** @class */ (function () {
    function DeleteRecordingSuccessAction(payload) {
        this.payload = payload;
        this.type = RecordingsActionTypes.DELETE_RECORDING_SUCCESS;
    }
    DeleteRecordingSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return DeleteRecordingSuccessAction;
}());

var DeleteRecordingFailureAction = /** @class */ (function () {
    function DeleteRecordingFailureAction(payload) {
        this.payload = payload;
        this.type = RecordingsActionTypes.DELETE_RECORDING_FAILURE;
    }
    DeleteRecordingFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return DeleteRecordingFailureAction;
}());

//Change recording status
var ChangeRecordingStatusRequestAction = /** @class */ (function () {
    function ChangeRecordingStatusRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = RecordingsActionTypes.CHANGE_RECORDING_STATUS_REQUEST;
    }
    ChangeRecordingStatusRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return ChangeRecordingStatusRequestAction;
}());

var ChangeRecordingStatusSuccessAction = /** @class */ (function () {
    function ChangeRecordingStatusSuccessAction(payload) {
        this.payload = payload;
        this.type = RecordingsActionTypes.CHANGE_RECORDING_STATUS_SUCCESS;
    }
    ChangeRecordingStatusSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return ChangeRecordingStatusSuccessAction;
}());

var ChangeRecordingStatusFailureAction = /** @class */ (function () {
    function ChangeRecordingStatusFailureAction(payload) {
        this.payload = payload;
        this.type = RecordingsActionTypes.CHANGE_RECORDING_STATUS_FAILURE;
    }
    ChangeRecordingStatusFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return ChangeRecordingStatusFailureAction;
}());



/***/ }),

/***/ "./src/app/store/modules/recording/recording.effects.ts":
/*!**************************************************************!*\
  !*** ./src/app/store/modules/recording/recording.effects.ts ***!
  \**************************************************************/
/*! exports provided: RecordingEffects */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RecordingEffects", function() { return RecordingEffects; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngrx_effects__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngrx/effects */ "./node_modules/@ngrx/effects/fesm5/effects.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _src_app_services_recording_recording_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @src/app/services/recording/recording.service */ "./src/app/services/recording/recording.service.ts");
/* harmony import */ var _src_app_services_audio_audio_recording_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @src/app/services/audio/audio-recording.service */ "./src/app/services/audio/audio-recording.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _recording_actions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./recording.actions */ "./src/app/store/modules/recording/recording.actions.ts");
/* harmony import */ var _recording_selectors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./recording.selectors */ "./src/app/store/modules/recording/recording.selectors.ts");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var RecordingEffects = /** @class */ (function () {
    function RecordingEffects(actions$, router, recordingService, audioRecordingService, store) {
        var _this = this;
        this.actions$ = actions$;
        this.router = router;
        this.recordingService = recordingService;
        this.audioRecordingService = audioRecordingService;
        this.store = store;
        this.recording$ = this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_9__["select"])(_recording_selectors__WEBPACK_IMPORTED_MODULE_8__["selectRecordingState"]));
        // Get recordings list
        this.getRecordingsListRequest = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_recording_actions__WEBPACK_IMPORTED_MODULE_7__["RecordingsActionTypes"].GET_RECORDINGS_LIST_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["exhaustMap"])(function () {
            return _this.recordingService.list().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (response) { return new _recording_actions__WEBPACK_IMPORTED_MODULE_7__["GetRecordingsListSuccessAction"](response); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(function (error) {
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])(new _recording_actions__WEBPACK_IMPORTED_MODULE_7__["GetRecordingsListFailureAction"](error));
            }));
        }));
        this.getRecordingsListSuccess = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_recording_actions__WEBPACK_IMPORTED_MODULE_7__["RecordingsActionTypes"].GET_RECORDINGS_LIST_SUCCESS));
        this.getRecordingsListFailure = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_recording_actions__WEBPACK_IMPORTED_MODULE_7__["RecordingsActionTypes"].GET_RECORDINGS_LIST_FAILURE));
        // Get recordings for current user
        this.getRecordingsForCurrentUserRequest = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_recording_actions__WEBPACK_IMPORTED_MODULE_7__["RecordingsActionTypes"].GET_RECORDINGS_FOR_CURRENT_USER_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["exhaustMap"])(function () {
            return _this.recordingService.getRecordingsForCurrentUser().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["tap"])(function (res) {
                // console.log('GetRecordingsForCurrentUserRequestAction', res);
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (response) {
                return new _recording_actions__WEBPACK_IMPORTED_MODULE_7__["GetRecordingsForCurrentUserSuccessAction"](response);
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(function (error) {
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])(new _recording_actions__WEBPACK_IMPORTED_MODULE_7__["GetRecordingsForCurrentUserFailureAction"](error));
            }));
        }));
        this.getRecordingsForCurrentUserSuccess = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_recording_actions__WEBPACK_IMPORTED_MODULE_7__["RecordingsActionTypes"].GET_RECORDINGS_FOR_CURRENT_USER_SUCCESS));
        this.getRecordingsForCurrentUserFailure = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_recording_actions__WEBPACK_IMPORTED_MODULE_7__["RecordingsActionTypes"].GET_RECORDINGS_FOR_CURRENT_USER_FAILURE));
        // Get recording by slug
        this.getRecordingBySlugRequest = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_recording_actions__WEBPACK_IMPORTED_MODULE_7__["RecordingsActionTypes"].GET_RECORDING_BY_SLUG_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["exhaustMap"])(function (_a) {
            var body = _a.payload;
            return _this.recordingService.getRecordingBySlug(body).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (response) { return new _recording_actions__WEBPACK_IMPORTED_MODULE_7__["GetRecordingBySlugSuccessAction"](response); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(function (error) {
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])(new _recording_actions__WEBPACK_IMPORTED_MODULE_7__["GetRecordingBySlugFailureAction"](error));
            }));
        }));
        this.getRecordingBySlugSuccess = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_recording_actions__WEBPACK_IMPORTED_MODULE_7__["RecordingsActionTypes"].GET_RECORDING_BY_SLUG_SUCCESS));
        this.getRecordingBySlugFailure = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_recording_actions__WEBPACK_IMPORTED_MODULE_7__["RecordingsActionTypes"].GET_RECORDING_BY_SLUG_FAILURE));
        // Update recording
        this.updateRecordingRequest = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_recording_actions__WEBPACK_IMPORTED_MODULE_7__["RecordingsActionTypes"].UPDATE_RECORDING_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["exhaustMap"])(function (_a) {
            var _b = _a.payload, id = _b.id, body = _b.body;
            return _this.recordingService.updateRecording(id, body).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (response) { return new _recording_actions__WEBPACK_IMPORTED_MODULE_7__["UpdateRecordingSuccessAction"](response); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(function (error) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])(new _recording_actions__WEBPACK_IMPORTED_MODULE_7__["UpdateRecordingFailureAction"](error)); }));
        }));
        this.updateRecordingSuccess = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_recording_actions__WEBPACK_IMPORTED_MODULE_7__["RecordingsActionTypes"].UPDATE_RECORDING_SUCCESS), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["tap"])(function () {
            // console.log('updateRecordingSuccess');
        }));
        this.updateRecordingFailure = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_recording_actions__WEBPACK_IMPORTED_MODULE_7__["RecordingsActionTypes"].UPDATE_RECORDING_FAILURE), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["tap"])(function () { }));
        // Update recording with poses
        this.updateRecordingPosesRequest = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_recording_actions__WEBPACK_IMPORTED_MODULE_7__["RecordingsActionTypes"].UPDATE_RECORDING_WITH_POSES_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["exhaustMap"])(function (_a) {
            var _b = _a.payload, id = _b.id, poses = _b.poses;
            return _this.recordingService.updateRecordingPoses(id, poses).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (response) { return new _recording_actions__WEBPACK_IMPORTED_MODULE_7__["UpdateRecordingPosesSuccessAction"](response); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(function (error) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])(new _recording_actions__WEBPACK_IMPORTED_MODULE_7__["UpdateRecordingPosesFailureAction"](error)); }));
        }));
        this.updateRecordingPosesSuccess = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_recording_actions__WEBPACK_IMPORTED_MODULE_7__["RecordingsActionTypes"].UPDATE_RECORDING_WITH_POSES_SUCCESS), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["tap"])(function () { }));
        this.updateRecordingPosesFailure = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_recording_actions__WEBPACK_IMPORTED_MODULE_7__["RecordingsActionTypes"].UPDATE_RECORDING_WITH_POSES_FAILURE), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["tap"])(function () { }));
        // Delete recording
        this.deleteRecordingRequest = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_recording_actions__WEBPACK_IMPORTED_MODULE_7__["RecordingsActionTypes"].DELETE_RECORDING_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["exhaustMap"])(function (_a) {
            var payload = _a.payload;
            return _this.recordingService.deleteRecording(payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (response) { return new _recording_actions__WEBPACK_IMPORTED_MODULE_7__["DeleteRecordingSuccessAction"](response); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(function (error) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])(new _recording_actions__WEBPACK_IMPORTED_MODULE_7__["DeleteRecordingFailureAction"](error)); }));
        }));
        this.deleteRecordingSuccess = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_recording_actions__WEBPACK_IMPORTED_MODULE_7__["RecordingsActionTypes"].DELETE_RECORDING_SUCCESS), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["tap"])(function () { }));
        this.deleteRecordingFailure = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_recording_actions__WEBPACK_IMPORTED_MODULE_7__["RecordingsActionTypes"].DELETE_RECORDING_FAILURE), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["tap"])(function () { }));
        // Change recording status
        this.changeRecordingStatusRequest = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_recording_actions__WEBPACK_IMPORTED_MODULE_7__["RecordingsActionTypes"].CHANGE_RECORDING_STATUS_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["exhaustMap"])(function (_a) {
            var payload = _a.payload;
            return _this.recordingService.changeRecordingStatus(payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (response) { return new _recording_actions__WEBPACK_IMPORTED_MODULE_7__["ChangeRecordingStatusSuccessAction"](response); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(function (error) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])(new _recording_actions__WEBPACK_IMPORTED_MODULE_7__["ChangeRecordingStatusFailureAction"](error)); }));
        }));
        this.changeRecordingStatusSuccess = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_recording_actions__WEBPACK_IMPORTED_MODULE_7__["RecordingsActionTypes"].CHANGE_RECORDING_STATUS_SUCCESS), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["tap"])(function () { }));
        this.changeRecordingStatusFailure = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_recording_actions__WEBPACK_IMPORTED_MODULE_7__["RecordingsActionTypes"].CHANGE_RECORDING_STATUS_FAILURE), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["tap"])(function () { }));
    }
    RecordingEffects.ctorParameters = function () { return [
        { type: _ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Actions"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] },
        { type: _src_app_services_recording_recording_service__WEBPACK_IMPORTED_MODULE_3__["RecordingService"] },
        { type: _src_app_services_audio_audio_recording_service__WEBPACK_IMPORTED_MODULE_4__["AudioRecordingService"] },
        { type: _ngrx_store__WEBPACK_IMPORTED_MODULE_9__["Store"] }
    ]; };
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])(),
        __metadata("design:type", Object)
    ], RecordingEffects.prototype, "getRecordingsListRequest", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_6__["Observable"])
    ], RecordingEffects.prototype, "getRecordingsListSuccess", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_6__["Observable"])
    ], RecordingEffects.prototype, "getRecordingsListFailure", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])(),
        __metadata("design:type", Object)
    ], RecordingEffects.prototype, "getRecordingsForCurrentUserRequest", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_6__["Observable"])
    ], RecordingEffects.prototype, "getRecordingsForCurrentUserSuccess", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_6__["Observable"])
    ], RecordingEffects.prototype, "getRecordingsForCurrentUserFailure", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])(),
        __metadata("design:type", Object)
    ], RecordingEffects.prototype, "getRecordingBySlugRequest", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_6__["Observable"])
    ], RecordingEffects.prototype, "getRecordingBySlugSuccess", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_6__["Observable"])
    ], RecordingEffects.prototype, "getRecordingBySlugFailure", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])(),
        __metadata("design:type", Object)
    ], RecordingEffects.prototype, "updateRecordingRequest", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_6__["Observable"])
    ], RecordingEffects.prototype, "updateRecordingSuccess", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_6__["Observable"])
    ], RecordingEffects.prototype, "updateRecordingFailure", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])(),
        __metadata("design:type", Object)
    ], RecordingEffects.prototype, "updateRecordingPosesRequest", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_6__["Observable"])
    ], RecordingEffects.prototype, "updateRecordingPosesSuccess", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_6__["Observable"])
    ], RecordingEffects.prototype, "updateRecordingPosesFailure", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])(),
        __metadata("design:type", Object)
    ], RecordingEffects.prototype, "deleteRecordingRequest", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_6__["Observable"])
    ], RecordingEffects.prototype, "deleteRecordingSuccess", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_6__["Observable"])
    ], RecordingEffects.prototype, "deleteRecordingFailure", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])(),
        __metadata("design:type", Object)
    ], RecordingEffects.prototype, "changeRecordingStatusRequest", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_6__["Observable"])
    ], RecordingEffects.prototype, "changeRecordingStatusSuccess", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_6__["Observable"])
    ], RecordingEffects.prototype, "changeRecordingStatusFailure", void 0);
    RecordingEffects = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Actions"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _src_app_services_recording_recording_service__WEBPACK_IMPORTED_MODULE_3__["RecordingService"],
            _src_app_services_audio_audio_recording_service__WEBPACK_IMPORTED_MODULE_4__["AudioRecordingService"],
            _ngrx_store__WEBPACK_IMPORTED_MODULE_9__["Store"]])
    ], RecordingEffects);
    return RecordingEffects;
}());



/***/ }),

/***/ "./src/app/store/modules/recording/recording.reducers.ts":
/*!***************************************************************!*\
  !*** ./src/app/store/modules/recording/recording.reducers.ts ***!
  \***************************************************************/
/*! exports provided: recordingReducers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recordingReducers", function() { return recordingReducers; });
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _recording_actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./recording.actions */ "./src/app/store/modules/recording/recording.actions.ts");
/* harmony import */ var _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @src/app/services/api.service.interface */ "./src/app/services/api.service.interface.ts");
/* harmony import */ var _audio_recording_audio_recording_actions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../audio-recording/audio-recording.actions */ "./src/app/store/modules/audio-recording/audio-recording.actions.ts");
/* harmony import */ var _authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../authentication/authentication.actions */ "./src/app/store/modules/authentication/authentication.actions.ts");
/* harmony import */ var _user_user_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../user/user.actions */ "./src/app/store/modules/user/user.actions.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};






var initialState_recordings = {
    recordings: null,
    currentRecording: null,
    changeRecordingData: false
};
var recordings = function (state, _a) {
    if (state === void 0) { state = initialState_recordings; }
    var type = _a.type, payload = _a.payload;
    var recordings, stateObj;
    switch (type) {
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDINGS_LIST_SUCCESS:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].DELETE_RECORDING_SUCCESS:
            return __assign({}, state, { recordings: payload, currentRecording: null });
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].CHANGE_RECORDING_STATUS_SUCCESS:
            return __assign({}, state, { changeClassStatus: true });
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].UPDATE_RECORDING_WITH_POSES_SUCCESS:
            return __assign({}, state, { changeRecordingData: !state.changeRecordingData });
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDINGS_LIST_FAILURE:
            return __assign({}, state, { recordings: null });
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDING_BY_SLUG_SUCCESS:
            return __assign({}, state, { currentRecording: payload });
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDING_BY_SLUG_REQUEST:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDING_BY_SLUG_FAILURE:
            return __assign({}, state, { currentRecording: null });
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].UPDATE_RECORDING_SUCCESS:
            // console.log('UPDATE_RECORDING_SUCCESS ', { payload, state });
            recordings = null;
            if (state.recordings != null) {
                if (state.recordings.find(function (recording) { return recording.id === payload.id; })) {
                    recordings = state.recordings.map(function (recording) {
                        if (recording.id === payload.id) {
                            return payload;
                        }
                        return recording;
                    });
                }
                else {
                    recordings = __spread([payload], state.recordings);
                }
            }
            return __assign({}, state, { recordings: recordings, currentRecording: null });
        case _audio_recording_audio_recording_actions__WEBPACK_IMPORTED_MODULE_3__["AudioRecordingsActionTypes"].FINISH_RECORDING_SUCCESS:
            // console.log('FINISH_RECORDING_SUCCESS ', { payload, state });
            if (typeof payload !== "string" && payload.recording) {
                stateObj = __assign({}, state);
                if (stateObj.recordings) {
                    if (stateObj.recordings.find(function (rec) { return rec.id === payload.recording.id; })) {
                        stateObj = __assign({}, stateObj, { recordings: stateObj.recordings.map(function (rec) {
                                if (rec.id === payload.recording.id) {
                                    return payload.recording;
                                }
                                return rec;
                            }) });
                    }
                    else {
                        stateObj = __assign({}, stateObj, { recordings: __spread([payload.recording], stateObj.recordings) });
                    }
                }
                if (stateObj.currentRecording) {
                    stateObj = __assign({}, stateObj, { currentRecording: payload.recording });
                }
                // console.log({stateObj});
                return stateObj;
            }
            return state;
        case _authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_4__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
        case _user_user_actions__WEBPACK_IMPORTED_MODULE_5__["UserActionTypes"].SWITCH_USER_VIEW_STATUS_SUCCESS:
            return initialState_recordings;
        default:
            return state;
    }
};
var initialState_status = null;
var status = function (state, _a) {
    if (state === void 0) { state = initialState_status; }
    var type = _a.type;
    switch (type) {
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDINGS_LIST_REQUEST:
            return __assign({}, state, { changeClassStatus: true });
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDINGS_FOR_CURRENT_USER_REQUEST:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDING_BY_SLUG_REQUEST:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].UPDATE_RECORDING_REQUEST:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].UPDATE_RECORDING_WITH_POSES_REQUEST:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].DELETE_RECORDING_REQUEST:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].CHANGE_RECORDING_STATUS_REQUEST:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__["RequestStatus"].pending;
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDINGS_LIST_SUCCESS:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDINGS_FOR_CURRENT_USER_SUCCESS:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDING_BY_SLUG_SUCCESS:
        // don't want that to mess up our status - TODO create separate status for this!
        // case RecordingsActionTypes.UPDATE_RECORDING_SUCCESS:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].UPDATE_RECORDING_WITH_POSES_SUCCESS:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].DELETE_RECORDING_SUCCESS:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].CHANGE_RECORDING_STATUS_SUCCESS:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__["RequestStatus"].success;
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDINGS_LIST_FAILURE:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDINGS_FOR_CURRENT_USER_FAILURE:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDING_BY_SLUG_FAILURE:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].UPDATE_RECORDING_FAILURE:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].UPDATE_RECORDING_WITH_POSES_FAILURE:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__["RequestStatus"].failure;
        case _authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_4__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
        case _user_user_actions__WEBPACK_IMPORTED_MODULE_5__["UserActionTypes"].SWITCH_USER_VIEW_STATUS_SUCCESS:
            return initialState_status;
        default:
            return state;
    }
};
var initialState_entities = null;
var entities = function (state, _a) {
    if (state === void 0) { state = initialState_entities; }
    var type = _a.type, payload = _a.payload;
    // console.log('entities TYPE?',type, payload, state)
    switch (type) {
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDINGS_LIST_REQUEST:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDINGS_FOR_CURRENT_USER_REQUEST:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDING_BY_SLUG_REQUEST:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].UPDATE_RECORDING_REQUEST:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].UPDATE_RECORDING_WITH_POSES_REQUEST:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].DELETE_RECORDING_REQUEST:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].CHANGE_RECORDING_STATUS_REQUEST:
            return initialState_entities;
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDINGS_LIST_SUCCESS:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDINGS_FOR_CURRENT_USER_SUCCESS:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDING_BY_SLUG_SUCCESS:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].UPDATE_RECORDING_SUCCESS:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].UPDATE_RECORDING_WITH_POSES_SUCCESS:
            return payload;
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].DELETE_RECORDING_SUCCESS:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].CHANGE_RECORDING_STATUS_SUCCESS:
            // console.log('upload or delete recording sucsces', { payload });
            // this is our url to the actual audio file, do nothing for now
            return null;
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDINGS_LIST_FAILURE:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDINGS_FOR_CURRENT_USER_FAILURE:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDING_BY_SLUG_FAILURE:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].UPDATE_RECORDING_FAILURE:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].UPDATE_RECORDING_WITH_POSES_FAILURE:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].DELETE_RECORDING_FAILURE:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].CHANGE_RECORDING_STATUS_FAILURE:
            return initialState_entities;
        case _authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_4__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
        case _user_user_actions__WEBPACK_IMPORTED_MODULE_5__["UserActionTypes"].SWITCH_USER_VIEW_STATUS_SUCCESS:
            return initialState_entities;
        default:
            return state;
    }
};
var initialState_ids = [];
var ids = function (state, _a) {
    if (state === void 0) { state = initialState_ids; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDINGS_LIST_REQUEST:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDINGS_FOR_CURRENT_USER_REQUEST:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDING_BY_SLUG_REQUEST:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].UPDATE_RECORDING_REQUEST:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].UPDATE_RECORDING_WITH_POSES_REQUEST:
            return initialState_ids;
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDINGS_LIST_SUCCESS:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDINGS_FOR_CURRENT_USER_SUCCESS:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDING_BY_SLUG_SUCCESS:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].UPDATE_RECORDING_SUCCESS:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].UPDATE_RECORDING_WITH_POSES_SUCCESS:
            return payload.result;
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDINGS_LIST_FAILURE:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDINGS_FOR_CURRENT_USER_FAILURE:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDING_BY_SLUG_FAILURE:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].UPDATE_RECORDING_FAILURE:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].UPDATE_RECORDING_WITH_POSES_FAILURE:
            return initialState_ids;
        case _authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_4__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
        case _user_user_actions__WEBPACK_IMPORTED_MODULE_5__["UserActionTypes"].SWITCH_USER_VIEW_STATUS_SUCCESS:
            return initialState_ids;
        default:
            return state;
    }
};
var initialState_errors = null;
var errors = function (state, _a) {
    if (state === void 0) { state = initialState_errors; }
    var type = _a.type, payload = _a.payload;
    // console.log('REDEUCER errors ',type, payload, state)
    switch (type) {
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDINGS_LIST_REQUEST:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDINGS_FOR_CURRENT_USER_REQUEST:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDING_BY_SLUG_REQUEST:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].UPDATE_RECORDING_REQUEST:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].UPDATE_RECORDING_WITH_POSES_REQUEST:
            return initialState_errors;
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDINGS_LIST_SUCCESS:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDINGS_FOR_CURRENT_USER_SUCCESS:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDING_BY_SLUG_SUCCESS:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].UPDATE_RECORDING_SUCCESS:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].UPDATE_RECORDING_WITH_POSES_SUCCESS:
            return initialState_errors;
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDINGS_LIST_FAILURE:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDINGS_FOR_CURRENT_USER_FAILURE:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].GET_RECORDING_BY_SLUG_FAILURE:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].UPDATE_RECORDING_FAILURE:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].UPDATE_RECORDING_WITH_POSES_FAILURE:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].DELETE_RECORDING_FAILURE:
        case _recording_actions__WEBPACK_IMPORTED_MODULE_1__["RecordingsActionTypes"].CHANGE_RECORDING_STATUS_FAILURE:
            return payload.message;
        case _authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_4__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
        case _user_user_actions__WEBPACK_IMPORTED_MODULE_5__["UserActionTypes"].SWITCH_USER_VIEW_STATUS_SUCCESS:
            return initialState_errors;
        default:
            return state;
    }
};
// structure of the recording
var recordingReducers = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["combineReducers"])({
    status: status,
    entities: entities,
    ids: ids,
    errors: errors,
    recordings: recordings,
});


/***/ }),

/***/ "./src/app/store/modules/recording/recording.selectors.ts":
/*!****************************************************************!*\
  !*** ./src/app/store/modules/recording/recording.selectors.ts ***!
  \****************************************************************/
/*! exports provided: selectRecordingState, selectRecordings, selectRecording, selectRecordingEntities, selectRecordingStatus, selectRecordingErrors */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectRecordingState", function() { return selectRecordingState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectRecordings", function() { return selectRecordings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectRecording", function() { return selectRecording; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectRecordingEntities", function() { return selectRecordingEntities; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectRecordingStatus", function() { return selectRecordingStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectRecordingErrors", function() { return selectRecordingErrors; });
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _helpers_adapters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../helpers/adapters */ "./src/app/store/helpers/adapters.ts");


var selectRecordingState = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createFeatureSelector"])('recordings');
var selectRecordings = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectRecordingState, function (state) {
    return state.recordings;
});
var selectRecording = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectRecordingState, _helpers_adapters__WEBPACK_IMPORTED_MODULE_1__["getAll"]);
var selectRecordingEntities = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectRecordingState, function (state) { return state.entities; });
var selectRecordingStatus = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectRecordingState, _helpers_adapters__WEBPACK_IMPORTED_MODULE_1__["getStatus"]);
var selectRecordingErrors = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectRecordingState, _helpers_adapters__WEBPACK_IMPORTED_MODULE_1__["getErrors"]);


/***/ }),

/***/ "./src/app/store/modules/shared/shared.actions.ts":
/*!********************************************************!*\
  !*** ./src/app/store/modules/shared/shared.actions.ts ***!
  \********************************************************/
/*! exports provided: SharedActionTypes, SetTitleSharedAction, SetBackSharedAction, SetCanGoBackSharedAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SharedActionTypes", function() { return SharedActionTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SetTitleSharedAction", function() { return SetTitleSharedAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SetBackSharedAction", function() { return SetBackSharedAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SetCanGoBackSharedAction", function() { return SetCanGoBackSharedAction; });
//import { SignUpActionTypes } from '@src/app/store/modules/sign-up/sign-up.actions';
var SharedActionTypes;
(function (SharedActionTypes) {
    SharedActionTypes["SET_TITLE"] = "[shared] set title";
    SharedActionTypes["SET_BACK"] = "[shared] set back";
    SharedActionTypes["SET_CAN_GO_BACK"] = "[shared] set can go back";
    SharedActionTypes["ROUTER_STORE_NAVIGATION"] = "@ngrx/router-store/navigation";
    SharedActionTypes["ROUTER_STORE_CANCEL"] = "@ngrx/router-store/cancel";
})(SharedActionTypes || (SharedActionTypes = {}));
var SetTitleSharedAction = /** @class */ (function () {
    function SetTitleSharedAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = SharedActionTypes.SET_TITLE;
    }
    SetTitleSharedAction.ctorParameters = function () { return [
        null
    ]; };
    return SetTitleSharedAction;
}());

var SetBackSharedAction = /** @class */ (function () {
    function SetBackSharedAction(payload) {
        this.payload = payload;
        this.type = SharedActionTypes.SET_BACK;
    }
    SetBackSharedAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return SetBackSharedAction;
}());

var SetCanGoBackSharedAction = /** @class */ (function () {
    function SetCanGoBackSharedAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = SharedActionTypes.SET_CAN_GO_BACK;
    }
    SetCanGoBackSharedAction.ctorParameters = function () { return [
        { type: Boolean }
    ]; };
    return SetCanGoBackSharedAction;
}());



/***/ }),

/***/ "./src/app/store/modules/shared/shared.reducers.ts":
/*!*********************************************************!*\
  !*** ./src/app/store/modules/shared/shared.reducers.ts ***!
  \*********************************************************/
/*! exports provided: sharedReducers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sharedReducers", function() { return sharedReducers; });
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _src_app_store_modules_shared_shared_actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @src/app/store/modules/shared/shared.actions */ "./src/app/store/modules/shared/shared.actions.ts");
/* harmony import */ var _src_app_store_modules_poses_poses_actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @src/app/store/modules/poses/poses.actions */ "./src/app/store/modules/poses/poses.actions.ts");
/* harmony import */ var _src_app_store_modules_authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @src/app/store/modules/authentication/authentication.actions */ "./src/app/store/modules/authentication/authentication.actions.ts");




var cancelUrl = function (state, _a) {
    if (state === void 0) { state = ''; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _src_app_store_modules_shared_shared_actions__WEBPACK_IMPORTED_MODULE_1__["SharedActionTypes"].ROUTER_STORE_CANCEL:
            return payload.event.url;
        case _src_app_store_modules_authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_3__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
            return '';
        default:
            return state;
    }
};
// THIS IS THE UNIVERSAL WAY OF SETTING THE TITLE WHEREVER YOU ARE IN THE APP DYNAMICALLY
var title = function (state, _a) {
    if (state === void 0) { state = ''; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _src_app_store_modules_poses_poses_actions__WEBPACK_IMPORTED_MODULE_2__["PosesActionTypes"].GET_POSES_BY_SLUG_SUCCESS:
            return "Poses, " + payload.entities.poses[payload.result].title;
        case _src_app_store_modules_shared_shared_actions__WEBPACK_IMPORTED_MODULE_1__["SharedActionTypes"].SET_TITLE:
            return payload;
        default:
            return state;
    }
};
// should we show a back button or not?
var goBack = function (state, _a) {
    if (state === void 0) { state = false; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _src_app_store_modules_shared_shared_actions__WEBPACK_IMPORTED_MODULE_1__["SharedActionTypes"].SET_BACK:
            return payload;
        case '@ngrx/router-store/navigated':
            return false;
        default:
            return state;
    }
};
// should we show a back button or not?
var canGoBack = function (state, _a) {
    if (state === void 0) { state = false; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _src_app_store_modules_shared_shared_actions__WEBPACK_IMPORTED_MODULE_1__["SharedActionTypes"].SET_CAN_GO_BACK:
            return payload;
        default:
            return state;
    }
};
var sharedReducers = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["combineReducers"])({
    title: title,
    goBack: goBack,
    cancelUrl: cancelUrl,
    canGoBack: canGoBack
});


/***/ }),

/***/ "./src/app/store/modules/shared/shared.selectors.ts":
/*!**********************************************************!*\
  !*** ./src/app/store/modules/shared/shared.selectors.ts ***!
  \**********************************************************/
/*! exports provided: selectSharedState, selectTitle, selectBack, selectCanGoBack, selectCancelUrl */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectSharedState", function() { return selectSharedState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectTitle", function() { return selectTitle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectBack", function() { return selectBack; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectCanGoBack", function() { return selectCanGoBack; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectCancelUrl", function() { return selectCancelUrl; });
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");

var selectSharedState = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createFeatureSelector"])('shared');
var selectTitle = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectSharedState, function (state) {
    return state.title;
});
var selectBack = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectSharedState, function (state) {
    return state.goBack;
});
var selectCanGoBack = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectSharedState, function (state) {
    return state.canGoBack;
});
var selectCancelUrl = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectSharedState, function (state) { return state.cancelUrl; });


/***/ }),

/***/ "./src/app/store/modules/sign-up/sign-up.actions.ts":
/*!**********************************************************!*\
  !*** ./src/app/store/modules/sign-up/sign-up.actions.ts ***!
  \**********************************************************/
/*! exports provided: SignUpActionTypes, SignUpRequestAction, SignUpSuccessAction, SignUpFailureAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SignUpActionTypes", function() { return SignUpActionTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SignUpRequestAction", function() { return SignUpRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SignUpSuccessAction", function() { return SignUpSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SignUpFailureAction", function() { return SignUpFailureAction; });
var SignUpActionTypes;
(function (SignUpActionTypes) {
    SignUpActionTypes["SIGN_UP_REQUEST"] = "[sign up] request";
    SignUpActionTypes["SIGN_UP_SUCCESS"] = "[sign up] success";
    SignUpActionTypes["SIGN_UP_FAILURE"] = "[sign up] failure";
})(SignUpActionTypes || (SignUpActionTypes = {}));
var SignUpRequestAction = /** @class */ (function () {
    function SignUpRequestAction(payload) {
        this.payload = payload;
        this.type = SignUpActionTypes.SIGN_UP_REQUEST;
    }
    SignUpRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return SignUpRequestAction;
}());

var SignUpSuccessAction = /** @class */ (function () {
    function SignUpSuccessAction(payload) {
        this.payload = payload;
        this.type = SignUpActionTypes.SIGN_UP_SUCCESS;
    }
    SignUpSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return SignUpSuccessAction;
}());

var SignUpFailureAction = /** @class */ (function () {
    function SignUpFailureAction(payload) {
        this.payload = payload;
        this.type = SignUpActionTypes.SIGN_UP_FAILURE;
    }
    SignUpFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return SignUpFailureAction;
}());



/***/ }),

/***/ "./src/app/store/modules/sign-up/sign-up.effects.ts":
/*!**********************************************************!*\
  !*** ./src/app/store/modules/sign-up/sign-up.effects.ts ***!
  \**********************************************************/
/*! exports provided: SignUpEffects */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SignUpEffects", function() { return SignUpEffects; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ngrx_effects__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngrx/effects */ "./node_modules/@ngrx/effects/fesm5/effects.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _sign_up_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./sign-up.actions */ "./src/app/store/modules/sign-up/sign-up.actions.ts");
/* harmony import */ var _src_app_services_sign_up_sign_up_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @src/app/services/sign-up/sign-up.service */ "./src/app/services/sign-up/sign-up.service.ts");
/* harmony import */ var _src_app_services_authorization_authorization_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @src/app/services/authorization/authorization.service */ "./src/app/services/authorization/authorization.service.ts");
/* harmony import */ var _src_app_store_modules_user_user_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @src/app/store/modules/user/user.types */ "./src/app/store/modules/user/user.types.ts");
/* harmony import */ var _src_app_route_names__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @src/app/route-names */ "./src/app/route-names.ts");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _src_app_store_modules_students_students_actions__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @src/app/store/modules/students/students.actions */ "./src/app/store/modules/students/students.actions.ts");
/* harmony import */ var _src_app_services_utils_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @src/app/services/utils.service */ "./src/app/services/utils.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var SignUpEffects = /** @class */ (function () {
    function SignUpEffects(store, utils, actions$, router, signUpService, authorizationService) {
        var _this = this;
        this.store = store;
        this.utils = utils;
        this.actions$ = actions$;
        this.router = router;
        this.signUpService = signUpService;
        this.authorizationService = authorizationService;
        this.attempt = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_sign_up_actions__WEBPACK_IMPORTED_MODULE_5__["SignUpActionTypes"].SIGN_UP_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["exhaustMap"])(function (_a) {
            var payload = _a.payload;
            return _this.signUpService.attempt(payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (response) {
                var token = response.token, user = response.user;
                _this.authorizationService.setAccessToken(token.access);
                _this.authorizationService.setRefreshToken(token.refresh);
                if (user.view_status === _src_app_store_modules_user_user_types__WEBPACK_IMPORTED_MODULE_8__["ViewStatuses"].TEACHER) {
                    _this.router.navigate(_src_app_route_names__WEBPACK_IMPORTED_MODULE_9__["TeacherStepOne"]);
                }
                else {
                    if (response.user.creators === null) {
                        response.user.creators = [];
                    } // need fix creators field on server
                    var slug = history.state.teacher ? history.state.teacher.slug : null;
                    if (history.state.teacher && !_this.utils.suscriptionOnTeacher) {
                        _this.store.dispatch(new _src_app_store_modules_students_students_actions__WEBPACK_IMPORTED_MODULE_11__["ConnectToTeacherRequestAction"]({ slug: slug }));
                        _this.router.navigate(['/', _src_app_route_names__WEBPACK_IMPORTED_MODULE_9__["RouteNames"].student, _src_app_route_names__WEBPACK_IMPORTED_MODULE_9__["RouteNames"].myPractice]);
                    }
                    else {
                        _this.store.dispatch(new _src_app_store_modules_students_students_actions__WEBPACK_IMPORTED_MODULE_11__["ConnectToTeacherRequestAction"]({ slug: slug }));
                    }
                    if (!history.state.teacher) {
                        _this.router.navigate(['/', _src_app_route_names__WEBPACK_IMPORTED_MODULE_9__["RouteNames"].onboarding, _src_app_route_names__WEBPACK_IMPORTED_MODULE_9__["RouteNames"].student]);
                    }
                }
                return new _sign_up_actions__WEBPACK_IMPORTED_MODULE_5__["SignUpSuccessAction"](response);
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(function (response) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(new _sign_up_actions__WEBPACK_IMPORTED_MODULE_5__["SignUpFailureAction"](response)); }));
        }));
    }
    SignUpEffects.ctorParameters = function () { return [
        { type: _ngrx_store__WEBPACK_IMPORTED_MODULE_10__["Store"] },
        { type: _src_app_services_utils_service__WEBPACK_IMPORTED_MODULE_12__["UtilsService"] },
        { type: _ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Actions"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] },
        { type: _src_app_services_sign_up_sign_up_service__WEBPACK_IMPORTED_MODULE_6__["SignUpService"] },
        { type: _src_app_services_authorization_authorization_service__WEBPACK_IMPORTED_MODULE_7__["AuthorizationService"] }
    ]; };
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])(),
        __metadata("design:type", Object)
    ], SignUpEffects.prototype, "attempt", void 0);
    SignUpEffects = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_ngrx_store__WEBPACK_IMPORTED_MODULE_10__["Store"],
            _src_app_services_utils_service__WEBPACK_IMPORTED_MODULE_12__["UtilsService"],
            _ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Actions"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _src_app_services_sign_up_sign_up_service__WEBPACK_IMPORTED_MODULE_6__["SignUpService"],
            _src_app_services_authorization_authorization_service__WEBPACK_IMPORTED_MODULE_7__["AuthorizationService"]])
    ], SignUpEffects);
    return SignUpEffects;
}());



/***/ }),

/***/ "./src/app/store/modules/sign-up/sign-up.reducers.ts":
/*!***********************************************************!*\
  !*** ./src/app/store/modules/sign-up/sign-up.reducers.ts ***!
  \***********************************************************/
/*! exports provided: signUpReducers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "signUpReducers", function() { return signUpReducers; });
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _sign_up_actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sign-up.actions */ "./src/app/store/modules/sign-up/sign-up.actions.ts");
/* harmony import */ var _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @src/app/services/api.service.interface */ "./src/app/services/api.service.interface.ts");



var initialState_status = null;
var status = function (state, _a) {
    if (state === void 0) { state = initialState_status; }
    var type = _a.type;
    switch (type) {
        case _sign_up_actions__WEBPACK_IMPORTED_MODULE_1__["SignUpActionTypes"].SIGN_UP_REQUEST:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__["RequestStatus"].pending;
        case _sign_up_actions__WEBPACK_IMPORTED_MODULE_1__["SignUpActionTypes"].SIGN_UP_SUCCESS:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__["RequestStatus"].success;
        case _sign_up_actions__WEBPACK_IMPORTED_MODULE_1__["SignUpActionTypes"].SIGN_UP_FAILURE:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__["RequestStatus"].failure;
        default:
            return state;
    }
};
var initialState_errors = null;
var errors = function (state, _a) {
    if (state === void 0) { state = initialState_errors; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _sign_up_actions__WEBPACK_IMPORTED_MODULE_1__["SignUpActionTypes"].SIGN_UP_REQUEST:
            return initialState_errors;
        case _sign_up_actions__WEBPACK_IMPORTED_MODULE_1__["SignUpActionTypes"].SIGN_UP_SUCCESS:
            return initialState_errors;
        case _sign_up_actions__WEBPACK_IMPORTED_MODULE_1__["SignUpActionTypes"].SIGN_UP_FAILURE:
            return payload.message;
        default:
            return state;
    }
};
var signUpReducers = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["combineReducers"])({
    status: status,
    errors: errors
});


/***/ }),

/***/ "./src/app/store/modules/spinner/spinner.actions.ts":
/*!**********************************************************!*\
  !*** ./src/app/store/modules/spinner/spinner.actions.ts ***!
  \**********************************************************/
/*! exports provided: SpinnerActionTypes, SetAddClassTextAction, SetAddClassTextEndAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SpinnerActionTypes", function() { return SpinnerActionTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SetAddClassTextAction", function() { return SetAddClassTextAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SetAddClassTextEndAction", function() { return SetAddClassTextEndAction; });
var SpinnerActionTypes;
(function (SpinnerActionTypes) {
    SpinnerActionTypes["SET_ADD_CLASS_TEXT"] = "[spinner] set text";
    SpinnerActionTypes["SET_ADD_CLASS_TEXT_END"] = "[spinner] set text end";
})(SpinnerActionTypes || (SpinnerActionTypes = {}));
var SetAddClassTextAction = /** @class */ (function () {
    function SetAddClassTextAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = SpinnerActionTypes.SET_ADD_CLASS_TEXT;
    }
    SetAddClassTextAction.ctorParameters = function () { return [
        null
    ]; };
    return SetAddClassTextAction;
}());

var SetAddClassTextEndAction = /** @class */ (function () {
    function SetAddClassTextEndAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = SpinnerActionTypes.SET_ADD_CLASS_TEXT_END;
    }
    SetAddClassTextEndAction.ctorParameters = function () { return [
        null
    ]; };
    return SetAddClassTextEndAction;
}());



/***/ }),

/***/ "./src/app/store/modules/spinner/spinner.reducers.ts":
/*!***********************************************************!*\
  !*** ./src/app/store/modules/spinner/spinner.reducers.ts ***!
  \***********************************************************/
/*! exports provided: spinnerReducers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "spinnerReducers", function() { return spinnerReducers; });
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _src_app_store_modules_spinner_spinner_actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @src/app/store/modules/spinner/spinner.actions */ "./src/app/store/modules/spinner/spinner.actions.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};


var initialState_spinnerState = {
    textAboutClass: false,
};
var spinnerState = function (state, _a) {
    if (state === void 0) { state = initialState_spinnerState; }
    var type = _a.type;
    switch (type) {
        case _src_app_store_modules_spinner_spinner_actions__WEBPACK_IMPORTED_MODULE_1__["SpinnerActionTypes"].SET_ADD_CLASS_TEXT:
            return __assign({}, state, { textAboutClass: true });
        case _src_app_store_modules_spinner_spinner_actions__WEBPACK_IMPORTED_MODULE_1__["SpinnerActionTypes"].SET_ADD_CLASS_TEXT_END:
            return __assign({}, state, { textAboutClass: false });
        default:
            return state;
    }
};
var spinnerReducers = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["combineReducers"])({
    spinnerState: spinnerState,
});


/***/ }),

/***/ "./src/app/store/modules/spinner/spinner.selectors.ts":
/*!************************************************************!*\
  !*** ./src/app/store/modules/spinner/spinner.selectors.ts ***!
  \************************************************************/
/*! exports provided: selectSpinnerState, selectText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectSpinnerState", function() { return selectSpinnerState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectText", function() { return selectText; });
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");

var selectSpinnerState = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createFeatureSelector"])("spinner");
var selectText = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectSpinnerState, function (state) {
    return state.spinnerState;
});


/***/ }),

/***/ "./src/app/store/modules/stripe/stripe.actions.ts":
/*!********************************************************!*\
  !*** ./src/app/store/modules/stripe/stripe.actions.ts ***!
  \********************************************************/
/*! exports provided: StripeActionTypes, GetStripeDashboardLinkRequestAction, GetStripeDashboardLinkSuccessAction, GetStripeDashboardLinkFailureAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StripeActionTypes", function() { return StripeActionTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetStripeDashboardLinkRequestAction", function() { return GetStripeDashboardLinkRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetStripeDashboardLinkSuccessAction", function() { return GetStripeDashboardLinkSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetStripeDashboardLinkFailureAction", function() { return GetStripeDashboardLinkFailureAction; });
var StripeActionTypes;
(function (StripeActionTypes) {
    StripeActionTypes["GET_STRIPE_DASHBOARD_LINK_REQUEST"] = "[get stripe dashboard link] request";
    StripeActionTypes["GET_STRIPE_DASHBOARD_LINK_SUCCESS"] = "[get stripe dashboard link] success";
    StripeActionTypes["GET_STRIPE_DASHBOARD_LINK_FAILURE"] = "[get stripe dashboard link] failure";
})(StripeActionTypes || (StripeActionTypes = {}));
// get stripe dashboard by access token
var GetStripeDashboardLinkRequestAction = /** @class */ (function () {
    function GetStripeDashboardLinkRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = StripeActionTypes.GET_STRIPE_DASHBOARD_LINK_REQUEST;
    }
    GetStripeDashboardLinkRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetStripeDashboardLinkRequestAction;
}());

var GetStripeDashboardLinkSuccessAction = /** @class */ (function () {
    function GetStripeDashboardLinkSuccessAction(payload) {
        this.payload = payload;
        this.type = StripeActionTypes.GET_STRIPE_DASHBOARD_LINK_SUCCESS;
    }
    GetStripeDashboardLinkSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetStripeDashboardLinkSuccessAction;
}());

var GetStripeDashboardLinkFailureAction = /** @class */ (function () {
    function GetStripeDashboardLinkFailureAction(payload) {
        this.payload = payload;
        this.type = StripeActionTypes.GET_STRIPE_DASHBOARD_LINK_FAILURE;
    }
    GetStripeDashboardLinkFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetStripeDashboardLinkFailureAction;
}());



/***/ }),

/***/ "./src/app/store/modules/stripe/stripe.effects.ts":
/*!********************************************************!*\
  !*** ./src/app/store/modules/stripe/stripe.effects.ts ***!
  \********************************************************/
/*! exports provided: StripeEffects */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StripeEffects", function() { return StripeEffects; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngrx_effects__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngrx/effects */ "./node_modules/@ngrx/effects/fesm5/effects.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _services_stripe_stripe_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/stripe/stripe.service */ "./src/app/services/stripe/stripe.service.ts");
/* harmony import */ var _stripe_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./stripe.actions */ "./src/app/store/modules/stripe/stripe.actions.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _src_app_services_utils_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @src/app/services/utils.service */ "./src/app/services/utils.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var StripeEffects = /** @class */ (function () {
    function StripeEffects(actions$, stripeService, router, utilsService) {
        var _this = this;
        this.actions$ = actions$;
        this.stripeService = stripeService;
        this.router = router;
        this.utilsService = utilsService;
        // Get recordings list
        this.getStripeDashboardLinkRequest = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_stripe_actions__WEBPACK_IMPORTED_MODULE_5__["StripeActionTypes"].GET_STRIPE_DASHBOARD_LINK_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["exhaustMap"])(function (_a) {
            var payload = _a.payload;
            return _this.stripeService.getDashboardLink().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(function (response) {
                return new _stripe_actions__WEBPACK_IMPORTED_MODULE_5__["GetStripeDashboardLinkSuccessAction"](response);
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["catchError"])(function (error) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(new _stripe_actions__WEBPACK_IMPORTED_MODULE_5__["GetStripeDashboardLinkFailureAction"](error)); }));
        }));
        this.getStripeDashboardLinkSuccess = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_stripe_actions__WEBPACK_IMPORTED_MODULE_5__["StripeActionTypes"].GET_STRIPE_DASHBOARD_LINK_SUCCESS), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["tap"])(function (_a) {
            var payload = _a.payload;
            // console.log(payload.url);
            if (_this.utilsService.isIos()) {
                document.location.href = payload.url;
            }
            else {
                window.open(payload.url, '_blank');
            }
        }));
    }
    StripeEffects.ctorParameters = function () { return [
        { type: _ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Actions"] },
        { type: _services_stripe_stripe_service__WEBPACK_IMPORTED_MODULE_4__["StripeService"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"] },
        { type: _src_app_services_utils_service__WEBPACK_IMPORTED_MODULE_7__["UtilsService"] }
    ]; };
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])(),
        __metadata("design:type", Object)
    ], StripeEffects.prototype, "getStripeDashboardLinkRequest", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_3__["Observable"])
    ], StripeEffects.prototype, "getStripeDashboardLinkSuccess", void 0);
    StripeEffects = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Actions"],
            _services_stripe_stripe_service__WEBPACK_IMPORTED_MODULE_4__["StripeService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"],
            _src_app_services_utils_service__WEBPACK_IMPORTED_MODULE_7__["UtilsService"]])
    ], StripeEffects);
    return StripeEffects;
}());



/***/ }),

/***/ "./src/app/store/modules/stripe/stripe.reducers.ts":
/*!*********************************************************!*\
  !*** ./src/app/store/modules/stripe/stripe.reducers.ts ***!
  \*********************************************************/
/*! exports provided: stripeReducers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "stripeReducers", function() { return stripeReducers; });
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _stripe_actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stripe.actions */ "./src/app/store/modules/stripe/stripe.actions.ts");
/* harmony import */ var _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @src/app/services/api.service.interface */ "./src/app/services/api.service.interface.ts");



var initialState_status = null;
var status = function (state, _a) {
    if (state === void 0) { state = initialState_status; }
    var type = _a.type;
    switch (type) {
        case _stripe_actions__WEBPACK_IMPORTED_MODULE_1__["StripeActionTypes"].GET_STRIPE_DASHBOARD_LINK_REQUEST:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__["RequestStatus"].pending;
        case _stripe_actions__WEBPACK_IMPORTED_MODULE_1__["StripeActionTypes"].GET_STRIPE_DASHBOARD_LINK_SUCCESS:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__["RequestStatus"].success;
        case _stripe_actions__WEBPACK_IMPORTED_MODULE_1__["StripeActionTypes"].GET_STRIPE_DASHBOARD_LINK_FAILURE:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_2__["RequestStatus"].failure;
        default:
            return state;
    }
};
var initialState_entities = {};
var entities = function (state, _a) {
    if (state === void 0) { state = initialState_entities; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _stripe_actions__WEBPACK_IMPORTED_MODULE_1__["StripeActionTypes"].GET_STRIPE_DASHBOARD_LINK_REQUEST:
            return initialState_entities;
        case _stripe_actions__WEBPACK_IMPORTED_MODULE_1__["StripeActionTypes"].GET_STRIPE_DASHBOARD_LINK_SUCCESS:
            // console.log({payload});
            return initialState_entities;
        case _stripe_actions__WEBPACK_IMPORTED_MODULE_1__["StripeActionTypes"].GET_STRIPE_DASHBOARD_LINK_FAILURE:
            return initialState_entities;
        default:
            return state;
    }
};
var initialState_errors = null;
var errors = function (state, _a) {
    if (state === void 0) { state = initialState_errors; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _stripe_actions__WEBPACK_IMPORTED_MODULE_1__["StripeActionTypes"].GET_STRIPE_DASHBOARD_LINK_REQUEST:
            return initialState_errors;
        case _stripe_actions__WEBPACK_IMPORTED_MODULE_1__["StripeActionTypes"].GET_STRIPE_DASHBOARD_LINK_SUCCESS:
            return initialState_errors;
        case _stripe_actions__WEBPACK_IMPORTED_MODULE_1__["StripeActionTypes"].GET_STRIPE_DASHBOARD_LINK_FAILURE:
            return payload.message;
        default:
            return state;
    }
};
var initialState_message = null;
var message = function (state, _a) {
    if (state === void 0) { state = initialState_message; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        default:
            return state;
    }
};
var stripeReducers = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["combineReducers"])({
    status: status,
    entities: entities,
    errors: errors,
    message: message
});


/***/ }),

/***/ "./src/app/store/modules/students/students.actions.ts":
/*!************************************************************!*\
  !*** ./src/app/store/modules/students/students.actions.ts ***!
  \************************************************************/
/*! exports provided: StudentsActionTypes, GetStudentsListRequestAction, GetStudentsListSuccessAction, GetStudentsListFailureAction, GetStudentsByIdRequestAction, GetStudentsByIdSuccessAction, GetStudentsByIdFailureAction, StudentSetActiveAction, UpdateStudentsByIdRequestAction, UpdateStudentsByIdSuccessAction, UpdateStudentsByIdFailureAction, ConnectToTeacherRequestAction, ConnectToTeacherSuccessAction, ConnectToTeacherFailureAction, DisconnectFromTeacherRequestAction, DisconnectFromTeacherSuccessAction, DisconnectFromTeacherFailureAction, SubscribeToTeacherRequestAction, SubscribeToTeacherSuccessAction, SubscribeToTeacherFailureAction, UnsubscribeFromTeacherRequestAction, UnsubscribeFromTeacherSuccessAction, UnsubscribeFromTeacherFailureAction, PurchaseTeacherClassRequestAction, PurchaseTeacherClassSuccessAction, PurchaseTeacherClassFailureAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StudentsActionTypes", function() { return StudentsActionTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetStudentsListRequestAction", function() { return GetStudentsListRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetStudentsListSuccessAction", function() { return GetStudentsListSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetStudentsListFailureAction", function() { return GetStudentsListFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetStudentsByIdRequestAction", function() { return GetStudentsByIdRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetStudentsByIdSuccessAction", function() { return GetStudentsByIdSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetStudentsByIdFailureAction", function() { return GetStudentsByIdFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StudentSetActiveAction", function() { return StudentSetActiveAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateStudentsByIdRequestAction", function() { return UpdateStudentsByIdRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateStudentsByIdSuccessAction", function() { return UpdateStudentsByIdSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateStudentsByIdFailureAction", function() { return UpdateStudentsByIdFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConnectToTeacherRequestAction", function() { return ConnectToTeacherRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConnectToTeacherSuccessAction", function() { return ConnectToTeacherSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConnectToTeacherFailureAction", function() { return ConnectToTeacherFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DisconnectFromTeacherRequestAction", function() { return DisconnectFromTeacherRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DisconnectFromTeacherSuccessAction", function() { return DisconnectFromTeacherSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DisconnectFromTeacherFailureAction", function() { return DisconnectFromTeacherFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SubscribeToTeacherRequestAction", function() { return SubscribeToTeacherRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SubscribeToTeacherSuccessAction", function() { return SubscribeToTeacherSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SubscribeToTeacherFailureAction", function() { return SubscribeToTeacherFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnsubscribeFromTeacherRequestAction", function() { return UnsubscribeFromTeacherRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnsubscribeFromTeacherSuccessAction", function() { return UnsubscribeFromTeacherSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnsubscribeFromTeacherFailureAction", function() { return UnsubscribeFromTeacherFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PurchaseTeacherClassRequestAction", function() { return PurchaseTeacherClassRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PurchaseTeacherClassSuccessAction", function() { return PurchaseTeacherClassSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PurchaseTeacherClassFailureAction", function() { return PurchaseTeacherClassFailureAction; });
var StudentsActionTypes;
(function (StudentsActionTypes) {
    StudentsActionTypes["GET_STUDENTS_LIST_REQUEST"] = "[get students list] request";
    StudentsActionTypes["GET_STUDENTS_LIST_SUCCESS"] = "[get students list] success";
    StudentsActionTypes["GET_STUDENTS_LIST_FAILURE"] = "[get students list] failure";
    StudentsActionTypes["GET_STUDENTS_BY_ID_REQUEST"] = "[get students by id] request";
    StudentsActionTypes["GET_STUDENTS_BY_ID_SUCCESS"] = "[get students by id] success";
    StudentsActionTypes["GET_STUDENTS_BY_ID_FAILURE"] = "[get students by id] failure";
    StudentsActionTypes["UPDATE_STUDENTS_BY_ID_REQUEST"] = "[update students profile by id] request";
    StudentsActionTypes["UPDATE_STUDENTS_BY_ID_SUCCESS"] = "[update students profile by id] success";
    StudentsActionTypes["UPDATE_STUDENTS_BY_ID_FAILURE"] = "[update students profile by id] failure";
    StudentsActionTypes["STUDENTS_SET_ACTIVE"] = "[students set active] set active";
    StudentsActionTypes["SEND_CONNECT_TO_TEACHER_REQUEST"] = "[send connect to teacher] request";
    StudentsActionTypes["SEND_CONNECT_TO_TEACHER_SUCCESS"] = "[send connect to teacher] success";
    StudentsActionTypes["SEND_CONNECT_TO_TEACHER_FAILURE"] = "[send connect to teacher] failure";
    StudentsActionTypes["SEND_DISCONNECT_FROM_TEACHER_REQUEST"] = "[send disconnect from teacher] request";
    StudentsActionTypes["SEND_DISCONNECT_FROM_TEACHER_SUCCESS"] = "[send disconnect from teacher] success";
    StudentsActionTypes["SEND_DISCONNECT_FROM_TEACHER_FAILURE"] = "[send disconnect from teacher] failure";
    StudentsActionTypes["SEND_SUBSCRIBE_TO_TEACHER_REQUEST"] = "[send subscribe to teacher] request";
    StudentsActionTypes["SEND_SUBSCRIBE_TO_TEACHER_SUCCESS"] = "[send subscribe to teacher] success";
    StudentsActionTypes["SEND_SUBSCRIBE_TO_TEACHER_FAILURE"] = "[send subscribe to teacher] failure";
    StudentsActionTypes["SEND_UNSUBSCRIBE_FROM_TEACHER_REQUEST"] = "[send unsubscribe from teacher] request";
    StudentsActionTypes["SEND_UNSUBSCRIBE_FROM_TEACHER_SUCCESS"] = "[send unsubscribe from teacher] success";
    StudentsActionTypes["SEND_UNSUBSCRIBE_FROM_TEACHER_FAILURE"] = "[send unsubscribe from teacher] failure";
    StudentsActionTypes["PURCHASE_TEACHER_CLASS_REQUEST"] = "[purchase teacher class] request";
    StudentsActionTypes["PURCHASE_TEACHER_CLASS_SUCCESS"] = "[purchase teacher class] success";
    StudentsActionTypes["PURCHASE_TEACHER_CLASS_FAILURE"] = "[purchase teacher class] failure";
})(StudentsActionTypes || (StudentsActionTypes = {}));
// Get students list
var GetStudentsListRequestAction = /** @class */ (function () {
    function GetStudentsListRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = StudentsActionTypes.GET_STUDENTS_LIST_REQUEST;
    }
    GetStudentsListRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetStudentsListRequestAction;
}());

var GetStudentsListSuccessAction = /** @class */ (function () {
    function GetStudentsListSuccessAction(payload) {
        this.payload = payload;
        this.type = StudentsActionTypes.GET_STUDENTS_LIST_SUCCESS;
    }
    GetStudentsListSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetStudentsListSuccessAction;
}());

var GetStudentsListFailureAction = /** @class */ (function () {
    function GetStudentsListFailureAction(payload) {
        this.payload = payload;
        this.type = StudentsActionTypes.GET_STUDENTS_LIST_FAILURE;
    }
    GetStudentsListFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetStudentsListFailureAction;
}());

// Get student by id
var GetStudentsByIdRequestAction = /** @class */ (function () {
    function GetStudentsByIdRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = StudentsActionTypes.GET_STUDENTS_BY_ID_REQUEST;
    }
    GetStudentsByIdRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetStudentsByIdRequestAction;
}());

var GetStudentsByIdSuccessAction = /** @class */ (function () {
    function GetStudentsByIdSuccessAction(payload) {
        this.payload = payload;
        this.type = StudentsActionTypes.GET_STUDENTS_BY_ID_SUCCESS;
    }
    GetStudentsByIdSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetStudentsByIdSuccessAction;
}());

var GetStudentsByIdFailureAction = /** @class */ (function () {
    function GetStudentsByIdFailureAction(payload) {
        this.payload = payload;
        this.type = StudentsActionTypes.GET_STUDENTS_BY_ID_FAILURE;
    }
    GetStudentsByIdFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetStudentsByIdFailureAction;
}());

// Set student active
var StudentSetActiveAction = /** @class */ (function () {
    function StudentSetActiveAction(payload) {
        this.payload = payload;
        this.type = StudentsActionTypes.STUDENTS_SET_ACTIVE;
    }
    StudentSetActiveAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return StudentSetActiveAction;
}());

// Update teachers
var UpdateStudentsByIdRequestAction = /** @class */ (function () {
    function UpdateStudentsByIdRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = StudentsActionTypes.UPDATE_STUDENTS_BY_ID_REQUEST;
    }
    UpdateStudentsByIdRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return UpdateStudentsByIdRequestAction;
}());

var UpdateStudentsByIdSuccessAction = /** @class */ (function () {
    function UpdateStudentsByIdSuccessAction(payload) {
        this.payload = payload;
        this.type = StudentsActionTypes.UPDATE_STUDENTS_BY_ID_SUCCESS;
    }
    UpdateStudentsByIdSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return UpdateStudentsByIdSuccessAction;
}());

var UpdateStudentsByIdFailureAction = /** @class */ (function () {
    function UpdateStudentsByIdFailureAction(payload) {
        this.payload = payload;
        this.type = StudentsActionTypes.UPDATE_STUDENTS_BY_ID_FAILURE;
    }
    UpdateStudentsByIdFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return UpdateStudentsByIdFailureAction;
}());

// Connect to teacher
var ConnectToTeacherRequestAction = /** @class */ (function () {
    function ConnectToTeacherRequestAction(payload) {
        this.payload = payload;
        this.type = StudentsActionTypes.SEND_CONNECT_TO_TEACHER_REQUEST;
    }
    ConnectToTeacherRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return ConnectToTeacherRequestAction;
}());

var ConnectToTeacherSuccessAction = /** @class */ (function () {
    function ConnectToTeacherSuccessAction(payload) {
        this.payload = payload;
        this.type = StudentsActionTypes.SEND_CONNECT_TO_TEACHER_SUCCESS;
    }
    ConnectToTeacherSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return ConnectToTeacherSuccessAction;
}());

var ConnectToTeacherFailureAction = /** @class */ (function () {
    function ConnectToTeacherFailureAction(payload) {
        this.payload = payload;
        this.type = StudentsActionTypes.SEND_CONNECT_TO_TEACHER_FAILURE;
    }
    ConnectToTeacherFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return ConnectToTeacherFailureAction;
}());

// Disconnect from teacher
var DisconnectFromTeacherRequestAction = /** @class */ (function () {
    function DisconnectFromTeacherRequestAction(payload) {
        this.payload = payload;
        this.type = StudentsActionTypes.SEND_DISCONNECT_FROM_TEACHER_REQUEST;
    }
    DisconnectFromTeacherRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return DisconnectFromTeacherRequestAction;
}());

var DisconnectFromTeacherSuccessAction = /** @class */ (function () {
    function DisconnectFromTeacherSuccessAction(payload) {
        this.payload = payload;
        this.type = StudentsActionTypes.SEND_DISCONNECT_FROM_TEACHER_SUCCESS;
    }
    DisconnectFromTeacherSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return DisconnectFromTeacherSuccessAction;
}());

var DisconnectFromTeacherFailureAction = /** @class */ (function () {
    function DisconnectFromTeacherFailureAction(payload) {
        this.payload = payload;
        this.type = StudentsActionTypes.SEND_DISCONNECT_FROM_TEACHER_FAILURE;
    }
    DisconnectFromTeacherFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return DisconnectFromTeacherFailureAction;
}());

// Subscribe teacher
var SubscribeToTeacherRequestAction = /** @class */ (function () {
    function SubscribeToTeacherRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = StudentsActionTypes.SEND_SUBSCRIBE_TO_TEACHER_REQUEST;
    }
    SubscribeToTeacherRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return SubscribeToTeacherRequestAction;
}());

var SubscribeToTeacherSuccessAction = /** @class */ (function () {
    function SubscribeToTeacherSuccessAction(payload) {
        this.payload = payload;
        this.type = StudentsActionTypes.SEND_SUBSCRIBE_TO_TEACHER_SUCCESS;
    }
    SubscribeToTeacherSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return SubscribeToTeacherSuccessAction;
}());

var SubscribeToTeacherFailureAction = /** @class */ (function () {
    function SubscribeToTeacherFailureAction(payload) {
        this.payload = payload;
        this.type = StudentsActionTypes.SEND_SUBSCRIBE_TO_TEACHER_FAILURE;
    }
    SubscribeToTeacherFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return SubscribeToTeacherFailureAction;
}());

// Unsubscribe
var UnsubscribeFromTeacherRequestAction = /** @class */ (function () {
    function UnsubscribeFromTeacherRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = StudentsActionTypes.SEND_UNSUBSCRIBE_FROM_TEACHER_REQUEST;
    }
    UnsubscribeFromTeacherRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return UnsubscribeFromTeacherRequestAction;
}());

var UnsubscribeFromTeacherSuccessAction = /** @class */ (function () {
    function UnsubscribeFromTeacherSuccessAction(payload) {
        this.payload = payload;
        this.type = StudentsActionTypes.SEND_UNSUBSCRIBE_FROM_TEACHER_SUCCESS;
    }
    UnsubscribeFromTeacherSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return UnsubscribeFromTeacherSuccessAction;
}());

var UnsubscribeFromTeacherFailureAction = /** @class */ (function () {
    function UnsubscribeFromTeacherFailureAction(payload) {
        this.payload = payload;
        this.type = StudentsActionTypes.SEND_UNSUBSCRIBE_FROM_TEACHER_FAILURE;
    }
    UnsubscribeFromTeacherFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return UnsubscribeFromTeacherFailureAction;
}());

// Buy one single class
var PurchaseTeacherClassRequestAction = /** @class */ (function () {
    function PurchaseTeacherClassRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = StudentsActionTypes.PURCHASE_TEACHER_CLASS_REQUEST;
    }
    PurchaseTeacherClassRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return PurchaseTeacherClassRequestAction;
}());

var PurchaseTeacherClassSuccessAction = /** @class */ (function () {
    function PurchaseTeacherClassSuccessAction(payload) {
        this.payload = payload;
        this.type = StudentsActionTypes.PURCHASE_TEACHER_CLASS_SUCCESS;
    }
    PurchaseTeacherClassSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return PurchaseTeacherClassSuccessAction;
}());

var PurchaseTeacherClassFailureAction = /** @class */ (function () {
    function PurchaseTeacherClassFailureAction(payload) {
        this.payload = payload;
        this.type = StudentsActionTypes.PURCHASE_TEACHER_CLASS_FAILURE;
    }
    PurchaseTeacherClassFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return PurchaseTeacherClassFailureAction;
}());



/***/ }),

/***/ "./src/app/store/modules/students/students.effects.ts":
/*!************************************************************!*\
  !*** ./src/app/store/modules/students/students.effects.ts ***!
  \************************************************************/
/*! exports provided: StudentsEffects */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StudentsEffects", function() { return StudentsEffects; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ngrx_effects__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngrx/effects */ "./node_modules/@ngrx/effects/fesm5/effects.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var normalizr__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! normalizr */ "./node_modules/normalizr/dist/normalizr.es.js");
/* harmony import */ var _students_actions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./students.actions */ "./src/app/store/modules/students/students.actions.ts");
/* harmony import */ var _src_app_services_student_student_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @src/app/services/student/student.service */ "./src/app/services/student/student.service.ts");
/* harmony import */ var _students_schema__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./students.schema */ "./src/app/store/modules/students/students.schema.ts");
/* harmony import */ var _src_app_route_names__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @src/app/route-names */ "./src/app/route-names.ts");
/* harmony import */ var _src_app_services_spinner_overlay_spinner_overlay_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @src/app/services/spinner-overlay/spinner-overlay.service */ "./src/app/services/spinner-overlay/spinner-overlay.service.ts");
/* harmony import */ var _src_app_services_utils_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @src/app/services/utils.service */ "./src/app/services/utils.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var StudentsEffects = /** @class */ (function () {
    function StudentsEffects(utils, actions$, router, studentService, spinnerOverlayService) {
        var _this = this;
        this.utils = utils;
        this.actions$ = actions$;
        this.router = router;
        this.studentService = studentService;
        this.spinnerOverlayService = spinnerOverlayService;
        this.getTeachersList = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_students_actions__WEBPACK_IMPORTED_MODULE_6__["StudentsActionTypes"].GET_STUDENTS_LIST_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["exhaustMap"])(function () {
            return _this.studentService.list().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (response) { return new _students_actions__WEBPACK_IMPORTED_MODULE_6__["GetStudentsListSuccessAction"](Object(normalizr__WEBPACK_IMPORTED_MODULE_5__["normalize"])(response, [_students_schema__WEBPACK_IMPORTED_MODULE_8__["studentsSchema"]])); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(function (error) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(new _students_actions__WEBPACK_IMPORTED_MODULE_6__["GetStudentsListFailureAction"](error)); }));
        }));
        this.setConnection = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_students_actions__WEBPACK_IMPORTED_MODULE_6__["StudentsActionTypes"].SEND_CONNECT_TO_TEACHER_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["exhaustMap"])(function (_a) {
            var payload = _a.payload;
            return _this.studentService.setConnection(payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (response) {
                // console.log('CONNECT TO TEACHER ACTION am about to go home,.....', response);
                // this.router.navigate(['/', RouteNames.student]);
                if (_this.utils.suscriptionOnTeacher) {
                    _this.router.navigate(['/', _src_app_route_names__WEBPACK_IMPORTED_MODULE_9__["RouteNames"].student, _src_app_route_names__WEBPACK_IMPORTED_MODULE_9__["RouteNames"].subscription]);
                }
                return new _students_actions__WEBPACK_IMPORTED_MODULE_6__["ConnectToTeacherSuccessAction"](response);
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(function (error) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(new _students_actions__WEBPACK_IMPORTED_MODULE_6__["ConnectToTeacherFailureAction"](error)); }));
        }));
        this.disconnect = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_students_actions__WEBPACK_IMPORTED_MODULE_6__["StudentsActionTypes"].SEND_DISCONNECT_FROM_TEACHER_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["exhaustMap"])(function (_a) {
            var payload = _a.payload;
            return _this.studentService.disconnect(payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (response) { return new _students_actions__WEBPACK_IMPORTED_MODULE_6__["DisconnectFromTeacherSuccessAction"](response); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(function (error) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(new _students_actions__WEBPACK_IMPORTED_MODULE_6__["DisconnectFromTeacherFailureAction"](error)); }));
        }));
        this.setSubscription = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_students_actions__WEBPACK_IMPORTED_MODULE_6__["StudentsActionTypes"].SEND_SUBSCRIBE_TO_TEACHER_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["exhaustMap"])(function (_a) {
            var payload = _a.payload;
            _this.spinnerOverlayService.show();
            return _this.studentService.setSubscription(payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (response) {
                // delay for getting current request
                _this.timeout(function () {
                    _this.spinnerOverlayService.hide();
                }, 3500);
                return new _students_actions__WEBPACK_IMPORTED_MODULE_6__["SubscribeToTeacherSuccessAction"](response);
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(function (error) {
                _this.spinnerOverlayService.hide();
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(new _students_actions__WEBPACK_IMPORTED_MODULE_6__["SubscribeToTeacherFailureAction"](error));
            }));
        }));
        this.unSubscription = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_students_actions__WEBPACK_IMPORTED_MODULE_6__["StudentsActionTypes"].SEND_UNSUBSCRIBE_FROM_TEACHER_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["exhaustMap"])(function (_a) {
            var payload = _a.payload;
            return _this.studentService.unsubscribe(payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (response) { return new _students_actions__WEBPACK_IMPORTED_MODULE_6__["UnsubscribeFromTeacherSuccessAction"](response); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(function (error) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(new _students_actions__WEBPACK_IMPORTED_MODULE_6__["UnsubscribeFromTeacherFailureAction"](error)); }));
        }));
        this.purchase = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_students_actions__WEBPACK_IMPORTED_MODULE_6__["StudentsActionTypes"].PURCHASE_TEACHER_CLASS_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["exhaustMap"])(function (_a) {
            var payload = _a.payload;
            return _this.studentService.purchase(payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (response) { return new _students_actions__WEBPACK_IMPORTED_MODULE_6__["PurchaseTeacherClassSuccessAction"](response); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(function (error) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(new _students_actions__WEBPACK_IMPORTED_MODULE_6__["PurchaseTeacherClassFailureAction"](error)); }));
        }));
    }
    /**
       * @name timeout
       * @description call function with delay time
       * @param { function } callback
       * @param { number } delay
       */
    StudentsEffects.prototype.timeout = function (callback, delay) {
        Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["timer"])(delay)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["first"])())
            .subscribe(function () { return callback(); });
    };
    StudentsEffects.ctorParameters = function () { return [
        { type: _src_app_services_utils_service__WEBPACK_IMPORTED_MODULE_11__["UtilsService"] },
        { type: _ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Actions"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] },
        { type: _src_app_services_student_student_service__WEBPACK_IMPORTED_MODULE_7__["StudentService"] },
        { type: _src_app_services_spinner_overlay_spinner_overlay_service__WEBPACK_IMPORTED_MODULE_10__["SpinnerOverlayService"] }
    ]; };
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])(),
        __metadata("design:type", Object)
    ], StudentsEffects.prototype, "getTeachersList", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])(),
        __metadata("design:type", Object)
    ], StudentsEffects.prototype, "setConnection", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])(),
        __metadata("design:type", Object)
    ], StudentsEffects.prototype, "disconnect", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])(),
        __metadata("design:type", Object)
    ], StudentsEffects.prototype, "setSubscription", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])(),
        __metadata("design:type", Object)
    ], StudentsEffects.prototype, "unSubscription", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])(),
        __metadata("design:type", Object)
    ], StudentsEffects.prototype, "purchase", void 0);
    StudentsEffects = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_src_app_services_utils_service__WEBPACK_IMPORTED_MODULE_11__["UtilsService"],
            _ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Actions"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _src_app_services_student_student_service__WEBPACK_IMPORTED_MODULE_7__["StudentService"],
            _src_app_services_spinner_overlay_spinner_overlay_service__WEBPACK_IMPORTED_MODULE_10__["SpinnerOverlayService"]])
    ], StudentsEffects);
    return StudentsEffects;
}());



/***/ }),

/***/ "./src/app/store/modules/students/students.reducers.ts":
/*!*************************************************************!*\
  !*** ./src/app/store/modules/students/students.reducers.ts ***!
  \*************************************************************/
/*! exports provided: studentsReducers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "studentsReducers", function() { return studentsReducers; });
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @src/app/services/api.service.interface */ "./src/app/services/api.service.interface.ts");
/* harmony import */ var _students_actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./students.actions */ "./src/app/store/modules/students/students.actions.ts");
/* harmony import */ var _src_app_store_modules_authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @src/app/store/modules/authentication/authentication.actions */ "./src/app/store/modules/authentication/authentication.actions.ts");
/* harmony import */ var _src_app_store_modules_teachers_teachers_actions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @src/app/store/modules/teachers/teachers.actions */ "./src/app/store/modules/teachers/teachers.actions.ts");
/* harmony import */ var _user_user_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../user/user.actions */ "./src/app/store/modules/user/user.actions.ts");
/* harmony import */ var _src_app_store_modules_user_user_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @src/app/store/modules/user/user.types */ "./src/app/store/modules/user/user.types.ts");







var initialState_status = null;
var status = function (state, _a) {
    if (state === void 0) { state = initialState_status; }
    var type = _a.type;
    switch (type) {
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].GET_STUDENTS_LIST_REQUEST:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].GET_STUDENTS_BY_ID_REQUEST:
        case _src_app_store_modules_teachers_teachers_actions__WEBPACK_IMPORTED_MODULE_4__["TeachersActionTypes"].GET_STUDENTS_LIST_BY_TEACHER_REQUEST:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].UPDATE_STUDENTS_BY_ID_REQUEST:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].SEND_UNSUBSCRIBE_FROM_TEACHER_REQUEST:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].SEND_CONNECT_TO_TEACHER_REQUEST:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].SEND_DISCONNECT_FROM_TEACHER_REQUEST:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].SEND_SUBSCRIBE_TO_TEACHER_REQUEST:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].PURCHASE_TEACHER_CLASS_REQUEST:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_1__["RequestStatus"].pending;
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].GET_STUDENTS_LIST_SUCCESS:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].GET_STUDENTS_BY_ID_SUCCESS:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].UPDATE_STUDENTS_BY_ID_SUCCESS:
        case _src_app_store_modules_teachers_teachers_actions__WEBPACK_IMPORTED_MODULE_4__["TeachersActionTypes"].GET_STUDENTS_LIST_BY_TEACHER_SUCCESS:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].SEND_SUBSCRIBE_TO_TEACHER_SUCCESS:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].SEND_UNSUBSCRIBE_FROM_TEACHER_SUCCESS:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].SEND_CONNECT_TO_TEACHER_SUCCESS:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].SEND_DISCONNECT_FROM_TEACHER_SUCCESS:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].PURCHASE_TEACHER_CLASS_SUCCESS:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_1__["RequestStatus"].success;
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].GET_STUDENTS_LIST_FAILURE:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].GET_STUDENTS_BY_ID_FAILURE:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].UPDATE_STUDENTS_BY_ID_FAILURE:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].SEND_SUBSCRIBE_TO_TEACHER_FAILURE:
        case _src_app_store_modules_teachers_teachers_actions__WEBPACK_IMPORTED_MODULE_4__["TeachersActionTypes"].GET_STUDENTS_LIST_BY_TEACHER_FAILURE:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].SEND_UNSUBSCRIBE_FROM_TEACHER_FAILURE:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].SEND_CONNECT_TO_TEACHER_FAILURE:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].SEND_DISCONNECT_FROM_TEACHER_FAILURE:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].PURCHASE_TEACHER_CLASS_FAILURE:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_1__["RequestStatus"].failure;
        default:
            return state;
    }
};
var initialState_entities = {};
var entities = function (state, _a) {
    if (state === void 0) { state = initialState_entities; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].GET_STUDENTS_LIST_REQUEST:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].GET_STUDENTS_BY_ID_REQUEST:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].UPDATE_STUDENTS_BY_ID_REQUEST:
        case _src_app_store_modules_teachers_teachers_actions__WEBPACK_IMPORTED_MODULE_4__["TeachersActionTypes"].GET_STUDENTS_LIST_BY_TEACHER_REQUEST:
            return initialState_entities;
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].GET_STUDENTS_LIST_SUCCESS:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].GET_STUDENTS_BY_ID_SUCCESS:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].UPDATE_STUDENTS_BY_ID_SUCCESS:
        case _src_app_store_modules_teachers_teachers_actions__WEBPACK_IMPORTED_MODULE_4__["TeachersActionTypes"].GET_STUDENTS_LIST_BY_TEACHER_SUCCESS:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].SEND_SUBSCRIBE_TO_TEACHER_SUCCESS:
            console.log('STUDENTS REDUCERS ENTITIES', { payload: payload });
            return payload;
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].GET_STUDENTS_LIST_FAILURE:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].GET_STUDENTS_BY_ID_FAILURE:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].UPDATE_STUDENTS_BY_ID_FAILURE:
        case _src_app_store_modules_authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_3__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
        case _src_app_store_modules_teachers_teachers_actions__WEBPACK_IMPORTED_MODULE_4__["TeachersActionTypes"].GET_STUDENTS_LIST_BY_TEACHER_FAILURE:
            return initialState_entities;
        default:
            return state;
    }
};
var initialState_ids = [];
var ids = function (state, _a) {
    if (state === void 0) { state = initialState_ids; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].GET_STUDENTS_LIST_REQUEST:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].GET_STUDENTS_BY_ID_REQUEST:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].UPDATE_STUDENTS_BY_ID_REQUEST:
        case _src_app_store_modules_teachers_teachers_actions__WEBPACK_IMPORTED_MODULE_4__["TeachersActionTypes"].GET_STUDENTS_LIST_BY_TEACHER_REQUEST:
            return initialState_ids;
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].GET_STUDENTS_LIST_SUCCESS:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].GET_STUDENTS_BY_ID_SUCCESS:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].UPDATE_STUDENTS_BY_ID_SUCCESS:
        case _src_app_store_modules_teachers_teachers_actions__WEBPACK_IMPORTED_MODULE_4__["TeachersActionTypes"].GET_STUDENTS_LIST_BY_TEACHER_SUCCESS:
            return payload.result;
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].GET_STUDENTS_LIST_FAILURE:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].GET_STUDENTS_BY_ID_FAILURE:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].UPDATE_STUDENTS_BY_ID_FAILURE:
        case _src_app_store_modules_teachers_teachers_actions__WEBPACK_IMPORTED_MODULE_4__["TeachersActionTypes"].GET_STUDENTS_LIST_BY_TEACHER_FAILURE:
            return initialState_ids;
        case _src_app_store_modules_authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_3__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
            return null;
        default:
            return state;
    }
};
var initialState_errors = null;
var errors = function (state, _a) {
    if (state === void 0) { state = initialState_errors; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].GET_STUDENTS_LIST_REQUEST:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].GET_STUDENTS_BY_ID_REQUEST:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].UPDATE_STUDENTS_BY_ID_REQUEST:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].SEND_CONNECT_TO_TEACHER_REQUEST:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].SEND_DISCONNECT_FROM_TEACHER_REQUEST:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].SEND_SUBSCRIBE_TO_TEACHER_REQUEST:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].PURCHASE_TEACHER_CLASS_REQUEST:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].SEND_UNSUBSCRIBE_FROM_TEACHER_REQUEST:
        case _src_app_store_modules_teachers_teachers_actions__WEBPACK_IMPORTED_MODULE_4__["TeachersActionTypes"].GET_STUDENTS_LIST_BY_TEACHER_REQUEST:
            return initialState_errors;
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].GET_STUDENTS_LIST_SUCCESS:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].GET_STUDENTS_BY_ID_SUCCESS:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].UPDATE_STUDENTS_BY_ID_SUCCESS:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].SEND_CONNECT_TO_TEACHER_SUCCESS:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].SEND_DISCONNECT_FROM_TEACHER_SUCCESS:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].SEND_SUBSCRIBE_TO_TEACHER_SUCCESS:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].SEND_UNSUBSCRIBE_FROM_TEACHER_SUCCESS:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].PURCHASE_TEACHER_CLASS_SUCCESS:
        case _src_app_store_modules_teachers_teachers_actions__WEBPACK_IMPORTED_MODULE_4__["TeachersActionTypes"].GET_STUDENTS_LIST_BY_TEACHER_SUCCESS:
            return initialState_errors;
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].GET_STUDENTS_LIST_FAILURE:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].GET_STUDENTS_BY_ID_FAILURE:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].UPDATE_STUDENTS_BY_ID_FAILURE:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].SEND_CONNECT_TO_TEACHER_FAILURE:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].SEND_DISCONNECT_FROM_TEACHER_FAILURE:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].SEND_SUBSCRIBE_TO_TEACHER_FAILURE:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].SEND_UNSUBSCRIBE_FROM_TEACHER_FAILURE:
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].PURCHASE_TEACHER_CLASS_FAILURE:
        case _src_app_store_modules_teachers_teachers_actions__WEBPACK_IMPORTED_MODULE_4__["TeachersActionTypes"].GET_STUDENTS_LIST_BY_TEACHER_FAILURE:
            return payload.message;
        default:
            return state;
    }
};
var subscriptionStatus = function (state, _a) {
    if (state === void 0) { state = null; }
    var type = _a.type, payload = _a.payload;
    var user;
    switch (type) {
        case _user_user_actions__WEBPACK_IMPORTED_MODULE_5__["UserActionTypes"].GET_CURRENT_USER_SUCCESS:
            if (payload.entities && payload.entities.users && payload.result) {
                user = payload.entities.users[payload.result];
                if (user && user.view_status === _src_app_store_modules_user_user_types__WEBPACK_IMPORTED_MODULE_6__["ViewStatuses"].STUDENT
                    && user.creators && user.creators.length
                    && user.creators[0].creator.subscribed && user.creators[0].creator.subscribed.length > 0) {
                    return user.creators[0].creator.subscribed[0].status;
                }
            }
            return null;
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].SEND_SUBSCRIBE_TO_TEACHER_SUCCESS:
            if (payload.id && payload.id.includes('sub_')) {
                return payload.status;
            }
            return state;
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].SEND_UNSUBSCRIBE_FROM_TEACHER_SUCCESS:
            return null;
        default:
            return state;
    }
};
var activeId = function (state, action) {
    if (state === void 0) { state = null; }
    switch (action.type) {
        case _students_actions__WEBPACK_IMPORTED_MODULE_2__["StudentsActionTypes"].STUDENTS_SET_ACTIVE:
            return action.payload;
        default:
            return state;
    }
};
var studentsReducers = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["combineReducers"])({
    status: status,
    entities: entities,
    ids: ids,
    activeId: activeId,
    errors: errors,
    subscriptionStatus: subscriptionStatus
});


/***/ }),

/***/ "./src/app/store/modules/students/students.schema.ts":
/*!***********************************************************!*\
  !*** ./src/app/store/modules/students/students.schema.ts ***!
  \***********************************************************/
/*! exports provided: studentsSchema */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "studentsSchema", function() { return studentsSchema; });
/* harmony import */ var normalizr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! normalizr */ "./node_modules/normalizr/dist/normalizr.es.js");

// Define a teachers schema
var studentsSchema = new normalizr__WEBPACK_IMPORTED_MODULE_0__["schema"].Entity('students');


/***/ }),

/***/ "./src/app/store/modules/students/students.selectors.ts":
/*!**************************************************************!*\
  !*** ./src/app/store/modules/students/students.selectors.ts ***!
  \**************************************************************/
/*! exports provided: selectStudentsState, selectStudents, selectStudentsActiveId, selectStudentsEntities, selectStudentsSubscriptionStatus, selectStudentsStatus, selectStudentsErrors */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectStudentsState", function() { return selectStudentsState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectStudents", function() { return selectStudents; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectStudentsActiveId", function() { return selectStudentsActiveId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectStudentsEntities", function() { return selectStudentsEntities; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectStudentsSubscriptionStatus", function() { return selectStudentsSubscriptionStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectStudentsStatus", function() { return selectStudentsStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectStudentsErrors", function() { return selectStudentsErrors; });
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _helpers_adapters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../helpers/adapters */ "./src/app/store/helpers/adapters.ts");


var selectStudentsState = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createFeatureSelector"])('students');
var selectStudents = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectStudentsState, _helpers_adapters__WEBPACK_IMPORTED_MODULE_1__["getAll"]);
var selectStudentsActiveId = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectStudentsState, function (state) { return state.activeId; });
var selectStudentsEntities = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectStudentsState, function (state) { return state.entities; });
var selectStudentsSubscriptionStatus = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectStudentsState, function (state) { return state.subscriptionStatus; });
var selectStudentsStatus = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectStudentsState, _helpers_adapters__WEBPACK_IMPORTED_MODULE_1__["getStatus"]);
var selectStudentsErrors = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectStudentsState, _helpers_adapters__WEBPACK_IMPORTED_MODULE_1__["getErrors"]);


/***/ }),

/***/ "./src/app/store/modules/teachers/teachers.actions.ts":
/*!************************************************************!*\
  !*** ./src/app/store/modules/teachers/teachers.actions.ts ***!
  \************************************************************/
/*! exports provided: TeachersActionTypes, GetTeachersListRequestAction, GetTeachersListSuccessAction, GetTeachersListFailureAction, GetCurrentTeacherRequestAction, GetCurrentTeacherSuccessAction, GetCurrentTeacherFailureAction, GetTeacherBySlugRequestAction, GetTeacherBySlugSuccessAction, GetTeacherBySlugFailureAction, TeachersSetActiveAction, UpdateTeacherRequestAction, UpdateTeacherSuccessAction, UpdateTeacherFailureAction, AddClassRequestAction, AddClassRequestProgressAction, AddClassSuccessAction, AddClassSuccessEnd, AddClassFailureAction, AddVideoToClassAction, GetStudentsListByTeacherRequestAction, GetStudentsListByTeacherSuccessAction, GetStudentsListByTeacherFailureAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TeachersActionTypes", function() { return TeachersActionTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetTeachersListRequestAction", function() { return GetTeachersListRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetTeachersListSuccessAction", function() { return GetTeachersListSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetTeachersListFailureAction", function() { return GetTeachersListFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetCurrentTeacherRequestAction", function() { return GetCurrentTeacherRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetCurrentTeacherSuccessAction", function() { return GetCurrentTeacherSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetCurrentTeacherFailureAction", function() { return GetCurrentTeacherFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetTeacherBySlugRequestAction", function() { return GetTeacherBySlugRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetTeacherBySlugSuccessAction", function() { return GetTeacherBySlugSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetTeacherBySlugFailureAction", function() { return GetTeacherBySlugFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TeachersSetActiveAction", function() { return TeachersSetActiveAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateTeacherRequestAction", function() { return UpdateTeacherRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateTeacherSuccessAction", function() { return UpdateTeacherSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateTeacherFailureAction", function() { return UpdateTeacherFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddClassRequestAction", function() { return AddClassRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddClassRequestProgressAction", function() { return AddClassRequestProgressAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddClassSuccessAction", function() { return AddClassSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddClassSuccessEnd", function() { return AddClassSuccessEnd; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddClassFailureAction", function() { return AddClassFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddVideoToClassAction", function() { return AddVideoToClassAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetStudentsListByTeacherRequestAction", function() { return GetStudentsListByTeacherRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetStudentsListByTeacherSuccessAction", function() { return GetStudentsListByTeacherSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetStudentsListByTeacherFailureAction", function() { return GetStudentsListByTeacherFailureAction; });
var TeachersActionTypes;
(function (TeachersActionTypes) {
    TeachersActionTypes["GET_TEACHERS_LIST_REQUEST"] = "[get teachers list] request";
    TeachersActionTypes["GET_TEACHERS_LIST_SUCCESS"] = "[get teachers list] success";
    TeachersActionTypes["GET_TEACHERS_LIST_FAILURE"] = "[get teachers list] failure";
    TeachersActionTypes["GET_CURRENT_TEACHER_REQUEST"] = "[get current teacher] request";
    TeachersActionTypes["GET_CURRENT_TEACHER_SUCCESS"] = "[get current teacher] success";
    TeachersActionTypes["GET_CURRENT_TEACHER_FAILURE"] = "[get current teacher] failure";
    TeachersActionTypes["GET_TEACHER_BY_SLUG_REQUEST"] = "[get teacher by slug] request";
    TeachersActionTypes["GET_TEACHER_BY_SLUG_SUCCESS"] = "[get teacher by slug] success";
    TeachersActionTypes["GET_TEACHER_BY_SLUG_FAILURE"] = "[get teacher by slug] failure";
    TeachersActionTypes["UPDATE_TEACHER_BY_SLUG_REQUEST"] = "[update teacher profile by slug] request";
    TeachersActionTypes["UPDATE_TEACHER_BY_SLUG_SUCCESS"] = "[update teacher profile by slug] success";
    TeachersActionTypes["UPDATE_TEACHER_BY_SLUG_FAILURE"] = "[update teacher profile by slug] failure";
    TeachersActionTypes["ADD_VIDEO_TO_CLASS_REQUEST"] = "[add video to class] request";
    TeachersActionTypes["ADD_VIDEO_TO_CLASS_SUCCESS"] = "[add video to class] success";
    TeachersActionTypes["ADD_VIDEO_TO_CLASS_FAILURE"] = "[add video to class] failure";
    TeachersActionTypes["ADD_TEACHER_CLASS_REQUEST"] = "[add teacher class] request";
    TeachersActionTypes["ADD_TEACHER_CLASS_PROGRESS_REQUEST"] = "[add teacher progressclass] request";
    TeachersActionTypes["ADD_TEACHER_CLASS_SUCCESS"] = "[add teacher class] success";
    TeachersActionTypes["ADD_TEACHER_CLASS_END_GETTING"] = "[add teacher class] getting";
    TeachersActionTypes["ADD_TEACHER_CLASS_FAILURE"] = "[add teacher class] failure";
    TeachersActionTypes["GET_STUDENTS_LIST_BY_TEACHER_REQUEST"] = "[get students list by teacher] request";
    TeachersActionTypes["GET_STUDENTS_LIST_BY_TEACHER_SUCCESS"] = "[get students list by teacher] success";
    TeachersActionTypes["GET_STUDENTS_LIST_BY_TEACHER_FAILURE"] = "[get students list by teacher] failure";
    TeachersActionTypes["TEACHERS_SET_ACTIVE"] = "[teachers set active] set active";
})(TeachersActionTypes || (TeachersActionTypes = {}));
// Get teachers list
var GetTeachersListRequestAction = /** @class */ (function () {
    function GetTeachersListRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = TeachersActionTypes.GET_TEACHERS_LIST_REQUEST;
    }
    GetTeachersListRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetTeachersListRequestAction;
}());

var GetTeachersListSuccessAction = /** @class */ (function () {
    function GetTeachersListSuccessAction(payload) {
        this.payload = payload;
        this.type = TeachersActionTypes.GET_TEACHERS_LIST_SUCCESS;
    }
    GetTeachersListSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetTeachersListSuccessAction;
}());

var GetTeachersListFailureAction = /** @class */ (function () {
    function GetTeachersListFailureAction(payload) {
        this.payload = payload;
        this.type = TeachersActionTypes.GET_TEACHERS_LIST_FAILURE;
    }
    GetTeachersListFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetTeachersListFailureAction;
}());

// Get current teacher
var GetCurrentTeacherRequestAction = /** @class */ (function () {
    function GetCurrentTeacherRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = TeachersActionTypes.GET_CURRENT_TEACHER_REQUEST;
    }
    GetCurrentTeacherRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetCurrentTeacherRequestAction;
}());

var GetCurrentTeacherSuccessAction = /** @class */ (function () {
    function GetCurrentTeacherSuccessAction(payload) {
        this.payload = payload;
        this.type = TeachersActionTypes.GET_CURRENT_TEACHER_SUCCESS;
    }
    GetCurrentTeacherSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetCurrentTeacherSuccessAction;
}());

var GetCurrentTeacherFailureAction = /** @class */ (function () {
    function GetCurrentTeacherFailureAction(payload) {
        this.payload = payload;
        this.type = TeachersActionTypes.GET_CURRENT_TEACHER_FAILURE;
    }
    GetCurrentTeacherFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetCurrentTeacherFailureAction;
}());

// Get teachers by slug
var GetTeacherBySlugRequestAction = /** @class */ (function () {
    function GetTeacherBySlugRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = TeachersActionTypes.GET_TEACHER_BY_SLUG_REQUEST;
    }
    GetTeacherBySlugRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetTeacherBySlugRequestAction;
}());

var GetTeacherBySlugSuccessAction = /** @class */ (function () {
    function GetTeacherBySlugSuccessAction(payload) {
        this.payload = payload;
        this.type = TeachersActionTypes.GET_TEACHER_BY_SLUG_SUCCESS;
    }
    GetTeacherBySlugSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetTeacherBySlugSuccessAction;
}());

var GetTeacherBySlugFailureAction = /** @class */ (function () {
    function GetTeacherBySlugFailureAction(payload) {
        this.payload = payload;
        this.type = TeachersActionTypes.GET_TEACHER_BY_SLUG_FAILURE;
    }
    GetTeacherBySlugFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetTeacherBySlugFailureAction;
}());

// Set teacher acvite
var TeachersSetActiveAction = /** @class */ (function () {
    function TeachersSetActiveAction(payload) {
        this.payload = payload;
        this.type = TeachersActionTypes.TEACHERS_SET_ACTIVE;
        // console.log('in set active action', payload);
    }
    TeachersSetActiveAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return TeachersSetActiveAction;
}());

// Update teachers
var UpdateTeacherRequestAction = /** @class */ (function () {
    function UpdateTeacherRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = TeachersActionTypes.UPDATE_TEACHER_BY_SLUG_REQUEST;
    }
    UpdateTeacherRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return UpdateTeacherRequestAction;
}());

var UpdateTeacherSuccessAction = /** @class */ (function () {
    function UpdateTeacherSuccessAction(payload) {
        this.payload = payload;
        this.type = TeachersActionTypes.UPDATE_TEACHER_BY_SLUG_SUCCESS;
    }
    UpdateTeacherSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return UpdateTeacherSuccessAction;
}());

var UpdateTeacherFailureAction = /** @class */ (function () {
    function UpdateTeacherFailureAction(payload) {
        this.payload = payload;
        this.type = TeachersActionTypes.UPDATE_TEACHER_BY_SLUG_FAILURE;
    }
    UpdateTeacherFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return UpdateTeacherFailureAction;
}());

// Add class
var AddClassRequestAction = /** @class */ (function () {
    function AddClassRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = TeachersActionTypes.ADD_TEACHER_CLASS_REQUEST;
    }
    AddClassRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return AddClassRequestAction;
}());

var AddClassRequestProgressAction = /** @class */ (function () {
    function AddClassRequestProgressAction(payload) {
        this.payload = payload;
        this.type = TeachersActionTypes.ADD_TEACHER_CLASS_PROGRESS_REQUEST;
    }
    AddClassRequestProgressAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return AddClassRequestProgressAction;
}());

var AddClassSuccessAction = /** @class */ (function () {
    function AddClassSuccessAction(payload) {
        this.payload = payload;
        this.type = TeachersActionTypes.ADD_TEACHER_CLASS_SUCCESS;
    }
    AddClassSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return AddClassSuccessAction;
}());

var AddClassSuccessEnd = /** @class */ (function () {
    function AddClassSuccessEnd(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = TeachersActionTypes.ADD_TEACHER_CLASS_END_GETTING;
    }
    AddClassSuccessEnd.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return AddClassSuccessEnd;
}());

var AddClassFailureAction = /** @class */ (function () {
    function AddClassFailureAction(payload) {
        this.payload = payload;
        this.type = TeachersActionTypes.ADD_TEACHER_CLASS_FAILURE;
    }
    AddClassFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return AddClassFailureAction;
}());

// Add video to class
var AddVideoToClassAction = /** @class */ (function () {
    function AddVideoToClassAction(payload) {
        this.payload = payload;
        this.type = TeachersActionTypes.ADD_VIDEO_TO_CLASS_REQUEST;
    }
    AddVideoToClassAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return AddVideoToClassAction;
}());

// Get students list by teacher
var GetStudentsListByTeacherRequestAction = /** @class */ (function () {
    function GetStudentsListByTeacherRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = TeachersActionTypes.GET_STUDENTS_LIST_BY_TEACHER_REQUEST;
    }
    GetStudentsListByTeacherRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetStudentsListByTeacherRequestAction;
}());

var GetStudentsListByTeacherSuccessAction = /** @class */ (function () {
    function GetStudentsListByTeacherSuccessAction(payload) {
        this.payload = payload;
        this.type = TeachersActionTypes.GET_STUDENTS_LIST_BY_TEACHER_SUCCESS;
    }
    GetStudentsListByTeacherSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetStudentsListByTeacherSuccessAction;
}());

var GetStudentsListByTeacherFailureAction = /** @class */ (function () {
    function GetStudentsListByTeacherFailureAction(payload) {
        this.payload = payload;
        this.type = TeachersActionTypes.GET_STUDENTS_LIST_BY_TEACHER_FAILURE;
    }
    GetStudentsListByTeacherFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetStudentsListByTeacherFailureAction;
}());



/***/ }),

/***/ "./src/app/store/modules/teachers/teachers.effects.ts":
/*!************************************************************!*\
  !*** ./src/app/store/modules/teachers/teachers.effects.ts ***!
  \************************************************************/
/*! exports provided: TeachersEffects */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TeachersEffects", function() { return TeachersEffects; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ngrx_effects__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngrx/effects */ "./node_modules/@ngrx/effects/fesm5/effects.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var normalizr__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! normalizr */ "./node_modules/normalizr/dist/normalizr.es.js");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _teachers_actions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./teachers.actions */ "./src/app/store/modules/teachers/teachers.actions.ts");
/* harmony import */ var _src_app_services_teacher_teacher_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @src/app/services/teacher/teacher.service */ "./src/app/services/teacher/teacher.service.ts");
/* harmony import */ var _teachers_schema__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./teachers.schema */ "./src/app/store/modules/teachers/teachers.schema.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var TeachersEffects = /** @class */ (function () {
    function TeachersEffects(actions$, router, teacherService, store) {
        var _this = this;
        this.actions$ = actions$;
        this.router = router;
        this.teacherService = teacherService;
        this.store = store;
        this.getTeachersList = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_teachers_actions__WEBPACK_IMPORTED_MODULE_7__["TeachersActionTypes"].GET_TEACHERS_LIST_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["exhaustMap"])(function () {
            return _this.teacherService.list().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (response) {
                return new _teachers_actions__WEBPACK_IMPORTED_MODULE_7__["GetTeachersListSuccessAction"](Object(normalizr__WEBPACK_IMPORTED_MODULE_5__["normalize"])(response, [_teachers_schema__WEBPACK_IMPORTED_MODULE_9__["teachersSchema"]]));
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(function (error) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(new _teachers_actions__WEBPACK_IMPORTED_MODULE_7__["GetTeachersListFailureAction"](error)); }));
        }));
        // Get current teacher
        this.getCurrentTeacher = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_teachers_actions__WEBPACK_IMPORTED_MODULE_7__["TeachersActionTypes"].GET_CURRENT_TEACHER_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["exhaustMap"])(function () {
            return _this.teacherService.getCurrentTeacher().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (response) {
                return new _teachers_actions__WEBPACK_IMPORTED_MODULE_7__["GetCurrentTeacherSuccessAction"](Object(normalizr__WEBPACK_IMPORTED_MODULE_5__["normalize"])([response], [_teachers_schema__WEBPACK_IMPORTED_MODULE_9__["teachersSchema"]]));
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(function (error) {
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(new _teachers_actions__WEBPACK_IMPORTED_MODULE_7__["GetCurrentTeacherFailureAction"](error));
            }));
        }));
        // Get teachers by slug
        this.getTeachersById = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_teachers_actions__WEBPACK_IMPORTED_MODULE_7__["TeachersActionTypes"].GET_TEACHER_BY_SLUG_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["exhaustMap"])(function (_a) {
            var _b = _a.payload, slug = _b.slug, isLoggedin = _b.isLoggedin;
            return _this.teacherService.getBySlug(slug).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (response) {
                return new _teachers_actions__WEBPACK_IMPORTED_MODULE_7__["GetTeacherBySlugSuccessAction"]({
                    response: response,
                    isLoggedin: isLoggedin,
                });
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(function (error) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(new _teachers_actions__WEBPACK_IMPORTED_MODULE_7__["GetTeacherBySlugFailureAction"](error)); }));
        }));
        // Update teachers by slug
        this.updateById = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_teachers_actions__WEBPACK_IMPORTED_MODULE_7__["TeachersActionTypes"].UPDATE_TEACHER_BY_SLUG_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["exhaustMap"])(function (_a) {
            var payload = _a.payload;
            return _this.teacherService.update(payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (response) {
                return new _teachers_actions__WEBPACK_IMPORTED_MODULE_7__["UpdateTeacherSuccessAction"]({ response: response });
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(function (error) {
                if (error.error.includes('https://connect.stripe.com')) {
                    window.location.href = error.error;
                }
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(new _teachers_actions__WEBPACK_IMPORTED_MODULE_7__["UpdateTeacherFailureAction"](error));
            }));
        }));
        // Add class
        // @Effect()
        // protected addClass = this.actions$.pipe(
        //     ofType<AddClassRequestAction>(
        //         TeachersActionTypes.ADD_TEACHER_CLASS_REQUEST
        //     ),
        //     exhaustMap(async ({payload}: any) =>
        //         this.teacherService.addClass(payload)
        //             .pipe(
        //                 map((response: any) => {
        //                     return new AddClassSuccessAction({response});
        //                 }),
        //                 catchError((error) => {
        //                     return of(new AddClassFailureAction(error));
        //                 })
        //             )
        //             .subscribe((ev) => {
        //                 if (ev.payload.response.loaded) {
        //                     this.store.dispatch(new AddClassRequestProgressAction(Math.round((100 * ev.payload.response.loaded) / ev.payload.response.total)));
        //                 } else if (ev.payload.response instanceof HttpResponse) {
        //                     this.store.dispatch(new AddClassSuccessAction('success'));
        //                 }
        //             })
        //     )
        // );
        // Add class
        this.addViedeoToClass = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_teachers_actions__WEBPACK_IMPORTED_MODULE_7__["TeachersActionTypes"].ADD_VIDEO_TO_CLASS_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["exhaustMap"])(function (payload) {
            return _this.teacherService.addViedeoToClass(payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (response) {
                console.log(response);
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(function (error) {
                //  if (error.error.includes("https://connect.stripe.com")) {
                //    window.location.href = error.error;
                //  }
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(console.log('123'));
            }));
        }));
        this.AddClassSuccessEnd = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_teachers_actions__WEBPACK_IMPORTED_MODULE_7__["TeachersActionTypes"].ADD_TEACHER_CLASS_END_GETTING));
        // Get students list by teacher
        this.getStudentsListByTeacher = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["ofType"])(_teachers_actions__WEBPACK_IMPORTED_MODULE_7__["TeachersActionTypes"].GET_STUDENTS_LIST_BY_TEACHER_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["exhaustMap"])(function () {
            return _this.teacherService.getStudentsListByTeacher().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (response) {
                return new _teachers_actions__WEBPACK_IMPORTED_MODULE_7__["GetStudentsListByTeacherSuccessAction"](response);
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(function (error) {
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(new _teachers_actions__WEBPACK_IMPORTED_MODULE_7__["GetStudentsListByTeacherFailureAction"](error));
            }));
        }));
    }
    TeachersEffects.ctorParameters = function () { return [
        { type: _ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Actions"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] },
        { type: _src_app_services_teacher_teacher_service__WEBPACK_IMPORTED_MODULE_8__["TeacherService"] },
        { type: _ngrx_store__WEBPACK_IMPORTED_MODULE_6__["Store"] }
    ]; };
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])(),
        __metadata("design:type", Object)
    ], TeachersEffects.prototype, "getTeachersList", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])(),
        __metadata("design:type", Object)
    ], TeachersEffects.prototype, "getCurrentTeacher", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])(),
        __metadata("design:type", Object)
    ], TeachersEffects.prototype, "getTeachersById", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])(),
        __metadata("design:type", Object)
    ], TeachersEffects.prototype, "updateById", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])(),
        __metadata("design:type", Object)
    ], TeachersEffects.prototype, "addViedeoToClass", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])({ dispatch: false }),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_4__["Observable"])
    ], TeachersEffects.prototype, "AddClassSuccessEnd", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])(),
        __metadata("design:type", Object)
    ], TeachersEffects.prototype, "getStudentsListByTeacher", void 0);
    TeachersEffects = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Actions"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _src_app_services_teacher_teacher_service__WEBPACK_IMPORTED_MODULE_8__["TeacherService"],
            _ngrx_store__WEBPACK_IMPORTED_MODULE_6__["Store"]])
    ], TeachersEffects);
    return TeachersEffects;
}());



/***/ }),

/***/ "./src/app/store/modules/teachers/teachers.reducers.ts":
/*!*************************************************************!*\
  !*** ./src/app/store/modules/teachers/teachers.reducers.ts ***!
  \*************************************************************/
/*! exports provided: teachersReducers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "teachersReducers", function() { return teachersReducers; });
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @src/app/services/api.service.interface */ "./src/app/services/api.service.interface.ts");
/* harmony import */ var _teachers_actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./teachers.actions */ "./src/app/store/modules/teachers/teachers.actions.ts");
/* harmony import */ var _src_app_store_modules_authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @src/app/store/modules/authentication/authentication.actions */ "./src/app/store/modules/authentication/authentication.actions.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};




var initialState_status = null;
var status = function (state, _a) {
    if (state === void 0) { state = initialState_status; }
    var type = _a.type;
    switch (type) {
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_TEACHERS_LIST_REQUEST:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_TEACHER_BY_SLUG_REQUEST:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].UPDATE_TEACHER_BY_SLUG_REQUEST:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].ADD_TEACHER_CLASS_REQUEST:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].ADD_TEACHER_CLASS_PROGRESS_REQUEST:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_STUDENTS_LIST_BY_TEACHER_REQUEST:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_CURRENT_TEACHER_REQUEST:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].ADD_VIDEO_TO_CLASS_REQUEST:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_1__["RequestStatus"].pending;
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_TEACHERS_LIST_SUCCESS:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_TEACHER_BY_SLUG_SUCCESS:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].UPDATE_TEACHER_BY_SLUG_SUCCESS:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].ADD_TEACHER_CLASS_SUCCESS:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_STUDENTS_LIST_BY_TEACHER_SUCCESS:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].ADD_TEACHER_CLASS_END_GETTING:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_CURRENT_TEACHER_SUCCESS:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_1__["RequestStatus"].success;
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_TEACHERS_LIST_FAILURE:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_TEACHER_BY_SLUG_FAILURE:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].UPDATE_TEACHER_BY_SLUG_FAILURE:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].ADD_TEACHER_CLASS_FAILURE:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_STUDENTS_LIST_BY_TEACHER_FAILURE:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_CURRENT_TEACHER_FAILURE:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_1__["RequestStatus"].failure;
        default:
            return state;
    }
};
var initialState_teacherState = {
    loggedinTeacher: null,
    currentTeacher: null,
    teachers: null,
};
var teacherState = function (state, _a) {
    if (state === void 0) { state = initialState_teacherState; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        /* LOGGED IN TEACHER ACTIONS */
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].UPDATE_TEACHER_BY_SLUG_SUCCESS:
            return __assign({}, state, { loggedinTeacher: payload.response, currentTeacher: payload.response });
        /* GET TEACHER BY SLUG, in general it is public */
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_TEACHER_BY_SLUG_SUCCESS:
            return __assign({}, state, { loggedinTeacher: payload.isLoggedin
                    ? payload.response
                    : state.loggedinTeacher, currentTeacher: payload.response });
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_TEACHER_BY_SLUG_REQUEST:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_TEACHER_BY_SLUG_FAILURE:
            return __assign({}, state, { currentTeacher: null });
        /* GET ALL THE TEACHERS */
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_TEACHERS_LIST_FAILURE:
            return __assign({}, state, { teachers: false });
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_TEACHERS_LIST_SUCCESS:
            return __assign({}, state, { teachers: Object.values(payload.entities.teachers) });
        case _src_app_store_modules_authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_3__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
            return initialState_teacherState;
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].ADD_TEACHER_CLASS_SUCCESS:
            return __assign({}, state, { addedNewClass: true });
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].ADD_TEACHER_CLASS_END_GETTING:
            return __assign({}, state, { addedNewClass: false });
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].ADD_TEACHER_CLASS_PROGRESS_REQUEST:
            return __assign({}, state, { progress: payload });
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].ADD_TEACHER_CLASS_FAILURE:
            return __assign({}, state, { uploadError: true, textErrorMessage: payload.message });
        default:
            return state;
    }
};
var initialState_entities = {};
var entities = function (state, _a) {
    if (state === void 0) { state = initialState_entities; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_TEACHERS_LIST_SUCCESS:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_TEACHER_BY_SLUG_SUCCESS:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].UPDATE_TEACHER_BY_SLUG_SUCCESS:
            return payload.response;
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_TEACHERS_LIST_REQUEST:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_TEACHER_BY_SLUG_REQUEST:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].UPDATE_TEACHER_BY_SLUG_REQUEST:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].ADD_TEACHER_CLASS_REQUEST:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].ADD_TEACHER_CLASS_PROGRESS_REQUEST:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].ADD_VIDEO_TO_CLASS_REQUEST:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_TEACHERS_LIST_FAILURE:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_TEACHER_BY_SLUG_FAILURE:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].UPDATE_TEACHER_BY_SLUG_FAILURE:
        case _src_app_store_modules_authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_3__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
            return initialState_entities;
        default:
            return state;
    }
};
var initialState_errors = null;
var errors = function (state, _a) {
    if (state === void 0) { state = initialState_errors; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_TEACHERS_LIST_REQUEST:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_TEACHER_BY_SLUG_REQUEST:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].UPDATE_TEACHER_BY_SLUG_REQUEST:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].ADD_TEACHER_CLASS_FAILURE:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_TEACHERS_LIST_SUCCESS:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_TEACHER_BY_SLUG_SUCCESS:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].UPDATE_TEACHER_BY_SLUG_SUCCESS:
            return initialState_errors;
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_TEACHERS_LIST_FAILURE:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].GET_TEACHER_BY_SLUG_FAILURE:
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].UPDATE_TEACHER_BY_SLUG_FAILURE:
            return payload.message;
        default:
            return state;
    }
};
var activeId = function (state, action) {
    if (state === void 0) { state = null; }
    switch (action.type) {
        case _teachers_actions__WEBPACK_IMPORTED_MODULE_2__["TeachersActionTypes"].TEACHERS_SET_ACTIVE:
            return action.payload;
        default:
            return state;
    }
};
var teachersReducers = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["combineReducers"])({
    status: status,
    entities: entities,
    // ids,
    activeId: activeId,
    errors: errors,
    teacherState: teacherState,
});


/***/ }),

/***/ "./src/app/store/modules/teachers/teachers.schema.ts":
/*!***********************************************************!*\
  !*** ./src/app/store/modules/teachers/teachers.schema.ts ***!
  \***********************************************************/
/*! exports provided: teachersSchema */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "teachersSchema", function() { return teachersSchema; });
/* harmony import */ var normalizr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! normalizr */ "./node_modules/normalizr/dist/normalizr.es.js");

// Define a teachers schema
var teachersSchema = new normalizr__WEBPACK_IMPORTED_MODULE_0__["schema"].Entity('teachers', {}, { idAttribute: 'slug' });


/***/ }),

/***/ "./src/app/store/modules/teachers/teachers.selectors.ts":
/*!**************************************************************!*\
  !*** ./src/app/store/modules/teachers/teachers.selectors.ts ***!
  \**************************************************************/
/*! exports provided: selectTeachersState, selectTeachers, selectTeachersActiveId, selectTeachersEntities, selectTeachersStatus, selectTeachersErrors, selectTeachersObject, selectTeachersActive */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectTeachersState", function() { return selectTeachersState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectTeachers", function() { return selectTeachers; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectTeachersActiveId", function() { return selectTeachersActiveId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectTeachersEntities", function() { return selectTeachersEntities; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectTeachersStatus", function() { return selectTeachersStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectTeachersErrors", function() { return selectTeachersErrors; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectTeachersObject", function() { return selectTeachersObject; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectTeachersActive", function() { return selectTeachersActive; });
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _helpers_adapters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../helpers/adapters */ "./src/app/store/helpers/adapters.ts");
/* harmony import */ var normalizr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! normalizr */ "./node_modules/normalizr/dist/normalizr.es.js");
/* harmony import */ var _src_app_store_modules_teachers_teachers_schema__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @src/app/store/modules/teachers/teachers.schema */ "./src/app/store/modules/teachers/teachers.schema.ts");




var selectTeachersState = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createFeatureSelector"])('teachers');
var selectTeachers = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectTeachersState, _helpers_adapters__WEBPACK_IMPORTED_MODULE_1__["getAll"]);
var selectTeachersActiveId = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectTeachersState, function (state) { return state.activeId; });
var selectTeachersEntities = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectTeachersState, function (state) { return state.entities; });
var selectTeachersStatus = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectTeachersState, _helpers_adapters__WEBPACK_IMPORTED_MODULE_1__["getStatus"]);
var selectTeachersErrors = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectTeachersState, _helpers_adapters__WEBPACK_IMPORTED_MODULE_1__["getErrors"]);
var selectTeachersObject = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectTeachersState, function (state) {
    return state.teacherState;
});
// active teacher
var selectTeachersActive = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])([selectTeachersActiveId, selectTeachersEntities], function (activeId, entities) {
    return Object(normalizr__WEBPACK_IMPORTED_MODULE_2__["denormalize"])(activeId, _src_app_store_modules_teachers_teachers_schema__WEBPACK_IMPORTED_MODULE_3__["teachersSchema"], { teachers: entities });
});


/***/ }),

/***/ "./src/app/store/modules/user/user.actions.ts":
/*!****************************************************!*\
  !*** ./src/app/store/modules/user/user.actions.ts ***!
  \****************************************************/
/*! exports provided: UserActionTypes, GetCurrentUserRequestAction, CheckUserToken, GetCurrentUserSuccessAction, GetCurrentUserFailureAction, SwitchUserViewStatusRequestAction, SwitchUserViewStatusSuccessAction, SwitchUserViewStatusFailureAction, UpdateCurrentUserRequestAction, UpdateCurrentUserSuccessAction, UpdateCurrentUserFailureAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserActionTypes", function() { return UserActionTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetCurrentUserRequestAction", function() { return GetCurrentUserRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CheckUserToken", function() { return CheckUserToken; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetCurrentUserSuccessAction", function() { return GetCurrentUserSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetCurrentUserFailureAction", function() { return GetCurrentUserFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SwitchUserViewStatusRequestAction", function() { return SwitchUserViewStatusRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SwitchUserViewStatusSuccessAction", function() { return SwitchUserViewStatusSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SwitchUserViewStatusFailureAction", function() { return SwitchUserViewStatusFailureAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateCurrentUserRequestAction", function() { return UpdateCurrentUserRequestAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateCurrentUserSuccessAction", function() { return UpdateCurrentUserSuccessAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateCurrentUserFailureAction", function() { return UpdateCurrentUserFailureAction; });
var UserActionTypes;
(function (UserActionTypes) {
    UserActionTypes["GET_CURRENT_USER_REQUEST"] = "[get current user] request";
    UserActionTypes["GET_CURRENT_USER_SUCCESS"] = "[get current user] success";
    UserActionTypes["GET_CURRENT_USER_FAILURE"] = "[get current user] failure";
    UserActionTypes["SWITCH_USER_VIEW_STATUS_REQUEST"] = "[switch user view status] request";
    UserActionTypes["SWITCH_USER_VIEW_STATUS_SUCCESS"] = "[switch user view status] success";
    UserActionTypes["SWITCH_USER_VIEW_STATUS_FAILURE"] = "[switch user view status] failure";
    UserActionTypes["UPDATE_CURRENT_USER_REQUEST"] = "[update current user] request";
    UserActionTypes["UPDATE_CURRENT_USER_SUCCESS"] = "[update current user] success";
    UserActionTypes["UPDATE_CURRENT_USER_FAILURE"] = "[update current user] failure";
    UserActionTypes["CHECK_USER"] = "[check user]";
})(UserActionTypes || (UserActionTypes = {}));
// Get current user by access token
var GetCurrentUserRequestAction = /** @class */ (function () {
    function GetCurrentUserRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = UserActionTypes.GET_CURRENT_USER_REQUEST;
    }
    GetCurrentUserRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetCurrentUserRequestAction;
}());

var CheckUserToken = /** @class */ (function () {
    function CheckUserToken(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = UserActionTypes.CHECK_USER;
    }
    CheckUserToken.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return CheckUserToken;
}());

var GetCurrentUserSuccessAction = /** @class */ (function () {
    function GetCurrentUserSuccessAction(payload) {
        this.payload = payload;
        this.type = UserActionTypes.GET_CURRENT_USER_SUCCESS;
    }
    GetCurrentUserSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetCurrentUserSuccessAction;
}());

var GetCurrentUserFailureAction = /** @class */ (function () {
    function GetCurrentUserFailureAction(payload) {
        this.payload = payload;
        this.type = UserActionTypes.GET_CURRENT_USER_FAILURE;
    }
    GetCurrentUserFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return GetCurrentUserFailureAction;
}());

// Switch user view status - Student / Creator
var SwitchUserViewStatusRequestAction = /** @class */ (function () {
    function SwitchUserViewStatusRequestAction(payload) {
        if (payload === void 0) { payload = null; }
        this.payload = payload;
        this.type = UserActionTypes.SWITCH_USER_VIEW_STATUS_REQUEST;
    }
    SwitchUserViewStatusRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return SwitchUserViewStatusRequestAction;
}());

var SwitchUserViewStatusSuccessAction = /** @class */ (function () {
    function SwitchUserViewStatusSuccessAction(payload) {
        this.payload = payload;
        this.type = UserActionTypes.SWITCH_USER_VIEW_STATUS_SUCCESS;
    }
    SwitchUserViewStatusSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return SwitchUserViewStatusSuccessAction;
}());

var SwitchUserViewStatusFailureAction = /** @class */ (function () {
    function SwitchUserViewStatusFailureAction(payload) {
        this.payload = payload;
        this.type = UserActionTypes.SWITCH_USER_VIEW_STATUS_FAILURE;
    }
    SwitchUserViewStatusFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return SwitchUserViewStatusFailureAction;
}());

// Update current user account
var UpdateCurrentUserRequestAction = /** @class */ (function () {
    function UpdateCurrentUserRequestAction(payload) {
        this.payload = payload;
        this.type = UserActionTypes.UPDATE_CURRENT_USER_REQUEST;
    }
    UpdateCurrentUserRequestAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return UpdateCurrentUserRequestAction;
}());

var UpdateCurrentUserSuccessAction = /** @class */ (function () {
    function UpdateCurrentUserSuccessAction(payload) {
        this.payload = payload;
        this.type = UserActionTypes.UPDATE_CURRENT_USER_SUCCESS;
    }
    UpdateCurrentUserSuccessAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return UpdateCurrentUserSuccessAction;
}());

var UpdateCurrentUserFailureAction = /** @class */ (function () {
    function UpdateCurrentUserFailureAction(payload) {
        this.payload = payload;
        this.type = UserActionTypes.UPDATE_CURRENT_USER_FAILURE;
    }
    UpdateCurrentUserFailureAction.ctorParameters = function () { return [
        { type: undefined }
    ]; };
    return UpdateCurrentUserFailureAction;
}());



/***/ }),

/***/ "./src/app/store/modules/user/user.effects.ts":
/*!****************************************************!*\
  !*** ./src/app/store/modules/user/user.effects.ts ***!
  \****************************************************/
/*! exports provided: UserEffects */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserEffects", function() { return UserEffects; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngrx_effects__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngrx/effects */ "./node_modules/@ngrx/effects/fesm5/effects.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var normalizr__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! normalizr */ "./node_modules/normalizr/dist/normalizr.es.js");
/* harmony import */ var _src_app_services_user_user_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @src/app/services/user/user.service */ "./src/app/services/user/user.service.ts");
/* harmony import */ var _user_actions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./user.actions */ "./src/app/store/modules/user/user.actions.ts");
/* harmony import */ var _authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../authentication/authentication.actions */ "./src/app/store/modules/authentication/authentication.actions.ts");
/* harmony import */ var _src_app_store_modules_user_user_schema__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @src/app/store/modules/user/user.schema */ "./src/app/store/modules/user/user.schema.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _src_app_helpers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @src/app/helpers */ "./src/app/helpers/index.ts");
/* harmony import */ var _src_app_services_utils_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @src/app/services/utils.service */ "./src/app/services/utils.service.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};












var UserEffects = /** @class */ (function () {
    function UserEffects(actions$, userService, router, utils) {
        var _this = this;
        this.actions$ = actions$;
        this.userService = userService;
        this.router = router;
        this.utils = utils;
        // Get current user by jwt token
        this.getCurrentUser = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_user_actions__WEBPACK_IMPORTED_MODULE_6__["UserActionTypes"].GET_CURRENT_USER_REQUEST, _authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_7__["AuthenticationActionTypes"].AUTHENTICATION_BASIC_SUCCESS), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["exhaustMap"])(function () {
            return _this.userService.current().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(function (response) {
                return new _user_actions__WEBPACK_IMPORTED_MODULE_6__["GetCurrentUserSuccessAction"](Object(normalizr__WEBPACK_IMPORTED_MODULE_4__["normalize"])(response, _src_app_store_modules_user_user_schema__WEBPACK_IMPORTED_MODULE_8__["userSchema"]));
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["catchError"])(function (response) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(new _user_actions__WEBPACK_IMPORTED_MODULE_6__["GetCurrentUserFailureAction"](response)); }));
        }));
        // @Effect({ dispatch: false })
        // protected checkToken = this.actions$.pipe(
        //   ofType(UserActionTypes.CHECK_USER, AuthenticationActionTypes.AUTHENTICATION_BASIC_SUCCESS),
        //   exhaustMap(() =>
        //   this.userService.checkToken().pipe(
        //     map((response: any) => {
        //       return console.info('token is valid');
        //     }),
        //     catchError(response => of(console.info('token is not valid')
        //     ))
        //   )
        //   )
        // );
        // Switch user view status - student / creator
        this.switchUserViewStatus = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_user_actions__WEBPACK_IMPORTED_MODULE_6__["UserActionTypes"].SWITCH_USER_VIEW_STATUS_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["exhaustMap"])(function (payload) {
            var user = payload.payload;
            return _this.userService.switchUserViewStatus(user)
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(function (res) {
                var isOnboardingComplete = _this.userService.doUserOnboardingChecks(user, window.location.pathname);
                var isAllowedOnRoute = _this.userService.doUserStatusChecks(user);
                var goTo = !isOnboardingComplete.canActivate ? isOnboardingComplete.goTo :
                    !isAllowedOnRoute.canActivate ? isAllowedOnRoute.goTo :
                        // false; // if the user is allowed on the route, don't go anywhere.. (...the menu doesn't close)
                        ['/']; // whether the user is allowed on the current route or not, still go to the homepage (which will also close the menu)
                // this.log(goTo);
                if (goTo) {
                    _this.router.navigate(goTo, {
                        state: {
                            data: {
                                message: !isOnboardingComplete.canActivate ? _src_app_helpers__WEBPACK_IMPORTED_MODULE_10__["redirectMessage"] : ''
                            }
                        }
                    });
                }
                return new _user_actions__WEBPACK_IMPORTED_MODULE_6__["SwitchUserViewStatusSuccessAction"]({ user: user });
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["catchError"])(function (error) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(new _user_actions__WEBPACK_IMPORTED_MODULE_6__["SwitchUserViewStatusFailureAction"](error)); }));
        }));
        // Update current user
        this.updateUser = this.actions$.pipe(Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["ofType"])(_user_actions__WEBPACK_IMPORTED_MODULE_6__["UserActionTypes"].UPDATE_CURRENT_USER_REQUEST), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["exhaustMap"])(function (_a) {
            var payload = _a.payload;
            return _this.userService.updateCurrentUser(payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(function (response) {
                var subjectUpdated = 'account details';
                if (payload.password) {
                    subjectUpdated = 'password';
                }
                return new _user_actions__WEBPACK_IMPORTED_MODULE_6__["UpdateCurrentUserSuccessAction"](__assign({}, response, { subjectUpdated: subjectUpdated }));
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["catchError"])(function (error) { return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(new _user_actions__WEBPACK_IMPORTED_MODULE_6__["UpdateCurrentUserFailureAction"](error)); }));
        }));
    }
    UserEffects.prototype.log = function (text) {
        var _a;
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        (_a = this.utils).log.apply(_a, __spread([text, this.constructor.name], args));
    };
    UserEffects.ctorParameters = function () { return [
        { type: _ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Actions"] },
        { type: _src_app_services_user_user_service__WEBPACK_IMPORTED_MODULE_5__["UserService"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_9__["Router"] },
        { type: _src_app_services_utils_service__WEBPACK_IMPORTED_MODULE_11__["UtilsService"] }
    ]; };
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])(),
        __metadata("design:type", Object)
    ], UserEffects.prototype, "getCurrentUser", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])(),
        __metadata("design:type", Object)
    ], UserEffects.prototype, "switchUserViewStatus", void 0);
    __decorate([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Effect"])(),
        __metadata("design:type", Object)
    ], UserEffects.prototype, "updateUser", void 0);
    UserEffects = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_ngrx_effects__WEBPACK_IMPORTED_MODULE_1__["Actions"],
            _src_app_services_user_user_service__WEBPACK_IMPORTED_MODULE_5__["UserService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_9__["Router"],
            _src_app_services_utils_service__WEBPACK_IMPORTED_MODULE_11__["UtilsService"]])
    ], UserEffects);
    return UserEffects;
}());



/***/ }),

/***/ "./src/app/store/modules/user/user.reducers.ts":
/*!*****************************************************!*\
  !*** ./src/app/store/modules/user/user.reducers.ts ***!
  \*****************************************************/
/*! exports provided: userReducers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "userReducers", function() { return userReducers; });
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _user_actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./user.actions */ "./src/app/store/modules/user/user.actions.ts");
/* harmony import */ var _authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../authentication/authentication.actions */ "./src/app/store/modules/authentication/authentication.actions.ts");
/* harmony import */ var _sign_up_sign_up_actions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../sign-up/sign-up.actions */ "./src/app/store/modules/sign-up/sign-up.actions.ts");
/* harmony import */ var _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @src/app/services/api.service.interface */ "./src/app/services/api.service.interface.ts");
/* harmony import */ var _src_app_store_helpers_reducer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @src/app/store/helpers/reducer */ "./src/app/store/helpers/reducer.ts");
/* harmony import */ var _onboarding_onboarding_actions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../onboarding/onboarding.actions */ "./src/app/store/modules/onboarding/onboarding.actions.ts");
/* harmony import */ var _teachers_teachers_actions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../teachers/teachers.actions */ "./src/app/store/modules/teachers/teachers.actions.ts");
/* harmony import */ var _students_students_actions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../students/students.actions */ "./src/app/store/modules/students/students.actions.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};









var initialState_status = null;
var status = function (state, _a) {
    if (state === void 0) { state = initialState_status; }
    var type = _a.type;
    switch (type) {
        case _user_actions__WEBPACK_IMPORTED_MODULE_1__["UserActionTypes"].GET_CURRENT_USER_REQUEST:
        case _user_actions__WEBPACK_IMPORTED_MODULE_1__["UserActionTypes"].CHECK_USER:
        case _user_actions__WEBPACK_IMPORTED_MODULE_1__["UserActionTypes"].UPDATE_CURRENT_USER_REQUEST:
        case _user_actions__WEBPACK_IMPORTED_MODULE_1__["UserActionTypes"].SWITCH_USER_VIEW_STATUS_REQUEST:
        case _sign_up_sign_up_actions__WEBPACK_IMPORTED_MODULE_3__["SignUpActionTypes"].SIGN_UP_REQUEST:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_4__["RequestStatus"].pending;
        case _user_actions__WEBPACK_IMPORTED_MODULE_1__["UserActionTypes"].GET_CURRENT_USER_SUCCESS:
        case _user_actions__WEBPACK_IMPORTED_MODULE_1__["UserActionTypes"].UPDATE_CURRENT_USER_SUCCESS:
        case _user_actions__WEBPACK_IMPORTED_MODULE_1__["UserActionTypes"].SWITCH_USER_VIEW_STATUS_SUCCESS:
        case _sign_up_sign_up_actions__WEBPACK_IMPORTED_MODULE_3__["SignUpActionTypes"].SIGN_UP_SUCCESS:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_4__["RequestStatus"].success;
        case _user_actions__WEBPACK_IMPORTED_MODULE_1__["UserActionTypes"].GET_CURRENT_USER_FAILURE:
        case _user_actions__WEBPACK_IMPORTED_MODULE_1__["UserActionTypes"].UPDATE_CURRENT_USER_FAILURE:
        case _user_actions__WEBPACK_IMPORTED_MODULE_1__["UserActionTypes"].SWITCH_USER_VIEW_STATUS_FAILURE:
        case _sign_up_sign_up_actions__WEBPACK_IMPORTED_MODULE_3__["SignUpActionTypes"].SIGN_UP_FAILURE:
            return _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_4__["RequestStatus"].failure;
        case _authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_2__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
            return initialState_status;
        default:
            return state;
    }
};
var initialState_entities = {};
var entities = function (state, _a) {
    var _b, _c, _d, _e;
    if (state === void 0) { state = initialState_entities; }
    var type = _a.type, payload = _a.payload;
    var userId, userObj, creator;
    switch (type) {
        case _sign_up_sign_up_actions__WEBPACK_IMPORTED_MODULE_3__["SignUpActionTypes"].SIGN_UP_REQUEST:
            return initialState_entities;
        case _user_actions__WEBPACK_IMPORTED_MODULE_1__["UserActionTypes"].GET_CURRENT_USER_SUCCESS:
            return payload.entities.users;
        case _students_students_actions__WEBPACK_IMPORTED_MODULE_8__["StudentsActionTypes"].SEND_UNSUBSCRIBE_FROM_TEACHER_SUCCESS:
            // console.log('unsubscribed');
            // console.log(payload);
            return state;
        case _sign_up_sign_up_actions__WEBPACK_IMPORTED_MODULE_3__["SignUpActionTypes"].SIGN_UP_SUCCESS:
            return __assign({}, state, (_b = {}, _b[payload.user.id] = payload.user, _b));
        case _students_students_actions__WEBPACK_IMPORTED_MODULE_8__["StudentsActionTypes"].SEND_CONNECT_TO_TEACHER_SUCCESS:
            // console.log('user reducer!', payload, state);
            if (state[payload.student]) {
                // console.log({
                //   ...state,
                //   [payload.student]: {
                //     ...state[payload.student],
                //     creators: [payload.creator]
                //   }
                // });
                return __assign({}, state, (_c = {}, _c[payload.student] = __assign({}, state[payload.student], { creators: [
                        payload.creator
                    ] }), _c));
            }
            return state;
        case _onboarding_onboarding_actions__WEBPACK_IMPORTED_MODULE_6__["OnboardingActionTypes"].ONBOARDING_TEACHER_STEP_ONE_SUCCESS:
            // console.log(payload);
            userId = Object.keys(state)[0];
            return _d = {},
                _d[userId] = __assign({}, state[userId], { creator: payload }),
                _d;
        case _user_actions__WEBPACK_IMPORTED_MODULE_1__["UserActionTypes"].GET_CURRENT_USER_FAILURE:
        case _sign_up_sign_up_actions__WEBPACK_IMPORTED_MODULE_3__["SignUpActionTypes"].SIGN_UP_FAILURE:
            return initialState_entities;
        case _user_actions__WEBPACK_IMPORTED_MODULE_1__["UserActionTypes"].SWITCH_USER_VIEW_STATUS_SUCCESS:
            return Object(_src_app_store_helpers_reducer__WEBPACK_IMPORTED_MODULE_5__["updateEntityById"])(state, payload.user.id, function (entity) {
                return __assign({}, entity, { view_status: payload.user.view_status });
            });
        case _user_actions__WEBPACK_IMPORTED_MODULE_1__["UserActionTypes"].UPDATE_CURRENT_USER_SUCCESS:
            // console.log(payload);
            userObj = __assign({}, payload);
            if (userObj.subjectUpdated) {
                delete userObj.subjectUpdated;
            }
            // console.log(payload);
            return Object(_src_app_store_helpers_reducer__WEBPACK_IMPORTED_MODULE_5__["updateEntityById"])(state, payload.id, function (entity) {
                return __assign({}, entity, userObj);
            });
        case _teachers_teachers_actions__WEBPACK_IMPORTED_MODULE_7__["TeachersActionTypes"].UPDATE_TEACHER_BY_SLUG_SUCCESS:
            creator = payload.response;
            if (state[creator.user]) {
                return __assign({}, state, (_e = {}, _e[creator.user] = __assign({}, state[creator.user], { creator: __assign({}, state[creator.user].creator, creator) }), _e));
            }
            return state;
        case _authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_2__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
            return initialState_entities;
        default:
            return state;
    }
};
var initialState_ids = [];
var ids = function (state, _a) {
    if (state === void 0) { state = initialState_ids; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _user_actions__WEBPACK_IMPORTED_MODULE_1__["UserActionTypes"].GET_CURRENT_USER_REQUEST:
        case _user_actions__WEBPACK_IMPORTED_MODULE_1__["UserActionTypes"].CHECK_USER:
        case _sign_up_sign_up_actions__WEBPACK_IMPORTED_MODULE_3__["SignUpActionTypes"].SIGN_UP_REQUEST:
            return initialState_ids;
        case _user_actions__WEBPACK_IMPORTED_MODULE_1__["UserActionTypes"].GET_CURRENT_USER_SUCCESS:
            return payload.result;
        case _sign_up_sign_up_actions__WEBPACK_IMPORTED_MODULE_3__["SignUpActionTypes"].SIGN_UP_SUCCESS:
            return __spread(state, payload.user.id);
        case _user_actions__WEBPACK_IMPORTED_MODULE_1__["UserActionTypes"].GET_CURRENT_USER_FAILURE:
        case _sign_up_sign_up_actions__WEBPACK_IMPORTED_MODULE_3__["SignUpActionTypes"].SIGN_UP_FAILURE:
            return initialState_ids;
        case _authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_2__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
            return initialState_ids;
        default:
            return state;
    }
};
var initialState_errors = null;
var errors = function (state, _a) {
    if (state === void 0) { state = initialState_errors; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _user_actions__WEBPACK_IMPORTED_MODULE_1__["UserActionTypes"].GET_CURRENT_USER_REQUEST:
        case _user_actions__WEBPACK_IMPORTED_MODULE_1__["UserActionTypes"].CHECK_USER:
        case _sign_up_sign_up_actions__WEBPACK_IMPORTED_MODULE_3__["SignUpActionTypes"].SIGN_UP_REQUEST:
        case _user_actions__WEBPACK_IMPORTED_MODULE_1__["UserActionTypes"].UPDATE_CURRENT_USER_REQUEST:
            return initialState_errors;
        case _user_actions__WEBPACK_IMPORTED_MODULE_1__["UserActionTypes"].GET_CURRENT_USER_SUCCESS:
        case _sign_up_sign_up_actions__WEBPACK_IMPORTED_MODULE_3__["SignUpActionTypes"].SIGN_UP_SUCCESS:
        case _user_actions__WEBPACK_IMPORTED_MODULE_1__["UserActionTypes"].UPDATE_CURRENT_USER_SUCCESS:
            return initialState_errors;
        case _user_actions__WEBPACK_IMPORTED_MODULE_1__["UserActionTypes"].GET_CURRENT_USER_FAILURE:
        case _sign_up_sign_up_actions__WEBPACK_IMPORTED_MODULE_3__["SignUpActionTypes"].SIGN_UP_FAILURE:
        case _user_actions__WEBPACK_IMPORTED_MODULE_1__["UserActionTypes"].UPDATE_CURRENT_USER_FAILURE:
            return payload.message;
        case _authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_2__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
            return initialState_errors;
        default:
            return state;
    }
};
var initialState_activeId = null;
var activeId = function (state, _a) {
    if (state === void 0) { state = initialState_activeId; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case _user_actions__WEBPACK_IMPORTED_MODULE_1__["UserActionTypes"].GET_CURRENT_USER_SUCCESS:
            return payload.result;
        case _sign_up_sign_up_actions__WEBPACK_IMPORTED_MODULE_3__["SignUpActionTypes"].SIGN_UP_SUCCESS:
            return payload.user.id;
        case _authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_2__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
            return initialState_activeId;
        default:
            return state;
    }
};
var initialState_message = null;
var message = function (state, _a) {
    if (state === void 0) { state = initialState_message; }
    var type = _a.type, payload = _a.payload;
    var messageSubject, verb;
    switch (type) {
        case _user_actions__WEBPACK_IMPORTED_MODULE_1__["UserActionTypes"].UPDATE_CURRENT_USER_SUCCESS:
            messageSubject = payload.subjectUpdated ? payload.subjectUpdated : 'account';
            verb = payload.subjectUpdated === 'account details' ? 'have' : 'has';
            return __assign({}, state, { message: "Your " + messageSubject + " " + verb + " been successfully updated" });
        case _authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_2__["AuthenticationActionTypes"].LOGOUT_SUCCESS:
            return initialState_message;
        default:
            return initialState_message;
    }
};
var userReducers = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["combineReducers"])({
    status: status,
    entities: entities,
    ids: ids,
    activeId: activeId,
    errors: errors,
    message: message
});


/***/ }),

/***/ "./src/app/store/modules/user/user.schema.ts":
/*!***************************************************!*\
  !*** ./src/app/store/modules/user/user.schema.ts ***!
  \***************************************************/
/*! exports provided: userSchema */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "userSchema", function() { return userSchema; });
/* harmony import */ var normalizr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! normalizr */ "./node_modules/normalizr/dist/normalizr.es.js");

var userSchema = new normalizr__WEBPACK_IMPORTED_MODULE_0__["schema"].Entity('users');


/***/ }),

/***/ "./src/app/store/modules/user/user.selectors.ts":
/*!******************************************************!*\
  !*** ./src/app/store/modules/user/user.selectors.ts ***!
  \******************************************************/
/*! exports provided: selectUserState, selectUserEntities, selectUserActiveId, selectUserStatus, selectUserErrors, selectUserMessages, selectUserTeachers, selectUserActive */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectUserState", function() { return selectUserState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectUserEntities", function() { return selectUserEntities; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectUserActiveId", function() { return selectUserActiveId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectUserStatus", function() { return selectUserStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectUserErrors", function() { return selectUserErrors; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectUserMessages", function() { return selectUserMessages; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectUserTeachers", function() { return selectUserTeachers; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectUserActive", function() { return selectUserActive; });
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _helpers_adapters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../helpers/adapters */ "./src/app/store/helpers/adapters.ts");
/* harmony import */ var _src_app_store_modules_user_user_schema__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @src/app/store/modules/user/user.schema */ "./src/app/store/modules/user/user.schema.ts");
/* harmony import */ var normalizr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! normalizr */ "./node_modules/normalizr/dist/normalizr.es.js");
/* harmony import */ var _src_app_store_modules_notification_notification_selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @src/app/store/modules/notification/notification.selectors */ "./src/app/store/modules/notification/notification.selectors.ts");
/* harmony import */ var _src_app_store_modules_teachers_teachers_selectors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @src/app/store/modules/teachers/teachers.selectors */ "./src/app/store/modules/teachers/teachers.selectors.ts");






var selectUserState = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createFeatureSelector"])('users');
var selectUserEntities = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectUserState, _helpers_adapters__WEBPACK_IMPORTED_MODULE_1__["getEntities"]);
var selectUserActiveId = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectUserState, _helpers_adapters__WEBPACK_IMPORTED_MODULE_1__["getActiveId"]);
var selectUserStatus = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectUserState, _helpers_adapters__WEBPACK_IMPORTED_MODULE_1__["getStatus"]);
var selectUserErrors = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectUserState, _helpers_adapters__WEBPACK_IMPORTED_MODULE_1__["getErrors"]);
var selectUserMessages = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectUserState, function (state) {
    return state.message;
});
var selectUserTeachers = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(selectUserEntities, function (state) { return state.activeId; });
// active user
var selectUserActive = Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__["createSelector"])([selectUserActiveId, selectUserEntities, _src_app_store_modules_notification_notification_selectors__WEBPACK_IMPORTED_MODULE_4__["selectNotificationEntities"], _src_app_store_modules_teachers_teachers_selectors__WEBPACK_IMPORTED_MODULE_5__["selectTeachersEntities"]], function (activeId, entities, notifications, teachers) { return Object(normalizr__WEBPACK_IMPORTED_MODULE_3__["denormalize"])(activeId, _src_app_store_modules_user_user_schema__WEBPACK_IMPORTED_MODULE_2__["userSchema"], { users: entities, notifications: notifications, teachers: teachers }); });


/***/ }),

/***/ "./src/app/store/modules/user/user.types.ts":
/*!**************************************************!*\
  !*** ./src/app/store/modules/user/user.types.ts ***!
  \**************************************************/
/*! exports provided: ViewStatuses */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewStatuses", function() { return ViewStatuses; });
var ViewStatuses;
(function (ViewStatuses) {
    ViewStatuses["STUDENT"] = "student";
    ViewStatuses["TEACHER"] = "creator";
})(ViewStatuses || (ViewStatuses = {}));


/***/ }),

/***/ "./src/app/theme/desktop/layouts/default/footer/footer-default.component.scss":
/*!************************************************************************************!*\
  !*** ./src/app/theme/desktop/layouts/default/footer/footer-default.component.scss ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "@import url(\"https://fonts.googleapis.com/icon?family=Material+Icons\");\n:host {\n  padding: 0;\n  width: 100%;\n  height: 60px;\n  display: flex;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  z-index: 300; }\n.footer {\n  width: 100%;\n  display: flex;\n  border-top: 1px solid #f4eee5;\n  background-color: #fff; }\n.footer-inner {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center; }\n.footer-inner a {\n    width: 25%;\n    height: 100%;\n    text-align: center; }\n.footer-inner span {\n    display: block;\n    margin-top: 6px;\n    margin-bottom: 3px; }\n.mat-list-base .mat-list-item {\n  height: initial; }\n.mat-nav-list a {\n  font-size: 12px; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9raHJlYnRvdi9Qcm9qZWN0cy9qb3VybmV5aW50by1mcm9udGVuZC9zcmMvYXBwL3RoZW1lL2NvbW1vbi9zdHlsZXMuY29tbW9uLnNjc3MiLCIvVXNlcnMva2hyZWJ0b3YvUHJvamVjdHMvam91cm5leWludG8tZnJvbnRlbmQvc3JjL2FwcC90aGVtZS9kZXNrdG9wL2xheW91dHMvZGVmYXVsdC9mb290ZXIvZm9vdGVyLWRlZmF1bHQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0Esc0VBQVk7QUNEWjtFQUNFLFVBQVU7RUFDVixXQUFXO0VBQ1gsWUFBWTtFQUNaLGFBQWE7RUFFYixlQUFlO0VBQ2YsU0FBUztFQUNULE9BQU87RUFDUCxZQUFZLEVBQUE7QUFHZDtFQUNFLFdBQVc7RUFDWCxhQUFhO0VBRWIsNkJEQ1c7RUNBWCxzQkRaVyxFQUFBO0FDZWI7RUFDRSxXQUFXO0VBQ1gsYUFBYTtFQUNiLDhCQUE4QjtFQUM5QixtQkFBbUIsRUFBQTtBQUpyQjtJQU9JLFVBQVU7SUFDVixZQUFZO0lBQ1osa0JBQWtCLEVBQUE7QUFUdEI7SUFhSSxjQUFjO0lBQ2QsZUFBZTtJQUNmLGtCQUFrQixFQUFBO0FBSXRCO0VBQ0UsZUFBZSxFQUFBO0FBR2pCO0VBQ0UsZUFBZSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvdGhlbWUvZGVza3RvcC9sYXlvdXRzL2RlZmF1bHQvZm9vdGVyL2Zvb3Rlci1kZWZhdWx0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gSW5jbHVkZSB0aGUgY29tbW9uIHN0eWxlcyBmb3IgQW5ndWxhciBNYXRlcmlhbC4gV2UgaW5jbHVkZSB0aGlzIGhlcmUgc28gdGhhdCB5b3Ugb25seVxuLy8gaGF2ZSB0byBsb2FkIGEgc2luZ2xlIGNzcyBmaWxlIGZvciBBbmd1bGFyIE1hdGVyaWFsIGluIHlvdXIgYXBwLlxuLy8gKipCZSBzdXJlIHRoYXQgeW91IG9ubHkgZXZlciBpbmNsdWRlIHRoaXMgbWl4aW4gb25jZSEqKlxuQGltcG9ydCB1cmwoXCJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2ljb24/ZmFtaWx5PU1hdGVyaWFsK0ljb25zXCIpO1xuXG4vLyBBcHAgcGFsZXR0ZVxuJHBhbGV0dGU6IChcbiAgd2hpdGU6ICNmZmYsXG4gIGVycm9yOiAjZjQ0MzM2LFxuICBjaGFyY29hbDogIzMyMkIyMyxcbiAgYmxhY2s6ICMzMjJCMjMsXG4gIHNlbWlUcmFuc3BhcmVudDogcmdiYSgwLCAwLCAwLCAwLjA0KSxcbiAgMTA6ICMxMDBlMGIsXG4gIDIwOiAjMzIyYjI1LFxuICAzMDogI2NmYzJiOSxcbiAgNDA6ICNhYzlhOGMsXG4gIDUwOiAjOGU0OTFkLFxuICA2MDogI2VkZTNkNCxcbiAgNzA6ICNlZGVkZWIsXG4gIDgwOiAjZjRlZWU1LFxuICA5MDogI2ZmZmNmYSxcbiAgMTAwOiAjZThlOGU4LFxuICAxMTA6ICNhN2E3YTcsXG4gIDEyMDogIzc4Nzg3OCxcbiAgMTMwOiAjNzExNjA5LFxuICAxNDA6ICMwMDllNzksXG4gIDE1MDogIzJmMmYyZlxuKTtcbiIsIkBpbXBvcnQgJy4uLy4uLy4uLy4uL2NvbW1vbi9zdHlsZXMuY29tbW9uLnNjc3MnO1xuXG46aG9zdCB7XG4gIHBhZGRpbmc6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDYwcHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIFxuICBwb3NpdGlvbjogZml4ZWQ7XG4gIGJvdHRvbTogMDtcbiAgbGVmdDogMDtcbiAgei1pbmRleDogMzAwO1xufVxuXG4uZm9vdGVyIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIFxuICBib3JkZXItdG9wOiAxcHggc29saWQgbWFwLWdldCgkcGFsZXR0ZSwgODApO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXAtZ2V0KCRwYWxldHRlLCB3aGl0ZSk7XG59XG5cbi5mb290ZXItaW5uZXIge1xuICB3aWR0aDogMTAwJTtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuXG4gIGEge1xuICAgIHdpZHRoOiAyNSU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuXG4gIHNwYW4ge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG1hcmdpbi10b3A6IDZweDtcbiAgICBtYXJnaW4tYm90dG9tOiAzcHg7XG4gIH1cbn1cblxuLm1hdC1saXN0LWJhc2UgLm1hdC1saXN0LWl0ZW0ge1xuICBoZWlnaHQ6IGluaXRpYWw7XG59XG5cbi5tYXQtbmF2LWxpc3QgYSB7XG4gIGZvbnQtc2l6ZTogMTJweDtcbn1cbiJdfQ== */"

/***/ }),

/***/ "./src/app/theme/desktop/layouts/default/footer/footer-default.component.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/theme/desktop/layouts/default/footer/footer-default.component.ts ***!
  \**********************************************************************************/
/*! exports provided: FooterDefaultComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FooterDefaultComponent", function() { return FooterDefaultComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _src_app_store_modules_user_user_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @src/app/store/modules/user/user.types */ "./src/app/store/modules/user/user.types.ts");
/* harmony import */ var _src_app_route_names__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @src/app/route-names */ "./src/app/route-names.ts");
/* harmony import */ var _src_app_services__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @src/app/services */ "./src/app/services/index.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var FooterDefaultComponent = /** @class */ (function () {
    function FooterDefaultComponent(userService, router, store) {
        this.userService = userService;
        this.router = router;
        this.store = store;
        this.routeNames = _src_app_route_names__WEBPACK_IMPORTED_MODULE_2__["RouteNames"];
        this.externalRoutes = _src_app_route_names__WEBPACK_IMPORTED_MODULE_2__["ExternalRouteNames"];
        // user$ = this.store.pipe(select(selectUserActive));
        // Current user props
        this.user = null;
        this.hasCreator = false;
        // User view statuses - student or teacher
        this.viewStatuses = _src_app_store_modules_user_user_types__WEBPACK_IMPORTED_MODULE_1__["ViewStatuses"];
        this.canSeeFooter = true;
    }
    FooterDefaultComponent.prototype.ngOnInit = function () {
    };
    FooterDefaultComponent.ctorParameters = function () { return [
        { type: _src_app_services__WEBPACK_IMPORTED_MODULE_3__["UserService"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"] },
        { type: _ngrx_store__WEBPACK_IMPORTED_MODULE_5__["Store"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], FooterDefaultComponent.prototype, "user", void 0);
    FooterDefaultComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-layout-default-footer',
            template: __webpack_require__(/*! raw-loader!./footer-default.component.html */ "./node_modules/raw-loader/index.js!./src/app/theme/desktop/layouts/default/footer/footer-default.component.html"),
            styles: [__webpack_require__(/*! ./footer-default.component.scss */ "./src/app/theme/desktop/layouts/default/footer/footer-default.component.scss")]
        }),
        __metadata("design:paramtypes", [_src_app_services__WEBPACK_IMPORTED_MODULE_3__["UserService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"],
            _ngrx_store__WEBPACK_IMPORTED_MODULE_5__["Store"]])
    ], FooterDefaultComponent);
    return FooterDefaultComponent;
}());



/***/ }),

/***/ "./src/app/theme/desktop/layouts/default/footer/footer-icon/footer-icon.component.scss":
/*!*********************************************************************************************!*\
  !*** ./src/app/theme/desktop/layouts/default/footer/footer-icon/footer-icon.component.scss ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ":host {\n  display: flex;\n  align-items: center;\n  justify-content: center; }\n\nimg {\n  margin-top: 10px;\n  width: 20px;\n  height: 20px; }\n\nimg.library {\n    width: 30px; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9raHJlYnRvdi9Qcm9qZWN0cy9qb3VybmV5aW50by1mcm9udGVuZC9zcmMvYXBwL3RoZW1lL2Rlc2t0b3AvbGF5b3V0cy9kZWZhdWx0L2Zvb3Rlci9mb290ZXItaWNvbi9mb290ZXItaWNvbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsdUJBQXVCLEVBQUE7O0FBRzNCO0VBQ0ksZ0JBQWdCO0VBQ2hCLFdBQVc7RUFDWCxZQUFZLEVBQUE7O0FBSGhCO0lBTVEsV0FBVyxFQUFBIiwiZmlsZSI6InNyYy9hcHAvdGhlbWUvZGVza3RvcC9sYXlvdXRzL2RlZmF1bHQvZm9vdGVyL2Zvb3Rlci1pY29uL2Zvb3Rlci1pY29uLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuaW1nIHtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIHdpZHRoOiAyMHB4O1xuICAgIGhlaWdodDogMjBweDtcblxuICAgICYubGlicmFyeSB7XG4gICAgICAgIHdpZHRoOiAzMHB4O1xuICAgIH1cbn0iXX0= */"

/***/ }),

/***/ "./src/app/theme/desktop/layouts/default/footer/footer-icon/footer-icon.component.ts":
/*!*******************************************************************************************!*\
  !*** ./src/app/theme/desktop/layouts/default/footer/footer-icon/footer-icon.component.ts ***!
  \*******************************************************************************************/
/*! exports provided: FooterIconComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FooterIconComponent", function() { return FooterIconComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var FooterIconComponent = /** @class */ (function () {
    function FooterIconComponent() {
    }
    FooterIconComponent.prototype.ngOnInit = function () { };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], FooterIconComponent.prototype, "icon", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], FooterIconComponent.prototype, "classes", void 0);
    FooterIconComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-footer-icon',
            template: __webpack_require__(/*! raw-loader!./footer-icon.component.html */ "./node_modules/raw-loader/index.js!./src/app/theme/desktop/layouts/default/footer/footer-icon/footer-icon.component.html"),
            styles: [__webpack_require__(/*! ./footer-icon.component.scss */ "./src/app/theme/desktop/layouts/default/footer/footer-icon/footer-icon.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], FooterIconComponent);
    return FooterIconComponent;
}());



/***/ }),

/***/ "./src/app/theme/desktop/layouts/default/header/header-default.component.scss":
/*!************************************************************************************!*\
  !*** ./src/app/theme/desktop/layouts/default/header/header-default.component.scss ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "@import url(\"https://fonts.googleapis.com/icon?family=Material+Icons\");\n.header {\n  padding: 0 16px;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 10000;\n  background-color: #fff;\n  border-bottom: 1px solid #ededeb; }\n.mat-toolbar-row {\n  padding: 0;\n  position: relative;\n  white-space: initial !important; }\n.mat-toolbar-row .header-title {\n    width: calc(100% - 30px);\n    margin-bottom: 0;\n    padding: 0 10px;\n    line-height: 18px; }\n.header-spacer {\n  flex: 1 1 auto; }\n.logo-link img {\n  height: 52px;\n  display: block; }\n.user-profile-nav {\n  margin-right: 12px; }\n.switch-button {\n  position: absolute;\n  right: 0; }\n.left-arrow-btn {\n  padding-left: 0;\n  padding-right: 0; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9raHJlYnRvdi9Qcm9qZWN0cy9qb3VybmV5aW50by1mcm9udGVuZC9zcmMvYXBwL3RoZW1lL2NvbW1vbi9zdHlsZXMuY29tbW9uLnNjc3MiLCIvVXNlcnMva2hyZWJ0b3YvUHJvamVjdHMvam91cm5leWludG8tZnJvbnRlbmQvc3JjL2FwcC90aGVtZS9kZXNrdG9wL2xheW91dHMvZGVmYXVsdC9oZWFkZXIvaGVhZGVyLWRlZmF1bHQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0Esc0VBQVk7QUNEWjtFQUNFLGVBQWU7RUFFZixlQUFlO0VBQ2YsTUFBTTtFQUNOLE9BQU87RUFDUCxjQUFjO0VBRWQsc0JESFc7RUNJWCxnQ0RPVyxFQUFBO0FDSmI7RUFDRSxVQUFVO0VBQ1Ysa0JBQWtCO0VBRWxCLCtCQUE4QixFQUFBO0FBSmhDO0lBT0ksd0JBQXdCO0lBQ3hCLGdCQUFnQjtJQUNoQixlQUFlO0lBQ2YsaUJBQWlCLEVBQUE7QUFJckI7RUFDRSxjQUFjLEVBQUE7QUFHaEI7RUFFSSxZQUFZO0VBQ1osY0FBYyxFQUFBO0FBSWxCO0VBQ0Usa0JBQWtCLEVBQUE7QUFHcEI7RUFDRSxrQkFBa0I7RUFDbEIsUUFBUSxFQUFBO0FBR1Y7RUFDRSxlQUFlO0VBQ2YsZ0JBQWdCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC90aGVtZS9kZXNrdG9wL2xheW91dHMvZGVmYXVsdC9oZWFkZXIvaGVhZGVyLWRlZmF1bHQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbmNsdWRlIHRoZSBjb21tb24gc3R5bGVzIGZvciBBbmd1bGFyIE1hdGVyaWFsLiBXZSBpbmNsdWRlIHRoaXMgaGVyZSBzbyB0aGF0IHlvdSBvbmx5XG4vLyBoYXZlIHRvIGxvYWQgYSBzaW5nbGUgY3NzIGZpbGUgZm9yIEFuZ3VsYXIgTWF0ZXJpYWwgaW4geW91ciBhcHAuXG4vLyAqKkJlIHN1cmUgdGhhdCB5b3Ugb25seSBldmVyIGluY2x1ZGUgdGhpcyBtaXhpbiBvbmNlISoqXG5AaW1wb3J0IHVybChcImh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vaWNvbj9mYW1pbHk9TWF0ZXJpYWwrSWNvbnNcIik7XG5cbi8vIEFwcCBwYWxldHRlXG4kcGFsZXR0ZTogKFxuICB3aGl0ZTogI2ZmZixcbiAgZXJyb3I6ICNmNDQzMzYsXG4gIGNoYXJjb2FsOiAjMzIyQjIzLFxuICBibGFjazogIzMyMkIyMyxcbiAgc2VtaVRyYW5zcGFyZW50OiByZ2JhKDAsIDAsIDAsIDAuMDQpLFxuICAxMDogIzEwMGUwYixcbiAgMjA6ICMzMjJiMjUsXG4gIDMwOiAjY2ZjMmI5LFxuICA0MDogI2FjOWE4YyxcbiAgNTA6ICM4ZTQ5MWQsXG4gIDYwOiAjZWRlM2Q0LFxuICA3MDogI2VkZWRlYixcbiAgODA6ICNmNGVlZTUsXG4gIDkwOiAjZmZmY2ZhLFxuICAxMDA6ICNlOGU4ZTgsXG4gIDExMDogI2E3YTdhNyxcbiAgMTIwOiAjNzg3ODc4LFxuICAxMzA6ICM3MTE2MDksXG4gIDE0MDogIzAwOWU3OSxcbiAgMTUwOiAjMmYyZjJmXG4pO1xuIiwiQGltcG9ydCAnLi4vLi4vLi4vLi4vY29tbW9uL3N0eWxlcy5jb21tb24uc2Nzcyc7XG5cbi5oZWFkZXIge1xuICBwYWRkaW5nOiAwIDE2cHg7XG5cbiAgcG9zaXRpb246IGZpeGVkO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHotaW5kZXg6IDEwMDAwO1xuXG4gIGJhY2tncm91bmQtY29sb3I6IG1hcC1nZXQoJHBhbGV0dGUsIHdoaXRlKTtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIG1hcC1nZXQoJHBhbGV0dGUsIDcwKTtcbn1cblxuLm1hdC10b29sYmFyLXJvdyB7XG4gIHBhZGRpbmc6IDA7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcblxuICB3aGl0ZS1zcGFjZTogaW5pdGlhbCFpbXBvcnRhbnQ7XG5cbiAgLmhlYWRlci10aXRsZSB7XG4gICAgd2lkdGg6IGNhbGMoMTAwJSAtIDMwcHgpO1xuICAgIG1hcmdpbi1ib3R0b206IDA7XG4gICAgcGFkZGluZzogMCAxMHB4O1xuICAgIGxpbmUtaGVpZ2h0OiAxOHB4O1xuICB9XG59XG5cbi5oZWFkZXItc3BhY2VyIHtcbiAgZmxleDogMSAxIGF1dG87XG59XG5cbi5sb2dvLWxpbmsge1xuICBpbWcge1xuICAgIGhlaWdodDogNTJweDtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgfVxufVxuXG4udXNlci1wcm9maWxlLW5hdiB7XG4gIG1hcmdpbi1yaWdodDogMTJweDtcbn1cblxuLnN3aXRjaC1idXR0b24ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAwO1xufVxuXG4ubGVmdC1hcnJvdy1idG4ge1xuICBwYWRkaW5nLWxlZnQ6IDA7XG4gIHBhZGRpbmctcmlnaHQ6IDA7XG59Il19 */"

/***/ }),

/***/ "./src/app/theme/desktop/layouts/default/header/header-default.component.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/theme/desktop/layouts/default/header/header-default.component.ts ***!
  \**********************************************************************************/
/*! exports provided: HeaderDefaultComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HeaderDefaultComponent", function() { return HeaderDefaultComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _src_app_store_modules_user_user_selectors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @src/app/store/modules/user/user.selectors */ "./src/app/store/modules/user/user.selectors.ts");
/* harmony import */ var _src_app_store_modules_shared_shared_selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @src/app/store/modules/shared/shared.selectors */ "./src/app/store/modules/shared/shared.selectors.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _src_app_store_modules_user_user_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @src/app/store/modules/user/user.types */ "./src/app/store/modules/user/user.types.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _src_app_services_utils_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @src/app/services/utils.service */ "./src/app/services/utils.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};









var HeaderDefaultComponent = /** @class */ (function () {
    function HeaderDefaultComponent(store, location, router, route, utils) {
        var _this = this;
        this.store = store;
        this.location = location;
        this.router = router;
        this.route = route;
        this.utils = utils;
        this.user = null;
        this.hideNav = false;
        this.sidenavToggle = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.switchUserViewStatus = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.subscriptions = [];
        this.title$ = this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__["select"])(_src_app_store_modules_shared_shared_selectors__WEBPACK_IMPORTED_MODULE_3__["selectTitle"]));
        this.title = '';
        /*
        in the pages where it is relevant we send a dispatch
        saying where the back button should go,
        so it would be a router array
        */
        this.back$ = this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__["select"])(_src_app_store_modules_shared_shared_selectors__WEBPACK_IMPORTED_MODULE_3__["selectBack"]));
        this.canGoBack$ = this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__["select"])(_src_app_store_modules_shared_shared_selectors__WEBPACK_IMPORTED_MODULE_3__["selectCanGoBack"]));
        this.showBackButton = false;
        this.backUrl = false;
        this.history = 1;
        this.trackedUrls = [];
        this.startingPage = '';
        // User view status - student or teacher
        this.user$ = this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__["select"])(_src_app_store_modules_user_user_selectors__WEBPACK_IMPORTED_MODULE_2__["selectUserActive"]));
        this.viewStatus = _src_app_store_modules_user_user_types__WEBPACK_IMPORTED_MODULE_5__["ViewStatuses"];
        this.onToggleSidenav = function () {
            _this.sidenavToggle.emit();
        };
    }
    HeaderDefaultComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.trackedUrls.push(window.location.pathname);
        this.subscriptions.push(this.user$.subscribe(function (user) {
            _this.user = user;
        }), this.title$.subscribe(function (title) {
            _this.title = title;
        }), this.back$.subscribe(function (goBack) {
            // this.log('header going back?', goBack);
            _this.backUrl = goBack;
        }), this.canGoBack$.subscribe(function (canGoBack) {
            // this.log('can I go back now? ', canGoBack, this.backUrl, this.history);
            _this.showBackButton = canGoBack;
        }), this.router.events
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["filter"])(function (e) { return e instanceof _angular_router__WEBPACK_IMPORTED_MODULE_6__["NavigationEnd"]; }))
            .subscribe(function (e) {
            _this.trackedUrls.push(e.url);
            _this.log('on route change : ', _this.trackedUrls);
            _this.history = window.history.state.navigationId;
        }));
    };
    HeaderDefaultComponent.prototype.ngOnDestroy = function () {
        this.subscriptions.forEach(function (subscription) { return subscription.unsubscribe(); });
    };
    HeaderDefaultComponent.prototype.goBack = function () {
        this.log('on go back: ', this.trackedUrls, this.history);
        if (this.history > 1) {
            this.log('I wanna go back normally');
            var prevUrl = this.trackedUrls[this.trackedUrls.length - 2];
            var currentUrl = this.trackedUrls[this.trackedUrls.length - 1];
            var isParentOfPrev = prevUrl.includes(currentUrl);
            if (isParentOfPrev) {
                prevUrl = currentUrl.split('/');
                prevUrl.pop();
                prevUrl = prevUrl.join('/');
            }
            else {
                // check that the current and prev urls are not 'parallel children' of parent
                // i.e. /teacher/recordings/rec-id/edit-recording && /teacher/recordings/rec-id/edit-audio
                var currentAsArr = currentUrl.split('/');
                currentAsArr.pop();
                var prevAsArr = prevUrl.split('/');
                prevAsArr.pop();
                if (currentAsArr.join('/') === prevAsArr.join('/')) {
                    prevUrl = currentAsArr.join('/');
                }
            }
            this.removeLastTrackedUrl();
            // if the current url is a parent of the previous url, do not go back there, go to its
            this.router.navigate([prevUrl]);
        }
        else if (this.backUrl && Array.isArray(this.backUrl)) {
            this.log('I wanna go back by default');
            this.router.navigate(this.backUrl);
        }
        else {
            this.router.navigate(['/']);
        }
    };
    /**
     * @name removeLastTrackedUrl
     * @description prevent infinity go back loop
     */
    HeaderDefaultComponent.prototype.removeLastTrackedUrl = function () {
        var shallowCopy = __spread(this.trackedUrls);
        shallowCopy.splice(this.trackedUrls.length - 1, 1);
        this.trackedUrls = shallowCopy;
    };
    /**
     * Switch user view status - Student / Creator
     *
     * @param view_status
     */
    HeaderDefaultComponent.prototype.handleClickSwitchUserViewStatus = function (view_status) {
        this.switchUserViewStatus.emit({ view_status: view_status });
    };
    HeaderDefaultComponent.prototype.log = function (text) {
        var _a;
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        (_a = this.utils).logall.apply(_a, __spread([text, this.constructor.name], args));
    };
    HeaderDefaultComponent.ctorParameters = function () { return [
        { type: _ngrx_store__WEBPACK_IMPORTED_MODULE_1__["Store"] },
        { type: _angular_common__WEBPACK_IMPORTED_MODULE_4__["Location"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_6__["ActivatedRoute"] },
        { type: _src_app_services_utils_service__WEBPACK_IMPORTED_MODULE_8__["UtilsService"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], HeaderDefaultComponent.prototype, "user", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], HeaderDefaultComponent.prototype, "hideNav", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], HeaderDefaultComponent.prototype, "sidenavToggle", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], HeaderDefaultComponent.prototype, "switchUserViewStatus", void 0);
    HeaderDefaultComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-layout-default-header',
            template: __webpack_require__(/*! raw-loader!./header-default.component.html */ "./node_modules/raw-loader/index.js!./src/app/theme/desktop/layouts/default/header/header-default.component.html"),
            styles: [__webpack_require__(/*! ./header-default.component.scss */ "./src/app/theme/desktop/layouts/default/header/header-default.component.scss")]
        }),
        __metadata("design:paramtypes", [_ngrx_store__WEBPACK_IMPORTED_MODULE_1__["Store"],
            _angular_common__WEBPACK_IMPORTED_MODULE_4__["Location"],
            _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"],
            _angular_router__WEBPACK_IMPORTED_MODULE_6__["ActivatedRoute"],
            _src_app_services_utils_service__WEBPACK_IMPORTED_MODULE_8__["UtilsService"]])
    ], HeaderDefaultComponent);
    return HeaderDefaultComponent;
}());



/***/ }),

/***/ "./src/app/theme/desktop/layouts/default/layout-default.component.scss":
/*!*****************************************************************************!*\
  !*** ./src/app/theme/desktop/layouts/default/layout-default.component.scss ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "@import url(\"https://fonts.googleapis.com/icon?family=Material+Icons\");\n.content {\n  margin-top: 64px;\n  margin-bottom: 90px;\n  overflow: initial; }\n@media all and (max-width: 599px) {\n    .content {\n      margin-top: 56px; } }\n.sidenav {\n  padding: 12px;\n  border-left: 1px solid #ededeb; }\n.mat-drawer-container {\n  margin: 0 auto;\n  min-height: 100vh;\n  background-color: initial; }\n.mat-drawer-container.mat-drawer-container-has-open {\n    height: 100vh;\n    overflow: hidden;\n    position: fixed; }\n.mat-drawer-container,\n.mat-sidenav {\n  width: 100%; }\n::ng-deep .menu-header:not(.mat-drawer-side) {\n  position: fixed; }\n::ng-deep .mat-drawer-backdrop {\n  position: fixed !important; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9raHJlYnRvdi9Qcm9qZWN0cy9qb3VybmV5aW50by1mcm9udGVuZC9zcmMvYXBwL3RoZW1lL2NvbW1vbi9zdHlsZXMuY29tbW9uLnNjc3MiLCIvVXNlcnMva2hyZWJ0b3YvUHJvamVjdHMvam91cm5leWludG8tZnJvbnRlbmQvc3JjL2FwcC90aGVtZS9kZXNrdG9wL2xheW91dHMvZGVmYXVsdC9sYXlvdXQtZGVmYXVsdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQSxzRUFBWTtBQ0RaO0VBQ0UsZ0JBQWdCO0VBRWhCLG1CQUFtQjtFQUNuQixpQkFBaUIsRUFBQTtBQUVqQjtJQU5GO01BT0ksZ0JBQWdCLEVBQUEsRUFFbkI7QUFFRDtFQUNFLGFBQWE7RUFDYiw4QkRHVyxFQUFBO0FDQWI7RUFDRSxjQUFjO0VBQ2QsaUJBQWlCO0VBRWpCLHlCQUF5QixFQUFBO0FBSjNCO0lBT0ksYUFBYTtJQUNiLGdCQUFnQjtJQUNoQixlQUFlLEVBQUE7QUFJbkI7O0VBRUUsV0FBVyxFQUFBO0FBR2I7RUFDRSxlQUFlLEVBQUE7QUFHakI7RUFDRSwwQkFBMEIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3RoZW1lL2Rlc2t0b3AvbGF5b3V0cy9kZWZhdWx0L2xheW91dC1kZWZhdWx0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gSW5jbHVkZSB0aGUgY29tbW9uIHN0eWxlcyBmb3IgQW5ndWxhciBNYXRlcmlhbC4gV2UgaW5jbHVkZSB0aGlzIGhlcmUgc28gdGhhdCB5b3Ugb25seVxuLy8gaGF2ZSB0byBsb2FkIGEgc2luZ2xlIGNzcyBmaWxlIGZvciBBbmd1bGFyIE1hdGVyaWFsIGluIHlvdXIgYXBwLlxuLy8gKipCZSBzdXJlIHRoYXQgeW91IG9ubHkgZXZlciBpbmNsdWRlIHRoaXMgbWl4aW4gb25jZSEqKlxuQGltcG9ydCB1cmwoXCJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2ljb24/ZmFtaWx5PU1hdGVyaWFsK0ljb25zXCIpO1xuXG4vLyBBcHAgcGFsZXR0ZVxuJHBhbGV0dGU6IChcbiAgd2hpdGU6ICNmZmYsXG4gIGVycm9yOiAjZjQ0MzM2LFxuICBjaGFyY29hbDogIzMyMkIyMyxcbiAgYmxhY2s6ICMzMjJCMjMsXG4gIHNlbWlUcmFuc3BhcmVudDogcmdiYSgwLCAwLCAwLCAwLjA0KSxcbiAgMTA6ICMxMDBlMGIsXG4gIDIwOiAjMzIyYjI1LFxuICAzMDogI2NmYzJiOSxcbiAgNDA6ICNhYzlhOGMsXG4gIDUwOiAjOGU0OTFkLFxuICA2MDogI2VkZTNkNCxcbiAgNzA6ICNlZGVkZWIsXG4gIDgwOiAjZjRlZWU1LFxuICA5MDogI2ZmZmNmYSxcbiAgMTAwOiAjZThlOGU4LFxuICAxMTA6ICNhN2E3YTcsXG4gIDEyMDogIzc4Nzg3OCxcbiAgMTMwOiAjNzExNjA5LFxuICAxNDA6ICMwMDllNzksXG4gIDE1MDogIzJmMmYyZlxuKTtcbiIsIkBpbXBvcnQgJy4uLy4uLy4uL2NvbW1vbi9zdHlsZXMuY29tbW9uLnNjc3MnO1xuXG4uY29udGVudCB7XG4gIG1hcmdpbi10b3A6IDY0cHg7XG4gIC8vIG1hcmdpbi10b3A6IDU2cHg7XG4gIG1hcmdpbi1ib3R0b206IDkwcHg7XG4gIG92ZXJmbG93OiBpbml0aWFsO1xuXG4gIEBtZWRpYSBhbGwgYW5kIChtYXgtd2lkdGg6IDU5OXB4KSB7XG4gICAgbWFyZ2luLXRvcDogNTZweDtcbiAgfVxufVxuXG4uc2lkZW5hdiB7XG4gIHBhZGRpbmc6IDEycHg7XG4gIGJvcmRlci1sZWZ0OiAxcHggc29saWQgbWFwLWdldCgkcGFsZXR0ZSwgNzApO1xufVxuXG4ubWF0LWRyYXdlci1jb250YWluZXIge1xuICBtYXJnaW46IDAgYXV0bztcbiAgbWluLWhlaWdodDogMTAwdmg7XG5cbiAgYmFja2dyb3VuZC1jb2xvcjogaW5pdGlhbDtcblxuICAmLm1hdC1kcmF3ZXItY29udGFpbmVyLWhhcy1vcGVuIHtcbiAgICBoZWlnaHQ6IDEwMHZoO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICB9XG59XG5cbi5tYXQtZHJhd2VyLWNvbnRhaW5lcixcbi5tYXQtc2lkZW5hdiB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG46Om5nLWRlZXAgLm1lbnUtaGVhZGVyOm5vdCgubWF0LWRyYXdlci1zaWRlKSB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbn1cblxuOjpuZy1kZWVwIC5tYXQtZHJhd2VyLWJhY2tkcm9wIHtcbiAgcG9zaXRpb246IGZpeGVkICFpbXBvcnRhbnQ7XG59Il19 */"

/***/ }),

/***/ "./src/app/theme/desktop/layouts/default/layout-default.component.ts":
/*!***************************************************************************!*\
  !*** ./src/app/theme/desktop/layouts/default/layout-default.component.ts ***!
  \***************************************************************************/
/*! exports provided: LayoutDefaultComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LayoutDefaultComponent", function() { return LayoutDefaultComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _src_app_store_modules_user_user_selectors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @src/app/store/modules/user/user.selectors */ "./src/app/store/modules/user/user.selectors.ts");
/* harmony import */ var _src_app_store_modules_authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @src/app/store/modules/authentication/authentication.actions */ "./src/app/store/modules/authentication/authentication.actions.ts");
/* harmony import */ var _src_app_store_modules_user_user_actions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @src/app/store/modules/user/user.actions */ "./src/app/store/modules/user/user.actions.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _src_app_services__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @src/app/services */ "./src/app/services/index.ts");
/* harmony import */ var _src_app_store_modules_user_user_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @src/app/store/modules/user/user.types */ "./src/app/store/modules/user/user.types.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @src/app/services/api.service.interface */ "./src/app/services/api.service.interface.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _src_app_services_utils_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @src/app/services/utils.service */ "./src/app/services/utils.service.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};













var LayoutDefaultComponent = /** @class */ (function () {
    function LayoutDefaultComponent(store, userService, spinner, router, utils) {
        this.store = store;
        this.userService = userService;
        this.spinner = spinner;
        this.router = router;
        this.utils = utils;
        // Store
        this.subscriptions = [];
        this.user$ = this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__["select"])(_src_app_store_modules_user_user_selectors__WEBPACK_IMPORTED_MODULE_2__["selectUserActive"]));
        this.status$ = this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__["select"])(_src_app_store_modules_user_user_selectors__WEBPACK_IMPORTED_MODULE_2__["selectUserStatus"]), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["filter"])(function (status) { return Boolean(status); }));
        /**
         * whether to hide or show navigation
         * we're hiding the navigation for example if the user is a teacher
         * and hasn't completed onboarding
         * */
        this.hideNav = false;
        this.sidenavOpen = false;
    }
    LayoutDefaultComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.subscriptions.push(this.user$.subscribe(function (user) {
            if (user) {
                _this.user = user;
                _this.log('Got the user: ', _this.user);
                if (user && user.creators && user.creators.length && !isNaN(user.creators[0].creator)) {
                    _this.log('gotta get the correct user obj');
                    // console.log('GetCurrentUserRequestAction...');
                    _this.store.dispatch(new _src_app_store_modules_user_user_actions__WEBPACK_IMPORTED_MODULE_4__["GetCurrentUserRequestAction"]());
                }
                setTimeout(function () {
                    if ((_this.user.view_status === _src_app_store_modules_user_user_types__WEBPACK_IMPORTED_MODULE_7__["ViewStatuses"].TEACHER
                        && !_this.userService.isCreatorOnboardingStepOneComplete(user)) || (_this.user.view_status === _src_app_store_modules_user_user_types__WEBPACK_IMPORTED_MODULE_7__["ViewStatuses"].STUDENT
                        && !_this.userService.isStudentOnboardingComplete(user))) {
                        _this.hideNav = true;
                    }
                    else {
                        _this.hideNav = false;
                    }
                });
            }
        }), this.status$.subscribe(function (status) {
            if (status !== _src_app_services_api_service_interface__WEBPACK_IMPORTED_MODULE_9__["RequestStatus"].pending) {
                // hideoverlay
            }
            else {
                // showoverlay
            }
        }), this.router.events.subscribe(function (ev) {
            if (ev instanceof _angular_router__WEBPACK_IMPORTED_MODULE_10__["NavigationEnd"]) {
                var pathArray = ev.urlAfterRedirects.split('/').filter(Boolean);
                if (pathArray.includes('onboarding')) {
                    _this.hideNav = true;
                }
                else {
                    _this.hideNav = false;
                }
            }
        }));
    };
    LayoutDefaultComponent.prototype.ngOnDestroy = function () {
        this.subscriptions.forEach(function (subscription) { return subscription.unsubscribe(); });
    };
    /**
     * On switch user view status - student / creator
     */
    LayoutDefaultComponent.prototype.onSwitchUserViewStatus = function (_a) {
        var view_status = _a.view_status;
        var newUser = __assign({}, this.user, { view_status: view_status });
        // showoverlay
        this.store.dispatch(new _src_app_store_modules_user_user_actions__WEBPACK_IMPORTED_MODULE_4__["SwitchUserViewStatusRequestAction"](newUser));
    };
    /**
     * On user logout
     */
    LayoutDefaultComponent.prototype.onLogout = function () {
        this.store.dispatch(new _src_app_store_modules_authentication_authentication_actions__WEBPACK_IMPORTED_MODULE_3__["LogoutRequestAction"]());
    };
    /**
     * On close side navigation
     */
    LayoutDefaultComponent.prototype.onCloseSideNav = function () {
        if (this.sidenav) {
            this.sidenav.close();
        }
    };
    LayoutDefaultComponent.prototype.onSidenavToggle = function () {
        this.sidenav.toggle();
        this.sidenavOpen = !!this.sidenav.opened;
    };
    LayoutDefaultComponent.prototype.log = function (text) {
        var _a;
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        (_a = this.utils).log.apply(_a, __spread([text, this.constructor.name], args));
    };
    LayoutDefaultComponent.ctorParameters = function () { return [
        { type: _ngrx_store__WEBPACK_IMPORTED_MODULE_1__["Store"] },
        { type: _src_app_services__WEBPACK_IMPORTED_MODULE_6__["UserService"] },
        { type: _src_app_services__WEBPACK_IMPORTED_MODULE_6__["SpinnerOverlayService"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_10__["Router"] },
        { type: _src_app_services_utils_service__WEBPACK_IMPORTED_MODULE_11__["UtilsService"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('sidenav', { static: false }),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_5__["MatSidenav"])
    ], LayoutDefaultComponent.prototype, "sidenav", void 0);
    LayoutDefaultComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-layout-default',
            template: __webpack_require__(/*! raw-loader!./layout-default.component.html */ "./node_modules/raw-loader/index.js!./src/app/theme/desktop/layouts/default/layout-default.component.html"),
            styles: [__webpack_require__(/*! ./layout-default.component.scss */ "./src/app/theme/desktop/layouts/default/layout-default.component.scss")]
        }),
        __metadata("design:paramtypes", [_ngrx_store__WEBPACK_IMPORTED_MODULE_1__["Store"],
            _src_app_services__WEBPACK_IMPORTED_MODULE_6__["UserService"],
            _src_app_services__WEBPACK_IMPORTED_MODULE_6__["SpinnerOverlayService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_10__["Router"],
            _src_app_services_utils_service__WEBPACK_IMPORTED_MODULE_11__["UtilsService"]])
    ], LayoutDefaultComponent);
    return LayoutDefaultComponent;
}());



/***/ }),

/***/ "./src/app/theme/desktop/layouts/default/layout-default.module.ts":
/*!************************************************************************!*\
  !*** ./src/app/theme/desktop/layouts/default/layout-default.module.ts ***!
  \************************************************************************/
/*! exports provided: LayoutDefaultModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LayoutDefaultModule", function() { return LayoutDefaultModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/toolbar */ "./node_modules/@angular/material/esm5/toolbar.es5.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/esm5/button.es5.js");
/* harmony import */ var _angular_material_list__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/list */ "./node_modules/@angular/material/esm5/list.es5.js");
/* harmony import */ var _angular_material_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/core */ "./node_modules/@angular/material/esm5/core.es5.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/flex-layout */ "./node_modules/@angular/flex-layout/esm5/flex-layout.es5.js");
/* harmony import */ var _layout_default_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./layout-default.component */ "./src/app/theme/desktop/layouts/default/layout-default.component.ts");
/* harmony import */ var _header_header_default_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./header/header-default.component */ "./src/app/theme/desktop/layouts/default/header/header-default.component.ts");
/* harmony import */ var _footer_footer_default_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./footer/footer-default.component */ "./src/app/theme/desktop/layouts/default/footer/footer-default.component.ts");
/* harmony import */ var _src_app_theme_desktop_layouts_default_menu_menu_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @src/app/theme/desktop/layouts/default/menu/menu.component */ "./src/app/theme/desktop/layouts/default/menu/menu.component.ts");
/* harmony import */ var _src_app_components_icon_icon_module__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @src/app/components/icon/icon.module */ "./src/app/components/icon/icon.module.ts");
/* harmony import */ var _footer_footer_icon_footer_icon_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./footer/footer-icon/footer-icon.component */ "./src/app/theme/desktop/layouts/default/footer/footer-icon/footer-icon.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};















var LayoutDefaultModule = /** @class */ (function () {
    function LayoutDefaultModule() {
    }
    LayoutDefaultModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"],
                _angular_flex_layout__WEBPACK_IMPORTED_MODULE_8__["FlexLayoutModule"],
                _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_2__["MatToolbarModule"],
                _angular_material_button__WEBPACK_IMPORTED_MODULE_4__["MatButtonModule"],
                _angular_material_list__WEBPACK_IMPORTED_MODULE_5__["MatListModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatSidenavModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatIconModule"],
                _angular_material_core__WEBPACK_IMPORTED_MODULE_6__["MatRippleModule"],
                _src_app_components_icon_icon_module__WEBPACK_IMPORTED_MODULE_13__["IconModule"]
            ],
            providers: [],
            bootstrap: [],
            declarations: [
                _layout_default_component__WEBPACK_IMPORTED_MODULE_9__["LayoutDefaultComponent"],
                _header_header_default_component__WEBPACK_IMPORTED_MODULE_10__["HeaderDefaultComponent"],
                _footer_footer_default_component__WEBPACK_IMPORTED_MODULE_11__["FooterDefaultComponent"],
                _footer_footer_icon_footer_icon_component__WEBPACK_IMPORTED_MODULE_14__["FooterIconComponent"],
                _src_app_theme_desktop_layouts_default_menu_menu_component__WEBPACK_IMPORTED_MODULE_12__["MenuComponent"]
            ]
        })
    ], LayoutDefaultModule);
    return LayoutDefaultModule;
}());



/***/ }),

/***/ "./src/app/theme/desktop/layouts/default/menu/menu.component.scss":
/*!************************************************************************!*\
  !*** ./src/app/theme/desktop/layouts/default/menu/menu.component.scss ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "@import url(\"https://fonts.googleapis.com/icon?family=Material+Icons\");\n.home-link {\n  display: flex;\n  align-items: center;\n  outline: none; }\n.home-link__logo {\n    outline: none; }\n.menu-list-wrapper a span {\n  margin-right: auto; }\n.menu-nav {\n  height: 48px;\n  width: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 1000;\n  place-content: flex-end;\n  background-color: #fff;\n  border-bottom: solid 1px #ede3d4; }\n.mat-nav-list {\n  margin-top: 48px; }\n.mat-list-base .mat-list-item {\n  min-width: 300px;\n  height: 66px;\n  line-height: 22px;\n  color: #322B23;\n  border-bottom: solid 1px #ede3d4; }\n.active-menu-item {\n  background-color: rgba(0, 0, 0, 0.04); }\n.switch-btn-content {\n  padding: 0;\n  max-width: calc(100% - 40px);\n  width: 310px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 100px; }\n.switch-btn {\n  cursor: pointer;\n  width: 50%;\n  height: 100%;\n  padding: 12px 24px;\n  border: solid 1px #fff;\n  background-color: #322B23;\n  color: #fff; }\n.switch-1 {\n  border-radius: 100px 0 0 100px; }\n.switch-2 {\n  border-radius: 0 100px 100px 0; }\n.active-btn {\n  background-color: transparent;\n  color: #322B23;\n  border: none; }\n.logout-btn {\n  max-width: calc(100% - 40px);\n  width: 310px;\n  margin-bottom: 30px; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9raHJlYnRvdi9Qcm9qZWN0cy9qb3VybmV5aW50by1mcm9udGVuZC9zcmMvYXBwL3RoZW1lL2NvbW1vbi9zdHlsZXMuY29tbW9uLnNjc3MiLCIvVXNlcnMva2hyZWJ0b3YvUHJvamVjdHMvam91cm5leWludG8tZnJvbnRlbmQvc3JjL2FwcC90aGVtZS9kZXNrdG9wL2xheW91dHMvZGVmYXVsdC9tZW51L21lbnUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0Esc0VBQVk7QUNHWjtFQUNFLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsYUFBYSxFQUFBO0FBRWI7SUFDRSxhQUFhLEVBQUE7QUFJakI7RUFHTSxrQkFBa0IsRUFBQTtBQUt4QjtFQUNFLFlBQVk7RUFDWixXQUFXO0VBRVgsZUFBZTtFQUNmLE1BQU07RUFDTixPQUFPO0VBQ1AsYUFBYTtFQUViLHVCQUF1QjtFQUV2QixzQkQ1Qlc7RUM2QlgsZ0NEbkJXLEVBQUE7QUNzQmI7RUFDRSxnQkFBZ0IsRUFBQTtBQUlsQjtFQUNFLGdCQUFnQjtFQUNoQixZQUFZO0VBQ1osaUJBQWlCO0VBQ2pCLGNEdENjO0VDdUNkLGdDRGhDVyxFQUFBO0FDbUNiO0VBQ0UscUNEMUNvQyxFQUFBO0FDNkN0QztFQUNFLFVBQVU7RUFDViw0QkF4RDJCO0VBeUQzQixZQXhEVztFQTBEWCxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLHVCQUF1QjtFQUN2QixvQkFBb0IsRUFBQTtBQUd0QjtFQUNFLGVBQWU7RUFDZixVQUFVO0VBQ1YsWUFBWTtFQUNaLGtCQUFrQjtFQUVsQixzQkRsRVc7RUNtRVgseUJEaEVjO0VDaUVkLFdEcEVXLEVBQUE7QUN1RWI7RUFDRSw4QkFBOEIsRUFBQTtBQUdoQztFQUNFLDhCQUE4QixFQUFBO0FBR2hDO0VBQ0UsNkJBQTZCO0VBQzdCLGNEOUVjO0VDK0VkLFlBQVksRUFBQTtBQUdkO0VBQ0UsNEJBM0YyQjtFQTRGM0IsWUEzRlc7RUE0RlgsbUJBQW1CLEVBQUEiLCJmaWxlIjoic3JjL2FwcC90aGVtZS9kZXNrdG9wL2xheW91dHMvZGVmYXVsdC9tZW51L21lbnUuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbmNsdWRlIHRoZSBjb21tb24gc3R5bGVzIGZvciBBbmd1bGFyIE1hdGVyaWFsLiBXZSBpbmNsdWRlIHRoaXMgaGVyZSBzbyB0aGF0IHlvdSBvbmx5XG4vLyBoYXZlIHRvIGxvYWQgYSBzaW5nbGUgY3NzIGZpbGUgZm9yIEFuZ3VsYXIgTWF0ZXJpYWwgaW4geW91ciBhcHAuXG4vLyAqKkJlIHN1cmUgdGhhdCB5b3Ugb25seSBldmVyIGluY2x1ZGUgdGhpcyBtaXhpbiBvbmNlISoqXG5AaW1wb3J0IHVybChcImh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vaWNvbj9mYW1pbHk9TWF0ZXJpYWwrSWNvbnNcIik7XG5cbi8vIEFwcCBwYWxldHRlXG4kcGFsZXR0ZTogKFxuICB3aGl0ZTogI2ZmZixcbiAgZXJyb3I6ICNmNDQzMzYsXG4gIGNoYXJjb2FsOiAjMzIyQjIzLFxuICBibGFjazogIzMyMkIyMyxcbiAgc2VtaVRyYW5zcGFyZW50OiByZ2JhKDAsIDAsIDAsIDAuMDQpLFxuICAxMDogIzEwMGUwYixcbiAgMjA6ICMzMjJiMjUsXG4gIDMwOiAjY2ZjMmI5LFxuICA0MDogI2FjOWE4YyxcbiAgNTA6ICM4ZTQ5MWQsXG4gIDYwOiAjZWRlM2Q0LFxuICA3MDogI2VkZWRlYixcbiAgODA6ICNmNGVlZTUsXG4gIDkwOiAjZmZmY2ZhLFxuICAxMDA6ICNlOGU4ZTgsXG4gIDExMDogI2E3YTdhNyxcbiAgMTIwOiAjNzg3ODc4LFxuICAxMzA6ICM3MTE2MDksXG4gIDE0MDogIzAwOWU3OSxcbiAgMTUwOiAjMmYyZjJmXG4pO1xuIiwiQGltcG9ydCAnLi4vLi4vLi4vLi4vY29tbW9uL3N0eWxlcy5jb21tb24uc2Nzcyc7XG5cbiRtYXgtd2lkdGg6IGNhbGMoMTAwJSAtIDQwcHgpO1xuJHdpZHRoOiAzMTBweDtcbiRoZWlnaHQ6IDQ2cHg7XG5cbi5ob21lLWxpbmsge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBvdXRsaW5lOiBub25lO1xuXG4gICZfX2xvZ28ge1xuICAgIG91dGxpbmU6IG5vbmU7XG4gIH1cbn1cblxuLm1lbnUtbGlzdC13cmFwcGVyIHtcbiAgYSB7XG4gICAgc3BhbiB7XG4gICAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XG4gICAgfVxuICB9XG59XG5cbi5tZW51LW5hdiB7XG4gIGhlaWdodDogNDhweDtcbiAgd2lkdGg6IDEwMCU7XG4gIFxuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgei1pbmRleDogMTAwMDtcblxuICBwbGFjZS1jb250ZW50OiBmbGV4LWVuZDtcblxuICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXAtZ2V0KCRwYWxldHRlLCB3aGl0ZSk7XG4gIGJvcmRlci1ib3R0b206IHNvbGlkIDFweCBtYXAtZ2V0KCRwYWxldHRlLCA2MCk7XG59XG5cbi5tYXQtbmF2LWxpc3Qge1xuICBtYXJnaW4tdG9wOiA0OHB4O1xufVxuXG5cbi5tYXQtbGlzdC1iYXNlIC5tYXQtbGlzdC1pdGVtIHtcbiAgbWluLXdpZHRoOiAzMDBweDtcbiAgaGVpZ2h0OiA2NnB4O1xuICBsaW5lLWhlaWdodDogMjJweDtcbiAgY29sb3I6IG1hcC1nZXQoJHBhbGV0dGUsIGJsYWNrKTtcbiAgYm9yZGVyLWJvdHRvbTogc29saWQgMXB4IG1hcC1nZXQoJHBhbGV0dGUsIDYwKTtcbn1cblxuLmFjdGl2ZS1tZW51LWl0ZW0ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXAtZ2V0KCRwYWxldHRlLCBzZW1pVHJhbnNwYXJlbnQpO1xufVxuXG4uc3dpdGNoLWJ0bi1jb250ZW50IHtcbiAgcGFkZGluZzogMDtcbiAgbWF4LXdpZHRoOiAkbWF4LXdpZHRoO1xuICB3aWR0aDogJHdpZHRoO1xuXG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBib3JkZXItcmFkaXVzOiAxMDBweDtcbn1cblxuLnN3aXRjaC1idG4ge1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHdpZHRoOiA1MCU7XG4gIGhlaWdodDogMTAwJTtcbiAgcGFkZGluZzogMTJweCAyNHB4O1xuICBcbiAgYm9yZGVyOiBzb2xpZCAxcHggbWFwLWdldCgkcGFsZXR0ZSwgd2hpdGUpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBtYXAtZ2V0KCRwYWxldHRlLCBibGFjayk7XG4gIGNvbG9yOiBtYXAtZ2V0KCRwYWxldHRlLCB3aGl0ZSk7XG59XG5cbi5zd2l0Y2gtMSB7XG4gIGJvcmRlci1yYWRpdXM6IDEwMHB4IDAgMCAxMDBweDtcbn1cblxuLnN3aXRjaC0yIHtcbiAgYm9yZGVyLXJhZGl1czogMCAxMDBweCAxMDBweCAwO1xufVxuXG4uYWN0aXZlLWJ0biB7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICBjb2xvcjogbWFwLWdldCgkcGFsZXR0ZSwgYmxhY2spO1xuICBib3JkZXI6IG5vbmU7XG59XG5cbi5sb2dvdXQtYnRuIHtcbiAgbWF4LXdpZHRoOiAkbWF4LXdpZHRoO1xuICB3aWR0aDogJHdpZHRoO1xuICBtYXJnaW4tYm90dG9tOiAzMHB4O1xufSJdfQ== */"

/***/ }),

/***/ "./src/app/theme/desktop/layouts/default/menu/menu.component.ts":
/*!**********************************************************************!*\
  !*** ./src/app/theme/desktop/layouts/default/menu/menu.component.ts ***!
  \**********************************************************************/
/*! exports provided: MenuComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MenuComponent", function() { return MenuComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _src_app_store_modules_user_user_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @src/app/store/modules/user/user.types */ "./src/app/store/modules/user/user.types.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _src_app_route_names__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @src/app/route-names */ "./src/app/route-names.ts");
/* harmony import */ var _src_app_services__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @src/app/services */ "./src/app/services/index.ts");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _src_app_store_modules_user_user_selectors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @src/app/store/modules/user/user.selectors */ "./src/app/store/modules/user/user.selectors.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _src_app_services_utils_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @src/app/services/utils.service */ "./src/app/services/utils.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};









var MenuComponent = /** @class */ (function () {
    function MenuComponent(router, userService, store, utils) {
        var _this = this;
        this.router = router;
        this.userService = userService;
        this.store = store;
        this.utils = utils;
        this.activeLinkClass = 'active-menu-item';
        this.routeNames = _src_app_route_names__WEBPACK_IMPORTED_MODULE_3__["RouteNames"];
        // Current user props
        this.user = null;
        this.hidePrivateMenuItems = false;
        // Emit event to parent
        this.switchUserViewStatus = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.sidenavClose = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.logout = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        // Current user props
        this.user$ = this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_5__["select"])(_src_app_store_modules_user_user_selectors__WEBPACK_IMPORTED_MODULE_6__["selectUserActive"]), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["filter"])(Boolean));
        this.switchUser$ = this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_5__["select"])(_src_app_store_modules_user_user_selectors__WEBPACK_IMPORTED_MODULE_6__["selectUserEntities"]), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["filter"])(Boolean));
        this.subscriptions = [];
        // User view status - student or teacher
        this.viewStatus = _src_app_store_modules_user_user_types__WEBPACK_IMPORTED_MODULE_1__["ViewStatuses"];
        this.currentViewStatus = false;
        this.studentSwitchTitle = '';
        this.teacherSwitchTitle = '';
        this.subscriptions.push(router.events.subscribe(function (val) {
            if (val instanceof _angular_router__WEBPACK_IMPORTED_MODULE_2__["NavigationStart"]) {
                _this.handleClickCloseSideNav();
            }
        }), this.user$.subscribe(function (user) {
            if (user.creators && user.creators.length === 0) {
                _this.studentSwitchTitle = 'Create student profile';
            }
            else {
                _this.studentSwitchTitle = 'Yoga view';
            }
            if (!user.creator) {
                _this.teacherSwitchTitle = 'Create teacher profile';
            }
            else {
                _this.teacherSwitchTitle = 'Teacher view';
            }
        }));
    }
    MenuComponent.prototype.ngOnInit = function () { };
    MenuComponent.prototype.ngAfterViewInit = function () { };
    MenuComponent.prototype.ngOnDestroy = function () {
        this.subscriptions.forEach(function (s) { return s.unsubscribe(); });
    };
    /**
     * Switch user view status - Student / Creator
     *
     * @param view_status
     */
    MenuComponent.prototype.handleClickSwitchUserViewStatus = function (view_status) {
        this.switchUserViewStatus.emit({ view_status: view_status });
    };
    /**
     * Handle click close side navigation
     */
    MenuComponent.prototype.handleClickCloseSideNav = function () {
        this.sidenavClose.emit();
    };
    /**
     * Handle click on logout
     */
    MenuComponent.prototype.handleLogoutClick = function () {
        this.logout.emit();
        this.sidenavClose.emit();
    };
    MenuComponent.prototype.log = function (text) {
        var _a;
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        (_a = this.utils).logall.apply(_a, __spread([text, this.constructor.name], args));
    };
    MenuComponent.ctorParameters = function () { return [
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] },
        { type: _src_app_services__WEBPACK_IMPORTED_MODULE_4__["UserService"] },
        { type: _ngrx_store__WEBPACK_IMPORTED_MODULE_5__["Store"] },
        { type: _src_app_services_utils_service__WEBPACK_IMPORTED_MODULE_8__["UtilsService"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], MenuComponent.prototype, "user", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], MenuComponent.prototype, "hidePrivateMenuItems", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], MenuComponent.prototype, "switchUserViewStatus", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], MenuComponent.prototype, "sidenavClose", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], MenuComponent.prototype, "logout", void 0);
    MenuComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-menu',
            template: __webpack_require__(/*! raw-loader!./menu.component.html */ "./node_modules/raw-loader/index.js!./src/app/theme/desktop/layouts/default/menu/menu.component.html"),
            styles: [__webpack_require__(/*! ./menu.component.scss */ "./src/app/theme/desktop/layouts/default/menu/menu.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _src_app_services__WEBPACK_IMPORTED_MODULE_4__["UserService"],
            _ngrx_store__WEBPACK_IMPORTED_MODULE_5__["Store"],
            _src_app_services_utils_service__WEBPACK_IMPORTED_MODULE_8__["UtilsService"]])
    ], MenuComponent);
    return MenuComponent;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
var environment = {
    production: false,
    mock: false,
    serverUrl: 'https://stage-app.journeyinto.com',
    apiUrl: 'https://stage-api.journeyinto.com',
    apiVersion: 'v1',
    firebase: {},
    publishableApiKey: 'pk_test_1AhYcbqSg9GE4Py9P0bAtX5L00fO6oUuKP'
};
// // Uncomment for production settings
// export const environment = {
//        production: true,
//        mock: false,
//        serverUrl: 'https://stage-app.journeyinto.com',
//        apiUrl: 'https://api.journeyinto.com',
//        //  apiUrl: 'https://stage-app.journeyinto.com/api',
//        apiVersion: 'v1',
//        firebase: {},
//        publishableApiKey: 'pk_live_7xoHhhWyzM8jGN0nqr0OkEgr00IsY8p79f'
// };
// export const environment = {
//   production: true,
//   mock: false,
//   serverUrl: 'https://app.journeyinto.com',
//   apiUrl: 'https://api.journeyinto.com',
//   apiVersion: 'v1',
//   firebase: {
//     apiKey: "AIzaSyAWa7P2akqE9QnaMdxAaKb1YTTs7DZ9xV0",
//     authDomain: "journey-into-app.firebaseapp.com",
//     databaseURL: "https://journey-into-app.firebaseio.com",
//     projectId: "journey-into-app",
//     storageBucket: "",
//     messagingSenderId: "969231813561",
//     appId: "1:969231813561:web:2e89b730e86d2f4ce78468"
//   },
//   publishableApiKey: 'pk_live_7xoHhhWyzM8jGN0nqr0OkEgr00IsY8p79f'
// };


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /Users/khrebtov/Projects/journeyinto-frontend/src/main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.5b851628980b71c9930b.js.map